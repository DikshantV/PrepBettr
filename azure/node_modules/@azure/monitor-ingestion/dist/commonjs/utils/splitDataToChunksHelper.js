"use strict";
// Copyright (c) Microsoft Corporation.
// Licensed under the MIT License.
Object.defineProperty(exports, "__esModule", { value: true });
exports.splitDataToChunks = splitDataToChunks;
const getBinarySize_js_1 = require("./getBinarySize.js");
/**
 * @internal
 */
function splitDataToChunks(logs) {
    let chunk = [];
    const chunkArray = [];
    let size = 0;
    const maxBytes = 1000000;
    for (const element of logs) {
        const elementSize = (0, getBinarySize_js_1.getBinarySize)(JSON.stringify(element));
        if (size + elementSize < maxBytes) {
            chunk.push(element);
            size += elementSize;
        }
        else {
            if (chunk.length)
                chunkArray.push(chunk);
            chunk = [element];
            size = elementSize;
        }
    }
    if (chunk.length) {
        chunkArray.push(chunk);
    }
    return chunkArray;
}
//# sourceMappingURL=splitDataToChunksHelper.js.map