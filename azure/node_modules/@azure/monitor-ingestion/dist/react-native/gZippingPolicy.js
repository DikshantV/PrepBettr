// Copyright (c) Microsoft Corporation.
// Licensed under the MIT License.
import * as zlib from "zlib";
import { promisify } from "node:util";
const gzip = promisify(zlib.gzip);
/**
 * Name of the {@link gZippingPolicy}
 */
export const gZippingPolicyName = "GzippingPolicy";
export const GZippingPolicy = {
    name: gZippingPolicyName,
    sendRequest: async (req, next) => {
        if (req.body) {
            const buffer = await gzipping(req.body);
            req.body = buffer;
        }
        return next(req);
    },
};
function gzipping(body) {
    return gzip(body);
}
//# sourceMappingURL=gZippingPolicy.js.map