{"version":3,"names":["Object","defineProperty","exports","value","EmailVerificationBanner","_react","_interopRequireWildcard","require","_stickyBanner","_AuthContext","_lucideReact","_sonner","_jsxRuntime","cov_19m5pguv7r","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","_coverageSchema","coverage","actualCoverage","e","t","WeakMap","r","n","__esModule","o","i","__proto__","default","has","get","set","hasOwnProperty","call","getOwnPropertyDescriptor","user","useAuth","isLoading","setIsLoading","useState","shouldShowBanner","email_verified","handleVerifyClick","email","response","fetch","method","headers","data","json","ok","toast","success","error","console","jsx","StickyBanner","showBanner","message","hideOnScroll","className","children","onClick","disabled","Loader2","ArrowRight"],"sources":["EmailVerificationBanner.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { StickyBanner } from \"@/components/ui/sticky-banner\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { ArrowRight, Loader2 } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\nexport const EmailVerificationBanner = () => {\n  const { user } = useAuth();\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Only show banner if user exists and email is not verified\n  const shouldShowBanner = user && !user.email_verified;\n\n  const handleVerifyClick = async () => {\n    if (!user?.email || isLoading) return;\n\n    setIsLoading(true);\n    try {\n      const response = await fetch('/api/auth/resend-verification', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        toast.success('Verification email sent! Please check your inbox.');\n      } else {\n        toast.error(data.error || 'Failed to send verification email');\n      }\n    } catch (error) {\n      console.error('Error sending verification email:', error);\n      toast.error('Failed to send verification email. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <StickyBanner\n      showBanner={!!shouldShowBanner}\n      message=\"Please verify your email to get full access to the features\"\n      hideOnScroll={true}\n      className=\"bg-black\"\n    >\n      <button\n        onClick={handleVerifyClick}\n        disabled={isLoading}\n        className=\"ml-2 inline-flex items-center text-sm font-medium text-white hover:text-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n        aria-label=\"Resend verification email\"\n      >\n        {isLoading ? (\n          <Loader2 className=\"h-4 w-4 animate-spin\" />\n        ) : (\n          <ArrowRight className=\"h-4 w-4\" />\n        )}\n      </button>\n    </StickyBanner>\n  );\n};\n"],"mappings":"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","ignoreList":[]}