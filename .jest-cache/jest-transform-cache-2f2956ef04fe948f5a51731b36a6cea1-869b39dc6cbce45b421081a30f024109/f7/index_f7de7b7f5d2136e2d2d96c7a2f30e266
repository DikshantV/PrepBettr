21fba7e6fe19f373f87ebf24aeb71853
/* istanbul ignore next */
function cov_bhl4ux58n() {
  var path = "/Users/dikshantvashistha/PrepBettr/azure/unifiedAuth/index.js";
  var hash = "8c361854c2cbce48d24fe0cee887a34c2dfcefff";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/dikshantvashistha/PrepBettr/azure/unifiedAuth/index.js",
    statementMap: {
      "0": {
        start: {
          line: 18,
          column: 17
        },
        end: {
          line: 18,
          column: 47
        }
      },
      "1": {
        start: {
          line: 19,
          column: 26
        },
        end: {
          line: 19,
          column: 66
        }
      },
      "2": {
        start: {
          line: 23,
          column: 21
        },
        end: {
          line: 28,
          column: 1
        }
      },
      "3": {
        start: {
          line: 36,
          column: 2
        },
        end: {
          line: 36,
          column: 55
        }
      },
      "4": {
        start: {
          line: 38,
          column: 2
        },
        end: {
          line: 86,
          column: 3
        }
      },
      "5": {
        start: {
          line: 39,
          column: 24
        },
        end: {
          line: 39,
          column: 38
        }
      },
      "6": {
        start: {
          line: 40,
          column: 23
        },
        end: {
          line: 40,
          column: 77
        }
      },
      "7": {
        start: {
          line: 43,
          column: 18
        },
        end: {
          line: 43,
          column: 84
        }
      },
      "8": {
        start: {
          line: 45,
          column: 4
        },
        end: {
          line: 47,
          column: 5
        }
      },
      "9": {
        start: {
          line: 46,
          column: 6
        },
        end: {
          line: 46,
          column: 76
        }
      },
      "10": {
        start: {
          line: 49,
          column: 19
        },
        end: {
          line: 49,
          column: 54
        }
      },
      "11": {
        start: {
          line: 51,
          column: 4
        },
        end: {
          line: 81,
          column: 5
        }
      },
      "12": {
        start: {
          line: 52,
          column: 6
        },
        end: {
          line: 52,
          column: 78
        }
      },
      "13": {
        start: {
          line: 55,
          column: 6
        },
        end: {
          line: 77,
          column: 8
        }
      },
      "14": {
        start: {
          line: 79,
          column: 6
        },
        end: {
          line: 79,
          column: 64
        }
      },
      "15": {
        start: {
          line: 80,
          column: 6
        },
        end: {
          line: 80,
          column: 70
        }
      },
      "16": {
        start: {
          line: 84,
          column: 4
        },
        end: {
          line: 84,
          column: 58
        }
      },
      "17": {
        start: {
          line: 85,
          column: 4
        },
        end: {
          line: 85,
          column: 87
        }
      },
      "18": {
        start: {
          line: 93,
          column: 17
        },
        end: {
          line: 93,
          column: 41
        }
      },
      "19": {
        start: {
          line: 94,
          column: 2
        },
        end: {
          line: 94,
          column: 61
        }
      },
      "20": {
        start: {
          line: 96,
          column: 2
        },
        end: {
          line: 162,
          column: 3
        }
      },
      "21": {
        start: {
          line: 97,
          column: 4
        },
        end: {
          line: 155,
          column: 5
        }
      },
      "22": {
        start: {
          line: 99,
          column: 37
        },
        end: {
          line: 99,
          column: 51
        }
      },
      "23": {
        start: {
          line: 101,
          column: 6
        },
        end: {
          line: 103,
          column: 7
        }
      },
      "24": {
        start: {
          line: 102,
          column: 8
        },
        end: {
          line: 102,
          column: 81
        }
      },
      "25": {
        start: {
          line: 105,
          column: 21
        },
        end: {
          line: 105,
          column: 79
        }
      },
      "26": {
        start: {
          line: 107,
          column: 6
        },
        end: {
          line: 124,
          column: 7
        }
      },
      "27": {
        start: {
          line: 108,
          column: 8
        },
        end: {
          line: 108,
          column: 59
        }
      },
      "28": {
        start: {
          line: 110,
          column: 8
        },
        end: {
          line: 120,
          column: 10
        }
      },
      "29": {
        start: {
          line: 122,
          column: 8
        },
        end: {
          line: 122,
          column: 71
        }
      },
      "30": {
        start: {
          line: 123,
          column: 8
        },
        end: {
          line: 123,
          column: 81
        }
      },
      "31": {
        start: {
          line: 126,
          column: 11
        },
        end: {
          line: 155,
          column: 5
        }
      },
      "32": {
        start: {
          line: 128,
          column: 28
        },
        end: {
          line: 128,
          column: 86
        }
      },
      "33": {
        start: {
          line: 130,
          column: 6
        },
        end: {
          line: 132,
          column: 7
        }
      },
      "34": {
        start: {
          line: 131,
          column: 8
        },
        end: {
          line: 131,
          column: 88
        }
      },
      "35": {
        start: {
          line: 134,
          column: 21
        },
        end: {
          line: 134,
          column: 70
        }
      },
      "36": {
        start: {
          line: 136,
          column: 6
        },
        end: {
          line: 154,
          column: 7
        }
      },
      "37": {
        start: {
          line: 137,
          column: 8
        },
        end: {
          line: 137,
          column: 76
        }
      },
      "38": {
        start: {
          line: 139,
          column: 8
        },
        end: {
          line: 150,
          column: 10
        }
      },
      "39": {
        start: {
          line: 152,
          column: 8
        },
        end: {
          line: 152,
          column: 75
        }
      },
      "40": {
        start: {
          line: 153,
          column: 8
        },
        end: {
          line: 153,
          column: 72
        }
      },
      "41": {
        start: {
          line: 157,
          column: 4
        },
        end: {
          line: 157,
          column: 80
        }
      },
      "42": {
        start: {
          line: 160,
          column: 4
        },
        end: {
          line: 160,
          column: 64
        }
      },
      "43": {
        start: {
          line: 161,
          column: 4
        },
        end: {
          line: 161,
          column: 81
        }
      },
      "44": {
        start: {
          line: 169,
          column: 2
        },
        end: {
          line: 169,
          column: 54
        }
      },
      "45": {
        start: {
          line: 171,
          column: 2
        },
        end: {
          line: 208,
          column: 3
        }
      },
      "46": {
        start: {
          line: 172,
          column: 23
        },
        end: {
          line: 172,
          column: 77
        }
      },
      "47": {
        start: {
          line: 173,
          column: 41
        },
        end: {
          line: 173,
          column: 55
        }
      },
      "48": {
        start: {
          line: 175,
          column: 4
        },
        end: {
          line: 177,
          column: 5
        }
      },
      "49": {
        start: {
          line: 176,
          column: 6
        },
        end: {
          line: 176,
          column: 90
        }
      },
      "50": {
        start: {
          line: 179,
          column: 18
        },
        end: {
          line: 179,
          column: 51
        }
      },
      "51": {
        start: {
          line: 182,
          column: 23
        },
        end: {
          line: 182,
          column: 58
        }
      },
      "52": {
        start: {
          line: 183,
          column: 4
        },
        end: {
          line: 185,
          column: 5
        }
      },
      "53": {
        start: {
          line: 184,
          column: 6
        },
        end: {
          line: 184,
          column: 78
        }
      },
      "54": {
        start: {
          line: 188,
          column: 30
        },
        end: {
          line: 188,
          column: 99
        }
      },
      "55": {
        start: {
          line: 190,
          column: 4
        },
        end: {
          line: 190,
          column: 128
        }
      },
      "56": {
        start: {
          line: 192,
          column: 4
        },
        end: {
          line: 203,
          column: 6
        }
      },
      "57": {
        start: {
          line: 206,
          column: 4
        },
        end: {
          line: 206,
          column: 56
        }
      },
      "58": {
        start: {
          line: 207,
          column: 4
        },
        end: {
          line: 207,
          column: 83
        }
      },
      "59": {
        start: {
          line: 215,
          column: 2
        },
        end: {
          line: 215,
          column: 50
        }
      },
      "60": {
        start: {
          line: 217,
          column: 2
        },
        end: {
          line: 261,
          column: 3
        }
      },
      "61": {
        start: {
          line: 218,
          column: 23
        },
        end: {
          line: 218,
          column: 77
        }
      },
      "62": {
        start: {
          line: 219,
          column: 28
        },
        end: {
          line: 219,
          column: 42
        }
      },
      "63": {
        start: {
          line: 221,
          column: 4
        },
        end: {
          line: 223,
          column: 5
        }
      },
      "64": {
        start: {
          line: 222,
          column: 6
        },
        end: {
          line: 222,
          column: 90
        }
      },
      "65": {
        start: {
          line: 225,
          column: 4
        },
        end: {
          line: 227,
          column: 5
        }
      },
      "66": {
        start: {
          line: 226,
          column: 6
        },
        end: {
          line: 226,
          column: 91
        }
      },
      "67": {
        start: {
          line: 229,
          column: 18
        },
        end: {
          line: 229,
          column: 51
        }
      },
      "68": {
        start: {
          line: 232,
          column: 23
        },
        end: {
          line: 232,
          column: 58
        }
      },
      "69": {
        start: {
          line: 233,
          column: 4
        },
        end: {
          line: 235,
          column: 5
        }
      },
      "70": {
        start: {
          line: 234,
          column: 6
        },
        end: {
          line: 234,
          column: 78
        }
      },
      "71": {
        start: {
          line: 238,
          column: 19
        },
        end: {
          line: 238,
          column: 83
        }
      },
      "72": {
        start: {
          line: 240,
          column: 4
        },
        end: {
          line: 256,
          column: 5
        }
      },
      "73": {
        start: {
          line: 241,
          column: 6
        },
        end: {
          line: 241,
          column: 69
        }
      },
      "74": {
        start: {
          line: 243,
          column: 6
        },
        end: {
          line: 252,
          column: 8
        }
      },
      "75": {
        start: {
          line: 254,
          column: 6
        },
        end: {
          line: 254,
          column: 59
        }
      },
      "76": {
        start: {
          line: 255,
          column: 6
        },
        end: {
          line: 255,
          column: 76
        }
      },
      "77": {
        start: {
          line: 259,
          column: 4
        },
        end: {
          line: 259,
          column: 53
        }
      },
      "78": {
        start: {
          line: 260,
          column: 4
        },
        end: {
          line: 260,
          column: 86
        }
      },
      "79": {
        start: {
          line: 268,
          column: 2
        },
        end: {
          line: 268,
          column: 49
        }
      },
      "80": {
        start: {
          line: 270,
          column: 2
        },
        end: {
          line: 300,
          column: 3
        }
      },
      "81": {
        start: {
          line: 271,
          column: 19
        },
        end: {
          line: 271,
          column: 47
        }
      },
      "82": {
        start: {
          line: 272,
          column: 19
        },
        end: {
          line: 272,
          column: 43
        }
      },
      "83": {
        start: {
          line: 274,
          column: 23
        },
        end: {
          line: 285,
          column: 5
        }
      },
      "84": {
        start: {
          line: 287,
          column: 4
        },
        end: {
          line: 289,
          column: 5
        }
      },
      "85": {
        start: {
          line: 288,
          column: 6
        },
        end: {
          line: 288,
          column: 38
        }
      },
      "86": {
        start: {
          line: 291,
          column: 4
        },
        end: {
          line: 295,
          column: 6
        }
      },
      "87": {
        start: {
          line: 298,
          column: 4
        },
        end: {
          line: 298,
          column: 52
        }
      },
      "88": {
        start: {
          line: 299,
          column: 4
        },
        end: {
          line: 299,
          column: 81
        }
      },
      "89": {
        start: {
          line: 309,
          column: 20
        },
        end: {
          line: 309,
          column: 30
        }
      },
      "90": {
        start: {
          line: 310,
          column: 2
        },
        end: {
          line: 310,
          column: 66
        }
      },
      "91": {
        start: {
          line: 313,
          column: 2
        },
        end: {
          line: 320,
          column: 3
        }
      },
      "92": {
        start: {
          line: 314,
          column: 4
        },
        end: {
          line: 318,
          column: 6
        }
      },
      "93": {
        start: {
          line: 319,
          column: 4
        },
        end: {
          line: 319,
          column: 11
        }
      },
      "94": {
        start: {
          line: 322,
          column: 2
        },
        end: {
          line: 364,
          column: 3
        }
      },
      "95": {
        start: {
          line: 323,
          column: 19
        },
        end: {
          line: 323,
          column: 47
        }
      },
      "96": {
        start: {
          line: 326,
          column: 4
        },
        end: {
          line: 326,
          column: 48
        }
      },
      "97": {
        start: {
          line: 328,
          column: 4
        },
        end: {
          line: 352,
          column: 5
        }
      },
      "98": {
        start: {
          line: 330,
          column: 8
        },
        end: {
          line: 330,
          column: 57
        }
      },
      "99": {
        start: {
          line: 331,
          column: 8
        },
        end: {
          line: 331,
          column: 14
        }
      },
      "100": {
        start: {
          line: 334,
          column: 8
        },
        end: {
          line: 334,
          column: 59
        }
      },
      "101": {
        start: {
          line: 335,
          column: 8
        },
        end: {
          line: 335,
          column: 14
        }
      },
      "102": {
        start: {
          line: 338,
          column: 8
        },
        end: {
          line: 338,
          column: 57
        }
      },
      "103": {
        start: {
          line: 339,
          column: 8
        },
        end: {
          line: 339,
          column: 14
        }
      },
      "104": {
        start: {
          line: 342,
          column: 8
        },
        end: {
          line: 342,
          column: 58
        }
      },
      "105": {
        start: {
          line: 343,
          column: 8
        },
        end: {
          line: 343,
          column: 14
        }
      },
      "106": {
        start: {
          line: 347,
          column: 8
        },
        end: {
          line: 347,
          column: 57
        }
      },
      "107": {
        start: {
          line: 348,
          column: 8
        },
        end: {
          line: 348,
          column: 14
        }
      },
      "108": {
        start: {
          line: 351,
          column: 8
        },
        end: {
          line: 351,
          column: 91
        }
      },
      "109": {
        start: {
          line: 354,
          column: 21
        },
        end: {
          line: 354,
          column: 43
        }
      },
      "110": {
        start: {
          line: 355,
          column: 4
        },
        end: {
          line: 355,
          column: 83
        }
      },
      "111": {
        start: {
          line: 357,
          column: 4
        },
        end: {
          line: 357,
          column: 27
        }
      },
      "112": {
        start: {
          line: 360,
          column: 21
        },
        end: {
          line: 360,
          column: 43
        }
      },
      "113": {
        start: {
          line: 361,
          column: 4
        },
        end: {
          line: 361,
          column: 77
        }
      },
      "114": {
        start: {
          line: 363,
          column: 4
        },
        end: {
          line: 363,
          column: 86
        }
      },
      "115": {
        start: {
          line: 373,
          column: 2
        },
        end: {
          line: 383,
          column: 4
        }
      },
      "116": {
        start: {
          line: 389,
          column: 32
        },
        end: {
          line: 389,
          column: 81
        }
      },
      "117": {
        start: {
          line: 393,
          column: 0
        },
        end: {
          line: 393,
          column: 41
        }
      },
      "118": {
        start: {
          line: 398,
          column: 0
        },
        end: {
          line: 404,
          column: 2
        }
      },
      "119": {
        start: {
          line: 406,
          column: 0
        },
        end: {
          line: 409,
          column: 2
        }
      }
    },
    fnMap: {
      "0": {
        name: "handleVerifyToken",
        decl: {
          start: {
            line: 35,
            column: 15
          },
          end: {
            line: 35,
            column: 32
          }
        },
        loc: {
          start: {
            line: 35,
            column: 47
          },
          end: {
            line: 87,
            column: 1
          }
        },
        line: 35
      },
      "1": {
        name: "handleSessionCookie",
        decl: {
          start: {
            line: 92,
            column: 15
          },
          end: {
            line: 92,
            column: 34
          }
        },
        loc: {
          start: {
            line: 92,
            column: 49
          },
          end: {
            line: 163,
            column: 1
          }
        },
        line: 92
      },
      "2": {
        name: "handlePermissions",
        decl: {
          start: {
            line: 168,
            column: 15
          },
          end: {
            line: 168,
            column: 32
          }
        },
        loc: {
          start: {
            line: 168,
            column: 47
          },
          end: {
            line: 209,
            column: 1
          }
        },
        line: 168
      },
      "3": {
        name: "handleCustomClaims",
        decl: {
          start: {
            line: 214,
            column: 15
          },
          end: {
            line: 214,
            column: 33
          }
        },
        loc: {
          start: {
            line: 214,
            column: 48
          },
          end: {
            line: 262,
            column: 1
          }
        },
        line: 214
      },
      "4": {
        name: "handleHealthCheck",
        decl: {
          start: {
            line: 267,
            column: 15
          },
          end: {
            line: 267,
            column: 32
          }
        },
        loc: {
          start: {
            line: 267,
            column: 47
          },
          end: {
            line: 301,
            column: 1
          }
        },
        line: 267
      },
      "5": {
        name: "unifiedAuthHandler",
        decl: {
          start: {
            line: 308,
            column: 15
          },
          end: {
            line: 308,
            column: 33
          }
        },
        loc: {
          start: {
            line: 308,
            column: 48
          },
          end: {
            line: 365,
            column: 1
          }
        },
        line: 308
      },
      "6": {
        name: "createErrorResponse",
        decl: {
          start: {
            line: 372,
            column: 9
          },
          end: {
            line: 372,
            column: 28
          }
        },
        loc: {
          start: {
            line: 372,
            column: 52
          },
          end: {
            line: 384,
            column: 1
          }
        },
        line: 372
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 39,
            column: 24
          },
          end: {
            line: 39,
            column: 38
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 39,
            column: 24
          },
          end: {
            line: 39,
            column: 32
          }
        }, {
          start: {
            line: 39,
            column: 36
          },
          end: {
            line: 39,
            column: 38
          }
        }],
        line: 39
      },
      "1": {
        loc: {
          start: {
            line: 40,
            column: 23
          },
          end: {
            line: 40,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 40,
            column: 23
          },
          end: {
            line: 40,
            column: 48
          }
        }, {
          start: {
            line: 40,
            column: 52
          },
          end: {
            line: 40,
            column: 77
          }
        }],
        line: 40
      },
      "2": {
        loc: {
          start: {
            line: 43,
            column: 18
          },
          end: {
            line: 43,
            column: 84
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 43,
            column: 18
          },
          end: {
            line: 43,
            column: 25
          }
        }, {
          start: {
            line: 43,
            column: 30
          },
          end: {
            line: 43,
            column: 83
          }
        }],
        line: 43
      },
      "3": {
        loc: {
          start: {
            line: 43,
            column: 30
          },
          end: {
            line: 43,
            column: 83
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 43,
            column: 43
          },
          end: {
            line: 43,
            column: 76
          }
        }, {
          start: {
            line: 43,
            column: 79
          },
          end: {
            line: 43,
            column: 83
          }
        }],
        line: 43
      },
      "4": {
        loc: {
          start: {
            line: 45,
            column: 4
          },
          end: {
            line: 47,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 45,
            column: 4
          },
          end: {
            line: 47,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 45
      },
      "5": {
        loc: {
          start: {
            line: 51,
            column: 4
          },
          end: {
            line: 81,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 51,
            column: 4
          },
          end: {
            line: 81,
            column: 5
          }
        }, {
          start: {
            line: 78,
            column: 11
          },
          end: {
            line: 81,
            column: 5
          }
        }],
        line: 51
      },
      "6": {
        loc: {
          start: {
            line: 70,
            column: 51
          },
          end: {
            line: 70,
            column: 94
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 70,
            column: 51
          },
          end: {
            line: 70,
            column: 81
          }
        }, {
          start: {
            line: 70,
            column: 85
          },
          end: {
            line: 70,
            column: 94
          }
        }],
        line: 70
      },
      "7": {
        loc: {
          start: {
            line: 71,
            column: 17
          },
          end: {
            line: 71,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 71,
            column: 17
          },
          end: {
            line: 71,
            column: 47
          }
        }, {
          start: {
            line: 71,
            column: 51
          },
          end: {
            line: 71,
            column: 60
          }
        }],
        line: 71
      },
      "8": {
        loc: {
          start: {
            line: 97,
            column: 4
          },
          end: {
            line: 155,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 97,
            column: 4
          },
          end: {
            line: 155,
            column: 5
          }
        }, {
          start: {
            line: 126,
            column: 11
          },
          end: {
            line: 155,
            column: 5
          }
        }],
        line: 97
      },
      "9": {
        loc: {
          start: {
            line: 99,
            column: 37
          },
          end: {
            line: 99,
            column: 51
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 99,
            column: 37
          },
          end: {
            line: 99,
            column: 45
          }
        }, {
          start: {
            line: 99,
            column: 49
          },
          end: {
            line: 99,
            column: 51
          }
        }],
        line: 99
      },
      "10": {
        loc: {
          start: {
            line: 101,
            column: 6
          },
          end: {
            line: 103,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 101,
            column: 6
          },
          end: {
            line: 103,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 101
      },
      "11": {
        loc: {
          start: {
            line: 107,
            column: 6
          },
          end: {
            line: 124,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 107,
            column: 6
          },
          end: {
            line: 124,
            column: 7
          }
        }, {
          start: {
            line: 121,
            column: 13
          },
          end: {
            line: 124,
            column: 7
          }
        }],
        line: 107
      },
      "12": {
        loc: {
          start: {
            line: 126,
            column: 11
          },
          end: {
            line: 155,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 126,
            column: 11
          },
          end: {
            line: 155,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 126
      },
      "13": {
        loc: {
          start: {
            line: 128,
            column: 28
          },
          end: {
            line: 128,
            column: 86
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 128,
            column: 28
          },
          end: {
            line: 128,
            column: 51
          }
        }, {
          start: {
            line: 128,
            column: 55
          },
          end: {
            line: 128,
            column: 86
          }
        }],
        line: 128
      },
      "14": {
        loc: {
          start: {
            line: 130,
            column: 6
          },
          end: {
            line: 132,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 130,
            column: 6
          },
          end: {
            line: 132,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 130
      },
      "15": {
        loc: {
          start: {
            line: 136,
            column: 6
          },
          end: {
            line: 154,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 136,
            column: 6
          },
          end: {
            line: 154,
            column: 7
          }
        }, {
          start: {
            line: 151,
            column: 13
          },
          end: {
            line: 154,
            column: 7
          }
        }],
        line: 136
      },
      "16": {
        loc: {
          start: {
            line: 172,
            column: 23
          },
          end: {
            line: 172,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 172,
            column: 23
          },
          end: {
            line: 172,
            column: 48
          }
        }, {
          start: {
            line: 172,
            column: 52
          },
          end: {
            line: 172,
            column: 77
          }
        }],
        line: 172
      },
      "17": {
        loc: {
          start: {
            line: 173,
            column: 12
          },
          end: {
            line: 173,
            column: 36
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 173,
            column: 34
          },
          end: {
            line: 173,
            column: 36
          }
        }],
        line: 173
      },
      "18": {
        loc: {
          start: {
            line: 173,
            column: 41
          },
          end: {
            line: 173,
            column: 55
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 173,
            column: 41
          },
          end: {
            line: 173,
            column: 49
          }
        }, {
          start: {
            line: 173,
            column: 53
          },
          end: {
            line: 173,
            column: 55
          }
        }],
        line: 173
      },
      "19": {
        loc: {
          start: {
            line: 175,
            column: 4
          },
          end: {
            line: 177,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 175,
            column: 4
          },
          end: {
            line: 177,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 175
      },
      "20": {
        loc: {
          start: {
            line: 183,
            column: 4
          },
          end: {
            line: 185,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 183,
            column: 4
          },
          end: {
            line: 185,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 183
      },
      "21": {
        loc: {
          start: {
            line: 183,
            column: 8
          },
          end: {
            line: 183,
            column: 47
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 183,
            column: 8
          },
          end: {
            line: 183,
            column: 27
          }
        }, {
          start: {
            line: 183,
            column: 31
          },
          end: {
            line: 183,
            column: 47
          }
        }],
        line: 183
      },
      "22": {
        loc: {
          start: {
            line: 190,
            column: 69
          },
          end: {
            line: 190,
            column: 124
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 190,
            column: 104
          },
          end: {
            line: 190,
            column: 113
          }
        }, {
          start: {
            line: 190,
            column: 116
          },
          end: {
            line: 190,
            column: 124
          }
        }],
        line: 190
      },
      "23": {
        loc: {
          start: {
            line: 218,
            column: 23
          },
          end: {
            line: 218,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 218,
            column: 23
          },
          end: {
            line: 218,
            column: 48
          }
        }, {
          start: {
            line: 218,
            column: 52
          },
          end: {
            line: 218,
            column: 77
          }
        }],
        line: 218
      },
      "24": {
        loc: {
          start: {
            line: 219,
            column: 28
          },
          end: {
            line: 219,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 219,
            column: 28
          },
          end: {
            line: 219,
            column: 36
          }
        }, {
          start: {
            line: 219,
            column: 40
          },
          end: {
            line: 219,
            column: 42
          }
        }],
        line: 219
      },
      "25": {
        loc: {
          start: {
            line: 221,
            column: 4
          },
          end: {
            line: 223,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 221,
            column: 4
          },
          end: {
            line: 223,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 221
      },
      "26": {
        loc: {
          start: {
            line: 225,
            column: 4
          },
          end: {
            line: 227,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 225,
            column: 4
          },
          end: {
            line: 227,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 225
      },
      "27": {
        loc: {
          start: {
            line: 225,
            column: 8
          },
          end: {
            line: 225,
            column: 23
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 225,
            column: 8
          },
          end: {
            line: 225,
            column: 12
          }
        }, {
          start: {
            line: 225,
            column: 16
          },
          end: {
            line: 225,
            column: 23
          }
        }],
        line: 225
      },
      "28": {
        loc: {
          start: {
            line: 233,
            column: 4
          },
          end: {
            line: 235,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 233,
            column: 4
          },
          end: {
            line: 235,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 233
      },
      "29": {
        loc: {
          start: {
            line: 233,
            column: 8
          },
          end: {
            line: 233,
            column: 47
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 233,
            column: 8
          },
          end: {
            line: 233,
            column: 27
          }
        }, {
          start: {
            line: 233,
            column: 31
          },
          end: {
            line: 233,
            column: 47
          }
        }],
        line: 233
      },
      "30": {
        loc: {
          start: {
            line: 240,
            column: 4
          },
          end: {
            line: 256,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 240,
            column: 4
          },
          end: {
            line: 256,
            column: 5
          }
        }, {
          start: {
            line: 253,
            column: 11
          },
          end: {
            line: 256,
            column: 5
          }
        }],
        line: 240
      },
      "31": {
        loc: {
          start: {
            line: 287,
            column: 4
          },
          end: {
            line: 289,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 287,
            column: 4
          },
          end: {
            line: 289,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 287
      },
      "32": {
        loc: {
          start: {
            line: 292,
            column: 14
          },
          end: {
            line: 292,
            column: 53
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 292,
            column: 44
          },
          end: {
            line: 292,
            column: 47
          }
        }, {
          start: {
            line: 292,
            column: 50
          },
          end: {
            line: 292,
            column: 53
          }
        }],
        line: 292
      },
      "33": {
        loc: {
          start: {
            line: 313,
            column: 2
          },
          end: {
            line: 320,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 313,
            column: 2
          },
          end: {
            line: 320,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 313
      },
      "34": {
        loc: {
          start: {
            line: 323,
            column: 19
          },
          end: {
            line: 323,
            column: 47
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 323,
            column: 19
          },
          end: {
            line: 323,
            column: 35
          }
        }, {
          start: {
            line: 323,
            column: 39
          },
          end: {
            line: 323,
            column: 47
          }
        }],
        line: 323
      },
      "35": {
        loc: {
          start: {
            line: 328,
            column: 4
          },
          end: {
            line: 352,
            column: 5
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 329,
            column: 6
          },
          end: {
            line: 331,
            column: 14
          }
        }, {
          start: {
            line: 333,
            column: 6
          },
          end: {
            line: 335,
            column: 14
          }
        }, {
          start: {
            line: 337,
            column: 6
          },
          end: {
            line: 339,
            column: 14
          }
        }, {
          start: {
            line: 341,
            column: 6
          },
          end: {
            line: 343,
            column: 14
          }
        }, {
          start: {
            line: 345,
            column: 6
          },
          end: {
            line: 345,
            column: 20
          }
        }, {
          start: {
            line: 346,
            column: 6
          },
          end: {
            line: 348,
            column: 14
          }
        }, {
          start: {
            line: 350,
            column: 6
          },
          end: {
            line: 351,
            column: 91
          }
        }],
        line: 328
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0, 0, 0, 0, 0, 0]
    },
    inputSourceMap: null,
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "8c361854c2cbce48d24fe0cee887a34c2dfcefff"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_bhl4ux58n = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_bhl4ux58n();
/**
 * Unified Authentication Azure Function
 * 
 * Consolidates all Firebase authentication endpoints into a single HTTP trigger.
 * Replaces: verifyToken, verifyPermissions, verifySessionCookie, createSessionCookie
 * 
 * Routes:
 * - POST /api/unifiedAuth?action=verify         → Token verification
 * - POST /api/unifiedAuth?action=session        → Session cookie creation/validation  
 * - POST /api/unifiedAuth?action=permissions    → Permission checking
 * - POST /api/unifiedAuth?action=claims         → Custom claims management (admin)
 * - GET  /api/unifiedAuth?action=status         → Health check
 * 
 * @version 2.0.0
 * @author PrepBettr Platform Team
 */

const coreAuth =
/* istanbul ignore next */
(cov_bhl4ux58n().s[0]++, require('../shared/core-auth'));
const {
  withTelemetry
} =
/* istanbul ignore next */
(cov_bhl4ux58n().s[1]++, require('../shared/core-auth/telemetry'));

// ===== CORS CONFIGURATION =====

const CORS_HEADERS =
/* istanbul ignore next */
(cov_bhl4ux58n().s[2]++, {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Methods': 'GET, POST, OPTIONS',
  'Access-Control-Allow-Headers': 'Content-Type, Authorization, X-Functions-Key',
  'Content-Type': 'application/json'
});

// ===== REQUEST HANDLERS =====

/**
 * Handle token verification requests
 */
async function handleVerifyToken(context, req) {
  /* istanbul ignore next */
  cov_bhl4ux58n().f[0]++;
  cov_bhl4ux58n().s[3]++;
  context.log('Processing token verification request');
  /* istanbul ignore next */
  cov_bhl4ux58n().s[4]++;
  try {
    const {
      idToken
    } =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[5]++,
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[0][0]++, req.body) ||
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[0][1]++, {}));
    const authHeader =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[6]++,
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[1][0]++, req.headers.authorization) ||
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[1][1]++, req.headers.Authorization));

    // Get token from body or Authorization header
    const token =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[7]++,
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[2][0]++, idToken) ||
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[2][1]++, authHeader ?
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[3][0]++, authHeader.replace('Bearer ', '')) :
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[3][1]++, null)));
    /* istanbul ignore next */
    cov_bhl4ux58n().s[8]++;
    if (!token) {
      /* istanbul ignore next */
      cov_bhl4ux58n().b[4][0]++;
      cov_bhl4ux58n().s[9]++;
      return createErrorResponse(400, 'No token provided', 'MISSING_TOKEN');
    } else
    /* istanbul ignore next */
    {
      cov_bhl4ux58n().b[4][1]++;
    }
    const result =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[10]++, await coreAuth.verifyIdToken(token));
    /* istanbul ignore next */
    cov_bhl4ux58n().s[11]++;
    if (result.success) {
      /* istanbul ignore next */
      cov_bhl4ux58n().b[5][0]++;
      cov_bhl4ux58n().s[12]++;
      context.log(`Token verified successfully for user: ${result.user.uid}`);

      // Return format matching Firebase Cloud Function response
      /* istanbul ignore next */
      cov_bhl4ux58n().s[13]++;
      return {
        status: 200,
        headers: CORS_HEADERS,
        body: JSON.stringify({
          success: true,
          uid: result.user.uid,
          email: result.user.email,
          verified: true,
          verificationMethod: result.verificationMethod,
          claims: {
            uid: result.user.uid,
            email: result.user.email,
            email_verified: result.user.email_verified,
            name: result.user.name,
            picture: result.user.picture,
            iss: `https://securetoken.google.com/${
            /* istanbul ignore next */
            (cov_bhl4ux58n().b[6][0]++, result.user.custom_claims?.aud) ||
            /* istanbul ignore next */
            (cov_bhl4ux58n().b[6][1]++, 'unknown')}`,
            aud:
            /* istanbul ignore next */
            (cov_bhl4ux58n().b[7][0]++, result.user.custom_claims?.aud) ||
            /* istanbul ignore next */
            (cov_bhl4ux58n().b[7][1]++, 'unknown'),
            auth_time: result.user.auth_time,
            iat: result.user.iat,
            exp: result.user.exp
          }
        })
      };
    } else {
      /* istanbul ignore next */
      cov_bhl4ux58n().b[5][1]++;
      cov_bhl4ux58n().s[14]++;
      context.log(`Token verification failed: ${result.error}`);
      /* istanbul ignore next */
      cov_bhl4ux58n().s[15]++;
      return createErrorResponse(401, result.error, result.errorCode);
    }
  } catch (error) {
    /* istanbul ignore next */
    cov_bhl4ux58n().s[16]++;
    context.log.error('Token verification error:', error);
    /* istanbul ignore next */
    cov_bhl4ux58n().s[17]++;
    return createErrorResponse(500, 'Token verification failed', 'VERIFICATION_ERROR');
  }
}

/**
 * Handle session cookie operations (creation and validation)
 */
async function handleSessionCookie(context, req) {
  /* istanbul ignore next */
  cov_bhl4ux58n().f[1]++;
  const method =
  /* istanbul ignore next */
  (cov_bhl4ux58n().s[18]++, req.method.toUpperCase());
  /* istanbul ignore next */
  cov_bhl4ux58n().s[19]++;
  context.log(`Processing session cookie ${method} request`);
  /* istanbul ignore next */
  cov_bhl4ux58n().s[20]++;
  try {
    /* istanbul ignore next */
    cov_bhl4ux58n().s[21]++;
    if (method === 'POST') {
      /* istanbul ignore next */
      cov_bhl4ux58n().b[8][0]++;
      // Create session cookie
      const {
        idToken,
        expiresIn
      } =
      /* istanbul ignore next */
      (cov_bhl4ux58n().s[22]++,
      /* istanbul ignore next */
      (cov_bhl4ux58n().b[9][0]++, req.body) ||
      /* istanbul ignore next */
      (cov_bhl4ux58n().b[9][1]++, {}));
      /* istanbul ignore next */
      cov_bhl4ux58n().s[23]++;
      if (!idToken) {
        /* istanbul ignore next */
        cov_bhl4ux58n().b[10][0]++;
        cov_bhl4ux58n().s[24]++;
        return createErrorResponse(400, 'ID token is required', 'MISSING_TOKEN');
      } else
      /* istanbul ignore next */
      {
        cov_bhl4ux58n().b[10][1]++;
      }
      const result =
      /* istanbul ignore next */
      (cov_bhl4ux58n().s[25]++, await coreAuth.createSessionCookie(idToken, {
        expiresIn
      }));
      /* istanbul ignore next */
      cov_bhl4ux58n().s[26]++;
      if (result.success) {
        /* istanbul ignore next */
        cov_bhl4ux58n().b[11][0]++;
        cov_bhl4ux58n().s[27]++;
        context.log('Session cookie created successfully');
        /* istanbul ignore next */
        cov_bhl4ux58n().s[28]++;
        return {
          status: 200,
          headers: CORS_HEADERS,
          body: JSON.stringify({
            success: true,
            sessionCookie: result.sessionCookie,
            expiresIn: result.expiresIn,
            expiresAt: new Date(Date.now() + result.expiresIn).toISOString(),
            method: 'azure-unified-auth'
          })
        };
      } else {
        /* istanbul ignore next */
        cov_bhl4ux58n().b[11][1]++;
        cov_bhl4ux58n().s[29]++;
        context.log(`Session cookie creation failed: ${result.error}`);
        /* istanbul ignore next */
        cov_bhl4ux58n().s[30]++;
        return createErrorResponse(400, result.error, 'SESSION_CREATION_FAILED');
      }
    } else {
      /* istanbul ignore next */
      cov_bhl4ux58n().b[8][1]++;
      cov_bhl4ux58n().s[31]++;
      if (method === 'GET') {
        /* istanbul ignore next */
        cov_bhl4ux58n().b[12][0]++;
        // Verify session cookie
        const sessionCookie =
        /* istanbul ignore next */
        (cov_bhl4ux58n().s[32]++,
        /* istanbul ignore next */
        (cov_bhl4ux58n().b[13][0]++, req.query.sessionCookie) ||
        /* istanbul ignore next */
        (cov_bhl4ux58n().b[13][1]++, req.headers['x-session-cookie']));
        /* istanbul ignore next */
        cov_bhl4ux58n().s[33]++;
        if (!sessionCookie) {
          /* istanbul ignore next */
          cov_bhl4ux58n().b[14][0]++;
          cov_bhl4ux58n().s[34]++;
          return createErrorResponse(400, 'Session cookie is required', 'MISSING_COOKIE');
        } else
        /* istanbul ignore next */
        {
          cov_bhl4ux58n().b[14][1]++;
        }
        const result =
        /* istanbul ignore next */
        (cov_bhl4ux58n().s[35]++, await coreAuth.verifySessionCookie(sessionCookie));
        /* istanbul ignore next */
        cov_bhl4ux58n().s[36]++;
        if (result.success) {
          /* istanbul ignore next */
          cov_bhl4ux58n().b[15][0]++;
          cov_bhl4ux58n().s[37]++;
          context.log(`Session cookie verified for user: ${result.user.uid}`);
          /* istanbul ignore next */
          cov_bhl4ux58n().s[38]++;
          return {
            status: 200,
            headers: CORS_HEADERS,
            body: JSON.stringify({
              success: true,
              uid: result.user.uid,
              email: result.user.email,
              verified: true,
              verificationMethod: result.verificationMethod,
              claims: result.user
            })
          };
        } else {
          /* istanbul ignore next */
          cov_bhl4ux58n().b[15][1]++;
          cov_bhl4ux58n().s[39]++;
          context.log(`Session cookie verification failed: ${result.error}`);
          /* istanbul ignore next */
          cov_bhl4ux58n().s[40]++;
          return createErrorResponse(401, result.error, result.errorCode);
        }
      } else
      /* istanbul ignore next */
      {
        cov_bhl4ux58n().b[12][1]++;
      }
    }
    /* istanbul ignore next */
    cov_bhl4ux58n().s[41]++;
    return createErrorResponse(405, 'Method not allowed', 'METHOD_NOT_ALLOWED');
  } catch (error) {
    /* istanbul ignore next */
    cov_bhl4ux58n().s[42]++;
    context.log.error('Session cookie operation error:', error);
    /* istanbul ignore next */
    cov_bhl4ux58n().s[43]++;
    return createErrorResponse(500, 'Session operation failed', 'SESSION_ERROR');
  }
}

/**
 * Handle permission checking requests
 */
async function handlePermissions(context, req) {
  /* istanbul ignore next */
  cov_bhl4ux58n().f[2]++;
  cov_bhl4ux58n().s[44]++;
  context.log('Processing permissions check request');
  /* istanbul ignore next */
  cov_bhl4ux58n().s[45]++;
  try {
    const authHeader =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[46]++,
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[16][0]++, req.headers.authorization) ||
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[16][1]++, req.headers.Authorization));
    const {
      requiredPermissions =
      /* istanbul ignore next */
      (cov_bhl4ux58n().b[17][0]++, [])
    } =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[47]++,
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[18][0]++, req.body) ||
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[18][1]++, {}));
    /* istanbul ignore next */
    cov_bhl4ux58n().s[48]++;
    if (!authHeader) {
      /* istanbul ignore next */
      cov_bhl4ux58n().b[19][0]++;
      cov_bhl4ux58n().s[49]++;
      return createErrorResponse(400, 'Authorization header is required', 'MISSING_AUTH');
    } else
    /* istanbul ignore next */
    {
      cov_bhl4ux58n().b[19][1]++;
    }
    const token =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[50]++, authHeader.replace('Bearer ', ''));

    // First verify the token
    const authResult =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[51]++, await coreAuth.verifyIdToken(token));
    /* istanbul ignore next */
    cov_bhl4ux58n().s[52]++;
    if (
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[21][0]++, !authResult.success) ||
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[21][1]++, !authResult.user)) {
      /* istanbul ignore next */
      cov_bhl4ux58n().b[20][0]++;
      cov_bhl4ux58n().s[53]++;
      return createErrorResponse(401, authResult.error, authResult.errorCode);
    } else
    /* istanbul ignore next */
    {
      cov_bhl4ux58n().b[20][1]++;
    }

    // Check permissions
    const permissionsResult =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[54]++, await coreAuth.checkPermissions(authResult.user, requiredPermissions));
    /* istanbul ignore next */
    cov_bhl4ux58n().s[55]++;
    context.log(`Permission check for user ${authResult.user.uid}: ${permissionsResult.hasPermissions ?
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[22][0]++, 'GRANTED') :
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[22][1]++, 'DENIED')}`);
    /* istanbul ignore next */
    cov_bhl4ux58n().s[56]++;
    return {
      status: 200,
      headers: CORS_HEADERS,
      body: JSON.stringify({
        success: true,
        hasPermissions: permissionsResult.hasPermissions,
        permissions: permissionsResult.userPermissions,
        roles: permissionsResult.userRoles,
        uid: authResult.user.uid,
        requiredPermissions: permissionsResult.requiredPermissions
      })
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_bhl4ux58n().s[57]++;
    context.log.error('Permission check error:', error);
    /* istanbul ignore next */
    cov_bhl4ux58n().s[58]++;
    return createErrorResponse(500, 'Permission check failed', 'PERMISSION_ERROR');
  }
}

/**
 * Handle custom claims management (admin only)
 */
async function handleCustomClaims(context, req) {
  /* istanbul ignore next */
  cov_bhl4ux58n().f[3]++;
  cov_bhl4ux58n().s[59]++;
  context.log('Processing custom claims request');
  /* istanbul ignore next */
  cov_bhl4ux58n().s[60]++;
  try {
    const authHeader =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[61]++,
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[23][0]++, req.headers.authorization) ||
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[23][1]++, req.headers.Authorization));
    const {
      uid,
      claims
    } =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[62]++,
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[24][0]++, req.body) ||
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[24][1]++, {}));
    /* istanbul ignore next */
    cov_bhl4ux58n().s[63]++;
    if (!authHeader) {
      /* istanbul ignore next */
      cov_bhl4ux58n().b[25][0]++;
      cov_bhl4ux58n().s[64]++;
      return createErrorResponse(400, 'Authorization header is required', 'MISSING_AUTH');
    } else
    /* istanbul ignore next */
    {
      cov_bhl4ux58n().b[25][1]++;
    }
    cov_bhl4ux58n().s[65]++;
    if (
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[27][0]++, !uid) ||
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[27][1]++, !claims)) {
      /* istanbul ignore next */
      cov_bhl4ux58n().b[26][0]++;
      cov_bhl4ux58n().s[66]++;
      return createErrorResponse(400, 'UID and claims are required', 'MISSING_PARAMETERS');
    } else
    /* istanbul ignore next */
    {
      cov_bhl4ux58n().b[26][1]++;
    }
    const token =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[67]++, authHeader.replace('Bearer ', ''));

    // Verify admin token
    const authResult =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[68]++, await coreAuth.verifyIdToken(token));
    /* istanbul ignore next */
    cov_bhl4ux58n().s[69]++;
    if (
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[29][0]++, !authResult.success) ||
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[29][1]++, !authResult.user)) {
      /* istanbul ignore next */
      cov_bhl4ux58n().b[28][0]++;
      cov_bhl4ux58n().s[70]++;
      return createErrorResponse(401, authResult.error, authResult.errorCode);
    } else
    /* istanbul ignore next */
    {
      cov_bhl4ux58n().b[28][1]++;
    }

    // Set custom claims (includes admin permission check)
    const result =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[71]++, await coreAuth.setCustomUserClaims(authResult.user, uid, claims));
    /* istanbul ignore next */
    cov_bhl4ux58n().s[72]++;
    if (result.success) {
      /* istanbul ignore next */
      cov_bhl4ux58n().b[30][0]++;
      cov_bhl4ux58n().s[73]++;
      context.log(`Custom claims set successfully for user: ${uid}`);
      /* istanbul ignore next */
      cov_bhl4ux58n().s[74]++;
      return {
        status: 200,
        headers: CORS_HEADERS,
        body: JSON.stringify({
          success: true,
          message: 'Custom claims set successfully',
          targetUserId: uid,
          claimsSet: Object.keys(claims)
        })
      };
    } else {
      /* istanbul ignore next */
      cov_bhl4ux58n().b[30][1]++;
      cov_bhl4ux58n().s[75]++;
      context.log(`Custom claims failed: ${result.error}`);
      /* istanbul ignore next */
      cov_bhl4ux58n().s[76]++;
      return createErrorResponse(403, result.error, 'CLAIMS_UPDATE_FAILED');
    }
  } catch (error) {
    /* istanbul ignore next */
    cov_bhl4ux58n().s[77]++;
    context.log.error('Custom claims error:', error);
    /* istanbul ignore next */
    cov_bhl4ux58n().s[78]++;
    return createErrorResponse(500, 'Custom claims operation failed', 'CLAIMS_ERROR');
  }
}

/**
 * Handle health check requests
 */
async function handleHealthCheck(context, req) {
  /* istanbul ignore next */
  cov_bhl4ux58n().f[4]++;
  cov_bhl4ux58n().s[79]++;
  context.log('Processing health check request');
  /* istanbul ignore next */
  cov_bhl4ux58n().s[80]++;
  try {
    const health =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[81]++, await coreAuth.healthCheck());
    const status =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[82]++, coreAuth.getAuthStatus());
    const healthData =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[83]++, {
      status: health.status,
      timestamp: new Date().toISOString(),
      services: health.services,
      authentication: {
        firebaseInitialized: status.firebaseInitialized,
        adminAppsCount: status.adminAppsCount,
        telemetryEnabled: status.telemetryEnabled
      },
      version: '2.0.0',
      consolidatedEndpoints: ['verify', 'session', 'permissions', 'claims']
    });
    /* istanbul ignore next */
    cov_bhl4ux58n().s[84]++;
    if (health.error) {
      /* istanbul ignore next */
      cov_bhl4ux58n().b[31][0]++;
      cov_bhl4ux58n().s[85]++;
      healthData.error = health.error;
    } else
    /* istanbul ignore next */
    {
      cov_bhl4ux58n().b[31][1]++;
    }
    cov_bhl4ux58n().s[86]++;
    return {
      status: health.status === 'healthy' ?
      /* istanbul ignore next */
      (cov_bhl4ux58n().b[32][0]++, 200) :
      /* istanbul ignore next */
      (cov_bhl4ux58n().b[32][1]++, 503),
      headers: CORS_HEADERS,
      body: JSON.stringify(healthData)
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_bhl4ux58n().s[87]++;
    context.log.error('Health check error:', error);
    /* istanbul ignore next */
    cov_bhl4ux58n().s[88]++;
    return createErrorResponse(500, 'Health check failed', 'HEALTH_CHECK_ERROR');
  }
}

// ===== MAIN FUNCTION =====

/**
 * Main Azure Function handler with route-based switching
 */
async function unifiedAuthHandler(context, req) {
  /* istanbul ignore next */
  cov_bhl4ux58n().f[5]++;
  const startTime =
  /* istanbul ignore next */
  (cov_bhl4ux58n().s[89]++, Date.now());
  /* istanbul ignore next */
  cov_bhl4ux58n().s[90]++;
  context.log(`Unified Auth Function - ${req.method} ${req.url}`);

  // Handle preflight requests
  /* istanbul ignore next */
  cov_bhl4ux58n().s[91]++;
  if (req.method === 'OPTIONS') {
    /* istanbul ignore next */
    cov_bhl4ux58n().b[33][0]++;
    cov_bhl4ux58n().s[92]++;
    context.res = {
      status: 204,
      headers: CORS_HEADERS,
      body: ''
    };
    /* istanbul ignore next */
    cov_bhl4ux58n().s[93]++;
    return;
  } else
  /* istanbul ignore next */
  {
    cov_bhl4ux58n().b[33][1]++;
  }
  cov_bhl4ux58n().s[94]++;
  try {
    const action =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[95]++,
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[34][0]++, req.query.action) ||
    /* istanbul ignore next */
    (cov_bhl4ux58n().b[34][1]++, 'status'));
    let response;
    /* istanbul ignore next */
    cov_bhl4ux58n().s[96]++;
    context.log(`Processing action: ${action}`);
    /* istanbul ignore next */
    cov_bhl4ux58n().s[97]++;
    switch (action.toLowerCase()) {
      case 'verify':
        /* istanbul ignore next */
        cov_bhl4ux58n().b[35][0]++;
        cov_bhl4ux58n().s[98]++;
        response = await handleVerifyToken(context, req);
        /* istanbul ignore next */
        cov_bhl4ux58n().s[99]++;
        break;
      case 'session':
        /* istanbul ignore next */
        cov_bhl4ux58n().b[35][1]++;
        cov_bhl4ux58n().s[100]++;
        response = await handleSessionCookie(context, req);
        /* istanbul ignore next */
        cov_bhl4ux58n().s[101]++;
        break;
      case 'permissions':
        /* istanbul ignore next */
        cov_bhl4ux58n().b[35][2]++;
        cov_bhl4ux58n().s[102]++;
        response = await handlePermissions(context, req);
        /* istanbul ignore next */
        cov_bhl4ux58n().s[103]++;
        break;
      case 'claims':
        /* istanbul ignore next */
        cov_bhl4ux58n().b[35][3]++;
        cov_bhl4ux58n().s[104]++;
        response = await handleCustomClaims(context, req);
        /* istanbul ignore next */
        cov_bhl4ux58n().s[105]++;
        break;
      case 'status':
        /* istanbul ignore next */
        cov_bhl4ux58n().b[35][4]++;
      case 'health':
        /* istanbul ignore next */
        cov_bhl4ux58n().b[35][5]++;
        cov_bhl4ux58n().s[106]++;
        response = await handleHealthCheck(context, req);
        /* istanbul ignore next */
        cov_bhl4ux58n().s[107]++;
        break;
      default:
        /* istanbul ignore next */
        cov_bhl4ux58n().b[35][6]++;
        cov_bhl4ux58n().s[108]++;
        response = createErrorResponse(400, `Unknown action: ${action}`, 'UNKNOWN_ACTION');
    }
    const duration =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[109]++, Date.now() - startTime);
    /* istanbul ignore next */
    cov_bhl4ux58n().s[110]++;
    context.log(`Request completed in ${duration}ms - Status: ${response.status}`);
    /* istanbul ignore next */
    cov_bhl4ux58n().s[111]++;
    context.res = response;
  } catch (error) {
    const duration =
    /* istanbul ignore next */
    (cov_bhl4ux58n().s[112]++, Date.now() - startTime);
    /* istanbul ignore next */
    cov_bhl4ux58n().s[113]++;
    context.log.error(`Unified Auth Function error (${duration}ms):`, error);
    /* istanbul ignore next */
    cov_bhl4ux58n().s[114]++;
    context.res = createErrorResponse(500, 'Internal server error', 'INTERNAL_ERROR');
  }
}

// ===== UTILITY FUNCTIONS =====

/**
 * Create standardized error response
 */
function createErrorResponse(status, message, code) {
  /* istanbul ignore next */
  cov_bhl4ux58n().f[6]++;
  cov_bhl4ux58n().s[115]++;
  return {
    status,
    headers: CORS_HEADERS,
    body: JSON.stringify({
      success: false,
      error: message,
      code,
      timestamp: new Date().toISOString(),
      service: 'azure-unified-auth'
    })
  };
}

// ===== TELEMETRY WRAPPER =====

// Wrap main handler with telemetry
const telemetryWrappedHandler =
/* istanbul ignore next */
(cov_bhl4ux58n().s[116]++, withTelemetry('unified-auth', unifiedAuthHandler));

// ===== EXPORTS =====
/* istanbul ignore next */
cov_bhl4ux58n().s[117]++;
module.exports = telemetryWrappedHandler;

// ===== BACKWARD COMPATIBILITY =====

// For testing and development
/* istanbul ignore next */
cov_bhl4ux58n().s[118]++;
module.exports.handlers = {
  handleVerifyToken,
  handleSessionCookie,
  handlePermissions,
  handleCustomClaims,
  handleHealthCheck
};
/* istanbul ignore next */
cov_bhl4ux58n().s[119]++;
module.exports.utils = {
  createErrorResponse,
  CORS_HEADERS
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfYmhsNHV4NThuIiwiYWN0dWFsQ292ZXJhZ2UiLCJjb3JlQXV0aCIsInMiLCJyZXF1aXJlIiwid2l0aFRlbGVtZXRyeSIsIkNPUlNfSEVBREVSUyIsImhhbmRsZVZlcmlmeVRva2VuIiwiY29udGV4dCIsInJlcSIsImYiLCJsb2ciLCJpZFRva2VuIiwiYiIsImJvZHkiLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJBdXRob3JpemF0aW9uIiwidG9rZW4iLCJyZXBsYWNlIiwiY3JlYXRlRXJyb3JSZXNwb25zZSIsInJlc3VsdCIsInZlcmlmeUlkVG9rZW4iLCJzdWNjZXNzIiwidXNlciIsInVpZCIsInN0YXR1cyIsIkpTT04iLCJzdHJpbmdpZnkiLCJlbWFpbCIsInZlcmlmaWVkIiwidmVyaWZpY2F0aW9uTWV0aG9kIiwiY2xhaW1zIiwiZW1haWxfdmVyaWZpZWQiLCJuYW1lIiwicGljdHVyZSIsImlzcyIsImN1c3RvbV9jbGFpbXMiLCJhdWQiLCJhdXRoX3RpbWUiLCJpYXQiLCJleHAiLCJlcnJvciIsImVycm9yQ29kZSIsImhhbmRsZVNlc3Npb25Db29raWUiLCJtZXRob2QiLCJ0b1VwcGVyQ2FzZSIsImV4cGlyZXNJbiIsImNyZWF0ZVNlc3Npb25Db29raWUiLCJzZXNzaW9uQ29va2llIiwiZXhwaXJlc0F0IiwiRGF0ZSIsIm5vdyIsInRvSVNPU3RyaW5nIiwicXVlcnkiLCJ2ZXJpZnlTZXNzaW9uQ29va2llIiwiaGFuZGxlUGVybWlzc2lvbnMiLCJyZXF1aXJlZFBlcm1pc3Npb25zIiwiYXV0aFJlc3VsdCIsInBlcm1pc3Npb25zUmVzdWx0IiwiY2hlY2tQZXJtaXNzaW9ucyIsImhhc1Blcm1pc3Npb25zIiwicGVybWlzc2lvbnMiLCJ1c2VyUGVybWlzc2lvbnMiLCJyb2xlcyIsInVzZXJSb2xlcyIsImhhbmRsZUN1c3RvbUNsYWltcyIsInNldEN1c3RvbVVzZXJDbGFpbXMiLCJtZXNzYWdlIiwidGFyZ2V0VXNlcklkIiwiY2xhaW1zU2V0IiwiT2JqZWN0Iiwia2V5cyIsImhhbmRsZUhlYWx0aENoZWNrIiwiaGVhbHRoIiwiaGVhbHRoQ2hlY2siLCJnZXRBdXRoU3RhdHVzIiwiaGVhbHRoRGF0YSIsInRpbWVzdGFtcCIsInNlcnZpY2VzIiwiYXV0aGVudGljYXRpb24iLCJmaXJlYmFzZUluaXRpYWxpemVkIiwiYWRtaW5BcHBzQ291bnQiLCJ0ZWxlbWV0cnlFbmFibGVkIiwidmVyc2lvbiIsImNvbnNvbGlkYXRlZEVuZHBvaW50cyIsInVuaWZpZWRBdXRoSGFuZGxlciIsInN0YXJ0VGltZSIsInVybCIsInJlcyIsImFjdGlvbiIsInJlc3BvbnNlIiwidG9Mb3dlckNhc2UiLCJkdXJhdGlvbiIsImNvZGUiLCJzZXJ2aWNlIiwidGVsZW1ldHJ5V3JhcHBlZEhhbmRsZXIiLCJtb2R1bGUiLCJleHBvcnRzIiwiaGFuZGxlcnMiLCJ1dGlscyJdLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVW5pZmllZCBBdXRoZW50aWNhdGlvbiBBenVyZSBGdW5jdGlvblxuICogXG4gKiBDb25zb2xpZGF0ZXMgYWxsIEZpcmViYXNlIGF1dGhlbnRpY2F0aW9uIGVuZHBvaW50cyBpbnRvIGEgc2luZ2xlIEhUVFAgdHJpZ2dlci5cbiAqIFJlcGxhY2VzOiB2ZXJpZnlUb2tlbiwgdmVyaWZ5UGVybWlzc2lvbnMsIHZlcmlmeVNlc3Npb25Db29raWUsIGNyZWF0ZVNlc3Npb25Db29raWVcbiAqIFxuICogUm91dGVzOlxuICogLSBQT1NUIC9hcGkvdW5pZmllZEF1dGg/YWN0aW9uPXZlcmlmeSAgICAgICAgIOKGkiBUb2tlbiB2ZXJpZmljYXRpb25cbiAqIC0gUE9TVCAvYXBpL3VuaWZpZWRBdXRoP2FjdGlvbj1zZXNzaW9uICAgICAgICDihpIgU2Vzc2lvbiBjb29raWUgY3JlYXRpb24vdmFsaWRhdGlvbiAgXG4gKiAtIFBPU1QgL2FwaS91bmlmaWVkQXV0aD9hY3Rpb249cGVybWlzc2lvbnMgICAg4oaSIFBlcm1pc3Npb24gY2hlY2tpbmdcbiAqIC0gUE9TVCAvYXBpL3VuaWZpZWRBdXRoP2FjdGlvbj1jbGFpbXMgICAgICAgICDihpIgQ3VzdG9tIGNsYWltcyBtYW5hZ2VtZW50IChhZG1pbilcbiAqIC0gR0VUICAvYXBpL3VuaWZpZWRBdXRoP2FjdGlvbj1zdGF0dXMgICAgICAgICDihpIgSGVhbHRoIGNoZWNrXG4gKiBcbiAqIEB2ZXJzaW9uIDIuMC4wXG4gKiBAYXV0aG9yIFByZXBCZXR0ciBQbGF0Zm9ybSBUZWFtXG4gKi9cblxuY29uc3QgY29yZUF1dGggPSByZXF1aXJlKCcuLi9zaGFyZWQvY29yZS1hdXRoJyk7XG5jb25zdCB7IHdpdGhUZWxlbWV0cnkgfSA9IHJlcXVpcmUoJy4uL3NoYXJlZC9jb3JlLWF1dGgvdGVsZW1ldHJ5Jyk7XG5cbi8vID09PT09IENPUlMgQ09ORklHVVJBVElPTiA9PT09PVxuXG5jb25zdCBDT1JTX0hFQURFUlMgPSB7XG4gICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOiAnKicsXG4gICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJzogJ0dFVCwgUE9TVCwgT1BUSU9OUycsXG4gICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJzogJ0NvbnRlbnQtVHlwZSwgQXV0aG9yaXphdGlvbiwgWC1GdW5jdGlvbnMtS2V5JyxcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xufTtcblxuLy8gPT09PT0gUkVRVUVTVCBIQU5ETEVSUyA9PT09PVxuXG4vKipcbiAqIEhhbmRsZSB0b2tlbiB2ZXJpZmljYXRpb24gcmVxdWVzdHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlVmVyaWZ5VG9rZW4oY29udGV4dCwgcmVxKSB7XG4gIGNvbnRleHQubG9nKCdQcm9jZXNzaW5nIHRva2VuIHZlcmlmaWNhdGlvbiByZXF1ZXN0Jyk7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IHsgaWRUb2tlbiB9ID0gcmVxLmJvZHkgfHwge307XG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24gfHwgcmVxLmhlYWRlcnMuQXV0aG9yaXphdGlvbjtcbiAgICBcbiAgICAvLyBHZXQgdG9rZW4gZnJvbSBib2R5IG9yIEF1dGhvcml6YXRpb24gaGVhZGVyXG4gICAgY29uc3QgdG9rZW4gPSBpZFRva2VuIHx8IChhdXRoSGVhZGVyID8gYXV0aEhlYWRlci5yZXBsYWNlKCdCZWFyZXIgJywgJycpIDogbnVsbCk7XG4gICAgXG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgcmV0dXJuIGNyZWF0ZUVycm9yUmVzcG9uc2UoNDAwLCAnTm8gdG9rZW4gcHJvdmlkZWQnLCAnTUlTU0lOR19UT0tFTicpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb3JlQXV0aC52ZXJpZnlJZFRva2VuKHRva2VuKTtcbiAgICBcbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIGNvbnRleHQubG9nKGBUb2tlbiB2ZXJpZmllZCBzdWNjZXNzZnVsbHkgZm9yIHVzZXI6ICR7cmVzdWx0LnVzZXIudWlkfWApO1xuICAgICAgXG4gICAgICAvLyBSZXR1cm4gZm9ybWF0IG1hdGNoaW5nIEZpcmViYXNlIENsb3VkIEZ1bmN0aW9uIHJlc3BvbnNlXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgaGVhZGVyczogQ09SU19IRUFERVJTLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICB1aWQ6IHJlc3VsdC51c2VyLnVpZCxcbiAgICAgICAgICBlbWFpbDogcmVzdWx0LnVzZXIuZW1haWwsXG4gICAgICAgICAgdmVyaWZpZWQ6IHRydWUsXG4gICAgICAgICAgdmVyaWZpY2F0aW9uTWV0aG9kOiByZXN1bHQudmVyaWZpY2F0aW9uTWV0aG9kLFxuICAgICAgICAgIGNsYWltczoge1xuICAgICAgICAgICAgdWlkOiByZXN1bHQudXNlci51aWQsXG4gICAgICAgICAgICBlbWFpbDogcmVzdWx0LnVzZXIuZW1haWwsXG4gICAgICAgICAgICBlbWFpbF92ZXJpZmllZDogcmVzdWx0LnVzZXIuZW1haWxfdmVyaWZpZWQsXG4gICAgICAgICAgICBuYW1lOiByZXN1bHQudXNlci5uYW1lLFxuICAgICAgICAgICAgcGljdHVyZTogcmVzdWx0LnVzZXIucGljdHVyZSxcbiAgICAgICAgICAgIGlzczogYGh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS8ke3Jlc3VsdC51c2VyLmN1c3RvbV9jbGFpbXM/LmF1ZCB8fCAndW5rbm93bid9YCxcbiAgICAgICAgICAgIGF1ZDogcmVzdWx0LnVzZXIuY3VzdG9tX2NsYWltcz8uYXVkIHx8ICd1bmtub3duJyxcbiAgICAgICAgICAgIGF1dGhfdGltZTogcmVzdWx0LnVzZXIuYXV0aF90aW1lLFxuICAgICAgICAgICAgaWF0OiByZXN1bHQudXNlci5pYXQsXG4gICAgICAgICAgICBleHA6IHJlc3VsdC51c2VyLmV4cFxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQubG9nKGBUb2tlbiB2ZXJpZmljYXRpb24gZmFpbGVkOiAke3Jlc3VsdC5lcnJvcn1gKTtcbiAgICAgIHJldHVybiBjcmVhdGVFcnJvclJlc3BvbnNlKDQwMSwgcmVzdWx0LmVycm9yLCByZXN1bHQuZXJyb3JDb2RlKTtcbiAgICB9XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29udGV4dC5sb2cuZXJyb3IoJ1Rva2VuIHZlcmlmaWNhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIGNyZWF0ZUVycm9yUmVzcG9uc2UoNTAwLCAnVG9rZW4gdmVyaWZpY2F0aW9uIGZhaWxlZCcsICdWRVJJRklDQVRJT05fRVJST1InKTtcbiAgfVxufVxuXG4vKipcbiAqIEhhbmRsZSBzZXNzaW9uIGNvb2tpZSBvcGVyYXRpb25zIChjcmVhdGlvbiBhbmQgdmFsaWRhdGlvbilcbiAqL1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlU2Vzc2lvbkNvb2tpZShjb250ZXh0LCByZXEpIHtcbiAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuICBjb250ZXh0LmxvZyhgUHJvY2Vzc2luZyBzZXNzaW9uIGNvb2tpZSAke21ldGhvZH0gcmVxdWVzdGApO1xuICBcbiAgdHJ5IHtcbiAgICBpZiAobWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICAgIC8vIENyZWF0ZSBzZXNzaW9uIGNvb2tpZVxuICAgICAgY29uc3QgeyBpZFRva2VuLCBleHBpcmVzSW4gfSA9IHJlcS5ib2R5IHx8IHt9O1xuICAgICAgXG4gICAgICBpZiAoIWlkVG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVycm9yUmVzcG9uc2UoNDAwLCAnSUQgdG9rZW4gaXMgcmVxdWlyZWQnLCAnTUlTU0lOR19UT0tFTicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb3JlQXV0aC5jcmVhdGVTZXNzaW9uQ29va2llKGlkVG9rZW4sIHsgZXhwaXJlc0luIH0pO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgY29udGV4dC5sb2coJ1Nlc3Npb24gY29va2llIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICAgIGhlYWRlcnM6IENPUlNfSEVBREVSUyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgc2Vzc2lvbkNvb2tpZTogcmVzdWx0LnNlc3Npb25Db29raWUsXG4gICAgICAgICAgICBleHBpcmVzSW46IHJlc3VsdC5leHBpcmVzSW4sXG4gICAgICAgICAgICBleHBpcmVzQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgKyByZXN1bHQuZXhwaXJlc0luKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgbWV0aG9kOiAnYXp1cmUtdW5pZmllZC1hdXRoJ1xuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0LmxvZyhgU2Vzc2lvbiBjb29raWUgY3JlYXRpb24gZmFpbGVkOiAke3Jlc3VsdC5lcnJvcn1gKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVycm9yUmVzcG9uc2UoNDAwLCByZXN1bHQuZXJyb3IsICdTRVNTSU9OX0NSRUFUSU9OX0ZBSUxFRCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgfSBlbHNlIGlmIChtZXRob2QgPT09ICdHRVQnKSB7XG4gICAgICAvLyBWZXJpZnkgc2Vzc2lvbiBjb29raWVcbiAgICAgIGNvbnN0IHNlc3Npb25Db29raWUgPSByZXEucXVlcnkuc2Vzc2lvbkNvb2tpZSB8fCByZXEuaGVhZGVyc1sneC1zZXNzaW9uLWNvb2tpZSddO1xuICAgICAgXG4gICAgICBpZiAoIXNlc3Npb25Db29raWUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVycm9yUmVzcG9uc2UoNDAwLCAnU2Vzc2lvbiBjb29raWUgaXMgcmVxdWlyZWQnLCAnTUlTU0lOR19DT09LSUUnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29yZUF1dGgudmVyaWZ5U2Vzc2lvbkNvb2tpZShzZXNzaW9uQ29va2llKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGNvbnRleHQubG9nKGBTZXNzaW9uIGNvb2tpZSB2ZXJpZmllZCBmb3IgdXNlcjogJHtyZXN1bHQudXNlci51aWR9YCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICAgIGhlYWRlcnM6IENPUlNfSEVBREVSUyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgdWlkOiByZXN1bHQudXNlci51aWQsXG4gICAgICAgICAgICBlbWFpbDogcmVzdWx0LnVzZXIuZW1haWwsXG4gICAgICAgICAgICB2ZXJpZmllZDogdHJ1ZSxcbiAgICAgICAgICAgIHZlcmlmaWNhdGlvbk1ldGhvZDogcmVzdWx0LnZlcmlmaWNhdGlvbk1ldGhvZCxcbiAgICAgICAgICAgIGNsYWltczogcmVzdWx0LnVzZXJcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dC5sb2coYFNlc3Npb24gY29va2llIHZlcmlmaWNhdGlvbiBmYWlsZWQ6ICR7cmVzdWx0LmVycm9yfWApO1xuICAgICAgICByZXR1cm4gY3JlYXRlRXJyb3JSZXNwb25zZSg0MDEsIHJlc3VsdC5lcnJvciwgcmVzdWx0LmVycm9yQ29kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBjcmVhdGVFcnJvclJlc3BvbnNlKDQwNSwgJ01ldGhvZCBub3QgYWxsb3dlZCcsICdNRVRIT0RfTk9UX0FMTE9XRUQnKTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb250ZXh0LmxvZy5lcnJvcignU2Vzc2lvbiBjb29raWUgb3BlcmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gY3JlYXRlRXJyb3JSZXNwb25zZSg1MDAsICdTZXNzaW9uIG9wZXJhdGlvbiBmYWlsZWQnLCAnU0VTU0lPTl9FUlJPUicpO1xuICB9XG59XG5cbi8qKlxuICogSGFuZGxlIHBlcm1pc3Npb24gY2hlY2tpbmcgcmVxdWVzdHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlUGVybWlzc2lvbnMoY29udGV4dCwgcmVxKSB7XG4gIGNvbnRleHQubG9nKCdQcm9jZXNzaW5nIHBlcm1pc3Npb25zIGNoZWNrIHJlcXVlc3QnKTtcbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24gfHwgcmVxLmhlYWRlcnMuQXV0aG9yaXphdGlvbjtcbiAgICBjb25zdCB7IHJlcXVpcmVkUGVybWlzc2lvbnMgPSBbXSB9ID0gcmVxLmJvZHkgfHwge307XG4gICAgXG4gICAgaWYgKCFhdXRoSGVhZGVyKSB7XG4gICAgICByZXR1cm4gY3JlYXRlRXJyb3JSZXNwb25zZSg0MDAsICdBdXRob3JpemF0aW9uIGhlYWRlciBpcyByZXF1aXJlZCcsICdNSVNTSU5HX0FVVEgnKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyLnJlcGxhY2UoJ0JlYXJlciAnLCAnJyk7XG4gICAgXG4gICAgLy8gRmlyc3QgdmVyaWZ5IHRoZSB0b2tlblxuICAgIGNvbnN0IGF1dGhSZXN1bHQgPSBhd2FpdCBjb3JlQXV0aC52ZXJpZnlJZFRva2VuKHRva2VuKTtcbiAgICBpZiAoIWF1dGhSZXN1bHQuc3VjY2VzcyB8fCAhYXV0aFJlc3VsdC51c2VyKSB7XG4gICAgICByZXR1cm4gY3JlYXRlRXJyb3JSZXNwb25zZSg0MDEsIGF1dGhSZXN1bHQuZXJyb3IsIGF1dGhSZXN1bHQuZXJyb3JDb2RlKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgcGVybWlzc2lvbnNcbiAgICBjb25zdCBwZXJtaXNzaW9uc1Jlc3VsdCA9IGF3YWl0IGNvcmVBdXRoLmNoZWNrUGVybWlzc2lvbnMoYXV0aFJlc3VsdC51c2VyLCByZXF1aXJlZFBlcm1pc3Npb25zKTtcbiAgICBcbiAgICBjb250ZXh0LmxvZyhgUGVybWlzc2lvbiBjaGVjayBmb3IgdXNlciAke2F1dGhSZXN1bHQudXNlci51aWR9OiAke3Blcm1pc3Npb25zUmVzdWx0Lmhhc1Blcm1pc3Npb25zID8gJ0dSQU5URUQnIDogJ0RFTklFRCd9YCk7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1czogMjAwLFxuICAgICAgaGVhZGVyczogQ09SU19IRUFERVJTLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBoYXNQZXJtaXNzaW9uczogcGVybWlzc2lvbnNSZXN1bHQuaGFzUGVybWlzc2lvbnMsXG4gICAgICAgIHBlcm1pc3Npb25zOiBwZXJtaXNzaW9uc1Jlc3VsdC51c2VyUGVybWlzc2lvbnMsXG4gICAgICAgIHJvbGVzOiBwZXJtaXNzaW9uc1Jlc3VsdC51c2VyUm9sZXMsXG4gICAgICAgIHVpZDogYXV0aFJlc3VsdC51c2VyLnVpZCxcbiAgICAgICAgcmVxdWlyZWRQZXJtaXNzaW9uczogcGVybWlzc2lvbnNSZXN1bHQucmVxdWlyZWRQZXJtaXNzaW9uc1xuICAgICAgfSlcbiAgICB9O1xuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnRleHQubG9nLmVycm9yKCdQZXJtaXNzaW9uIGNoZWNrIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gY3JlYXRlRXJyb3JSZXNwb25zZSg1MDAsICdQZXJtaXNzaW9uIGNoZWNrIGZhaWxlZCcsICdQRVJNSVNTSU9OX0VSUk9SJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBIYW5kbGUgY3VzdG9tIGNsYWltcyBtYW5hZ2VtZW50IChhZG1pbiBvbmx5KVxuICovXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVDdXN0b21DbGFpbXMoY29udGV4dCwgcmVxKSB7XG4gIGNvbnRleHQubG9nKCdQcm9jZXNzaW5nIGN1c3RvbSBjbGFpbXMgcmVxdWVzdCcpO1xuICBcbiAgdHJ5IHtcbiAgICBjb25zdCBhdXRoSGVhZGVyID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbiB8fCByZXEuaGVhZGVycy5BdXRob3JpemF0aW9uO1xuICAgIGNvbnN0IHsgdWlkLCBjbGFpbXMgfSA9IHJlcS5ib2R5IHx8IHt9O1xuICAgIFxuICAgIGlmICghYXV0aEhlYWRlcikge1xuICAgICAgcmV0dXJuIGNyZWF0ZUVycm9yUmVzcG9uc2UoNDAwLCAnQXV0aG9yaXphdGlvbiBoZWFkZXIgaXMgcmVxdWlyZWQnLCAnTUlTU0lOR19BVVRIJyk7XG4gICAgfVxuICAgIFxuICAgIGlmICghdWlkIHx8ICFjbGFpbXMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVFcnJvclJlc3BvbnNlKDQwMCwgJ1VJRCBhbmQgY2xhaW1zIGFyZSByZXF1aXJlZCcsICdNSVNTSU5HX1BBUkFNRVRFUlMnKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyLnJlcGxhY2UoJ0JlYXJlciAnLCAnJyk7XG4gICAgXG4gICAgLy8gVmVyaWZ5IGFkbWluIHRva2VuXG4gICAgY29uc3QgYXV0aFJlc3VsdCA9IGF3YWl0IGNvcmVBdXRoLnZlcmlmeUlkVG9rZW4odG9rZW4pO1xuICAgIGlmICghYXV0aFJlc3VsdC5zdWNjZXNzIHx8ICFhdXRoUmVzdWx0LnVzZXIpIHtcbiAgICAgIHJldHVybiBjcmVhdGVFcnJvclJlc3BvbnNlKDQwMSwgYXV0aFJlc3VsdC5lcnJvciwgYXV0aFJlc3VsdC5lcnJvckNvZGUpO1xuICAgIH1cbiAgICBcbiAgICAvLyBTZXQgY3VzdG9tIGNsYWltcyAoaW5jbHVkZXMgYWRtaW4gcGVybWlzc2lvbiBjaGVjaylcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb3JlQXV0aC5zZXRDdXN0b21Vc2VyQ2xhaW1zKGF1dGhSZXN1bHQudXNlciwgdWlkLCBjbGFpbXMpO1xuICAgIFxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgY29udGV4dC5sb2coYEN1c3RvbSBjbGFpbXMgc2V0IHN1Y2Nlc3NmdWxseSBmb3IgdXNlcjogJHt1aWR9YCk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBoZWFkZXJzOiBDT1JTX0hFQURFUlMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIG1lc3NhZ2U6ICdDdXN0b20gY2xhaW1zIHNldCBzdWNjZXNzZnVsbHknLFxuICAgICAgICAgIHRhcmdldFVzZXJJZDogdWlkLFxuICAgICAgICAgIGNsYWltc1NldDogT2JqZWN0LmtleXMoY2xhaW1zKVxuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGV4dC5sb2coYEN1c3RvbSBjbGFpbXMgZmFpbGVkOiAke3Jlc3VsdC5lcnJvcn1gKTtcbiAgICAgIHJldHVybiBjcmVhdGVFcnJvclJlc3BvbnNlKDQwMywgcmVzdWx0LmVycm9yLCAnQ0xBSU1TX1VQREFURV9GQUlMRUQnKTtcbiAgICB9XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29udGV4dC5sb2cuZXJyb3IoJ0N1c3RvbSBjbGFpbXMgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBjcmVhdGVFcnJvclJlc3BvbnNlKDUwMCwgJ0N1c3RvbSBjbGFpbXMgb3BlcmF0aW9uIGZhaWxlZCcsICdDTEFJTVNfRVJST1InKTtcbiAgfVxufVxuXG4vKipcbiAqIEhhbmRsZSBoZWFsdGggY2hlY2sgcmVxdWVzdHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlSGVhbHRoQ2hlY2soY29udGV4dCwgcmVxKSB7XG4gIGNvbnRleHQubG9nKCdQcm9jZXNzaW5nIGhlYWx0aCBjaGVjayByZXF1ZXN0Jyk7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IGhlYWx0aCA9IGF3YWl0IGNvcmVBdXRoLmhlYWx0aENoZWNrKCk7XG4gICAgY29uc3Qgc3RhdHVzID0gY29yZUF1dGguZ2V0QXV0aFN0YXR1cygpO1xuICAgIFxuICAgIGNvbnN0IGhlYWx0aERhdGEgPSB7XG4gICAgICBzdGF0dXM6IGhlYWx0aC5zdGF0dXMsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHNlcnZpY2VzOiBoZWFsdGguc2VydmljZXMsXG4gICAgICBhdXRoZW50aWNhdGlvbjoge1xuICAgICAgICBmaXJlYmFzZUluaXRpYWxpemVkOiBzdGF0dXMuZmlyZWJhc2VJbml0aWFsaXplZCxcbiAgICAgICAgYWRtaW5BcHBzQ291bnQ6IHN0YXR1cy5hZG1pbkFwcHNDb3VudCxcbiAgICAgICAgdGVsZW1ldHJ5RW5hYmxlZDogc3RhdHVzLnRlbGVtZXRyeUVuYWJsZWRcbiAgICAgIH0sXG4gICAgICB2ZXJzaW9uOiAnMi4wLjAnLFxuICAgICAgY29uc29saWRhdGVkRW5kcG9pbnRzOiBbJ3ZlcmlmeScsICdzZXNzaW9uJywgJ3Blcm1pc3Npb25zJywgJ2NsYWltcyddXG4gICAgfTtcbiAgICBcbiAgICBpZiAoaGVhbHRoLmVycm9yKSB7XG4gICAgICBoZWFsdGhEYXRhLmVycm9yID0gaGVhbHRoLmVycm9yO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiBoZWFsdGguc3RhdHVzID09PSAnaGVhbHRoeScgPyAyMDAgOiA1MDMsXG4gICAgICBoZWFkZXJzOiBDT1JTX0hFQURFUlMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShoZWFsdGhEYXRhKVxuICAgIH07XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29udGV4dC5sb2cuZXJyb3IoJ0hlYWx0aCBjaGVjayBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIGNyZWF0ZUVycm9yUmVzcG9uc2UoNTAwLCAnSGVhbHRoIGNoZWNrIGZhaWxlZCcsICdIRUFMVEhfQ0hFQ0tfRVJST1InKTtcbiAgfVxufVxuXG4vLyA9PT09PSBNQUlOIEZVTkNUSU9OID09PT09XG5cbi8qKlxuICogTWFpbiBBenVyZSBGdW5jdGlvbiBoYW5kbGVyIHdpdGggcm91dGUtYmFzZWQgc3dpdGNoaW5nXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVuaWZpZWRBdXRoSGFuZGxlcihjb250ZXh0LCByZXEpIHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgY29udGV4dC5sb2coYFVuaWZpZWQgQXV0aCBGdW5jdGlvbiAtICR7cmVxLm1ldGhvZH0gJHtyZXEudXJsfWApO1xuICBcbiAgLy8gSGFuZGxlIHByZWZsaWdodCByZXF1ZXN0c1xuICBpZiAocmVxLm1ldGhvZCA9PT0gJ09QVElPTlMnKSB7XG4gICAgY29udGV4dC5yZXMgPSB7XG4gICAgICBzdGF0dXM6IDIwNCxcbiAgICAgIGhlYWRlcnM6IENPUlNfSEVBREVSUyxcbiAgICAgIGJvZHk6ICcnXG4gICAgfTtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgYWN0aW9uID0gcmVxLnF1ZXJ5LmFjdGlvbiB8fCAnc3RhdHVzJztcbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgXG4gICAgY29udGV4dC5sb2coYFByb2Nlc3NpbmcgYWN0aW9uOiAke2FjdGlvbn1gKTtcbiAgICBcbiAgICBzd2l0Y2ggKGFjdGlvbi50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlICd2ZXJpZnknOlxuICAgICAgICByZXNwb25zZSA9IGF3YWl0IGhhbmRsZVZlcmlmeVRva2VuKGNvbnRleHQsIHJlcSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgJ3Nlc3Npb24nOlxuICAgICAgICByZXNwb25zZSA9IGF3YWl0IGhhbmRsZVNlc3Npb25Db29raWUoY29udGV4dCwgcmVxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSAncGVybWlzc2lvbnMnOlxuICAgICAgICByZXNwb25zZSA9IGF3YWl0IGhhbmRsZVBlcm1pc3Npb25zKGNvbnRleHQsIHJlcSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgJ2NsYWltcyc6XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlQ3VzdG9tQ2xhaW1zKGNvbnRleHQsIHJlcSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgJ3N0YXR1cyc6XG4gICAgICBjYXNlICdoZWFsdGgnOlxuICAgICAgICByZXNwb25zZSA9IGF3YWl0IGhhbmRsZUhlYWx0aENoZWNrKGNvbnRleHQsIHJlcSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJlc3BvbnNlID0gY3JlYXRlRXJyb3JSZXNwb25zZSg0MDAsIGBVbmtub3duIGFjdGlvbjogJHthY3Rpb259YCwgJ1VOS05PV05fQUNUSU9OJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICBjb250ZXh0LmxvZyhgUmVxdWVzdCBjb21wbGV0ZWQgaW4gJHtkdXJhdGlvbn1tcyAtIFN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgXG4gICAgY29udGV4dC5yZXMgPSByZXNwb25zZTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgY29udGV4dC5sb2cuZXJyb3IoYFVuaWZpZWQgQXV0aCBGdW5jdGlvbiBlcnJvciAoJHtkdXJhdGlvbn1tcyk6YCwgZXJyb3IpO1xuICAgIFxuICAgIGNvbnRleHQucmVzID0gY3JlYXRlRXJyb3JSZXNwb25zZSg1MDAsICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLCAnSU5URVJOQUxfRVJST1InKTtcbiAgfVxufVxuXG4vLyA9PT09PSBVVElMSVRZIEZVTkNUSU9OUyA9PT09PVxuXG4vKipcbiAqIENyZWF0ZSBzdGFuZGFyZGl6ZWQgZXJyb3IgcmVzcG9uc2VcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRXJyb3JSZXNwb25zZShzdGF0dXMsIG1lc3NhZ2UsIGNvZGUpIHtcbiAgcmV0dXJuIHtcbiAgICBzdGF0dXMsXG4gICAgaGVhZGVyczogQ09SU19IRUFERVJTLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IG1lc3NhZ2UsXG4gICAgICBjb2RlLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBzZXJ2aWNlOiAnYXp1cmUtdW5pZmllZC1hdXRoJ1xuICAgIH0pXG4gIH07XG59XG5cbi8vID09PT09IFRFTEVNRVRSWSBXUkFQUEVSID09PT09XG5cbi8vIFdyYXAgbWFpbiBoYW5kbGVyIHdpdGggdGVsZW1ldHJ5XG5jb25zdCB0ZWxlbWV0cnlXcmFwcGVkSGFuZGxlciA9IHdpdGhUZWxlbWV0cnkoJ3VuaWZpZWQtYXV0aCcsIHVuaWZpZWRBdXRoSGFuZGxlcik7XG5cbi8vID09PT09IEVYUE9SVFMgPT09PT1cblxubW9kdWxlLmV4cG9ydHMgPSB0ZWxlbWV0cnlXcmFwcGVkSGFuZGxlcjtcblxuLy8gPT09PT0gQkFDS1dBUkQgQ09NUEFUSUJJTElUWSA9PT09PVxuXG4vLyBGb3IgdGVzdGluZyBhbmQgZGV2ZWxvcG1lbnRcbm1vZHVsZS5leHBvcnRzLmhhbmRsZXJzID0ge1xuICBoYW5kbGVWZXJpZnlUb2tlbixcbiAgaGFuZGxlU2Vzc2lvbkNvb2tpZSxcbiAgaGFuZGxlUGVybWlzc2lvbnMsXG4gIGhhbmRsZUN1c3RvbUNsYWltcyxcbiAgaGFuZGxlSGVhbHRoQ2hlY2tcbn07XG5cbm1vZHVsZS5leHBvcnRzLnV0aWxzID0ge1xuICBjcmVhdGVFcnJvclJlc3BvbnNlLFxuICBDT1JTX0hFQURFUlNcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTtJQUFBQSxhQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxhQUFBO0FBZlo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUUsUUFBUTtBQUFBO0FBQUEsQ0FBQUYsYUFBQSxHQUFBRyxDQUFBLE9BQUdDLE9BQU8sQ0FBQyxx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