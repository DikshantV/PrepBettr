{"version":3,"names":["cov_8k50haz5b","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","exports","GET","POST","server_1","require","DEFAULT_CONFIG","process","env","ENVIRONMENT","NODE_ENV","validateConfigKey","key","isValid","error","length","test","getConfigValue","envKey","replace","toUpperCase","envValue","parsedValue","parseInt","parseFloat","value","source","console","warn","defaultValue","request","params","resolvedParams","decodeURIComponent","keyValidation","NextResponse","json","success","status","Error","message"],"sources":["/Users/dikshantvashistha/PrepBettr/app/api/config/[key]/route.ts"],"sourcesContent":["/**\n * GET /api/config/[key]\n * \n * Unified configuration API endpoint for feature flags and app settings.\n * Used by useUnifiedConfig hook for client-side configuration access.\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\n\n/**\n * Route parameters\n */\ninterface RouteParams {\n  key: string;\n}\n\n/**\n * Response schema\n */\ninterface ConfigResponse {\n  key: string;\n  value: any;\n  source: 'default' | 'environment' | 'azure' | 'firebase';\n  success: boolean;\n  error?: string;\n}\n\n/**\n * Default configuration values\n * This acts as fallback when external configuration services are unavailable\n */\nconst DEFAULT_CONFIG = {\n  // Feature flags\n  'features.voiceInterviewV2': false,\n  'features.autoApplyAzure': false,\n  'features.voiceInterview': true,\n  'features.premiumFeatures': true,\n  'features.newUI': false,\n  \n  // Application core settings\n  'core.app.environment': process.env.ENVIRONMENT || process.env.NODE_ENV || 'development',\n  'core.app.version': '1.0.0',\n  'core.app.debug': process.env.ENVIRONMENT === 'development',\n  'core.app.maintenanceMode': false,\n  \n  // Usage quotas (server-side only, safe to expose limits)\n  'quotas.freeInterviews': 3,\n  'quotas.freeResumes': 5,\n  'quotas.premiumInterviews': 50,\n  \n  // Performance settings\n  'perf.cacheTimeout': 300000, // 5 minutes\n  'perf.maxRetries': 3,\n  'perf.requestTimeout': 30000, // 30 seconds\n} as const;\n\n/**\n * Validate configuration key format\n */\nfunction validateConfigKey(key: string): { isValid: boolean; error?: string } {\n  if (!key || typeof key !== 'string') {\n    return { isValid: false, error: 'Configuration key is required' };\n  }\n\n  if (key.length > 100) {\n    return { isValid: false, error: 'Configuration key too long' };\n  }\n\n  // Allow alphanumeric, dots, underscores, hyphens\n  if (!/^[a-zA-Z0-9._-]+$/.test(key)) {\n    return { isValid: false, error: 'Invalid characters in configuration key' };\n  }\n\n  return { isValid: true };\n}\n\n/**\n * Get configuration value with fallback hierarchy\n */\nasync function getConfigValue(key: string): Promise<{\n  value: any;\n  source: 'default' | 'environment' | 'azure' | 'firebase';\n}> {\n  // 1. Try Azure App Configuration (if available in production)\n  if (process.env.ENVIRONMENT === 'production') {\n    try {\n      // In a real implementation, this would use Azure App Configuration SDK\n      // For now, we'll use environment variables as a proxy\n      const envKey = key.replace(/\\./g, '_').toUpperCase();\n      const envValue = process.env[envKey];\n      \n      if (envValue !== undefined) {\n        // Parse boolean and numeric values\n        let parsedValue: any = envValue;\n        if (envValue === 'true') parsedValue = true;\n        else if (envValue === 'false') parsedValue = false;\n        else if (/^\\d+$/.test(envValue)) parsedValue = parseInt(envValue, 10);\n        else if (/^\\d+\\.\\d+$/.test(envValue)) parsedValue = parseFloat(envValue);\n        \n        return { value: parsedValue, source: 'environment' };\n      }\n    } catch (error) {\n      console.warn(`Failed to fetch config from environment for key ${key}:`, error);\n    }\n  }\n\n  // 2. Try Firebase Remote Config (fallback)\n  try {\n    // For client-side feature flags, we can use Firebase Remote Config\n    // This would require the Firebase Admin SDK in a real implementation\n    // For now, we'll skip this step\n  } catch (error) {\n    console.warn(`Failed to fetch config from Firebase for key ${key}:`, error);\n  }\n\n  // 3. Use default configuration\n  const defaultValue = DEFAULT_CONFIG[key as keyof typeof DEFAULT_CONFIG];\n  if (defaultValue !== undefined) {\n    return { value: defaultValue, source: 'default' };\n  }\n\n  // 4. Return undefined for unknown keys\n  return { value: undefined, source: 'default' };\n}\n\n/**\n * GET handler for configuration values\n */\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: Promise<RouteParams> }\n): Promise<NextResponse<ConfigResponse>> {\n  const resolvedParams = await params;\n  try {\n    const key = decodeURIComponent(resolvedParams.key);\n    \n    // Validate configuration key\n    const keyValidation = validateConfigKey(key);\n    if (!keyValidation.isValid) {\n      return NextResponse.json({\n        key,\n        value: undefined,\n        source: 'default',\n        success: false,\n        error: keyValidation.error\n      }, { status: 400 });\n    }\n\n    // Get configuration value\n    const { value, source } = await getConfigValue(key);\n\n    return NextResponse.json({\n      key,\n      value,\n      source,\n      success: true\n    });\n\n  } catch (error) {\n    console.error('Failed to get configuration value:', error);\n    \n    return NextResponse.json({\n      key: resolvedParams.key || 'unknown',\n      value: undefined,\n      source: 'default',\n      success: false,\n      error: error instanceof Error ? error.message : 'Internal server error'\n    }, { status: 500 });\n  }\n}\n\n/**\n * POST handler for updating configuration values (admin only)\n * This would typically require authentication and authorization\n */\nexport async function POST(\n  request: NextRequest,\n  { params }: { params: Promise<RouteParams> }\n): Promise<NextResponse> {\n  const resolvedParams = await params;\n  \n  // TODO: Add authentication middleware\n  // TODO: Add authorization checks for admin users\n  // TODO: Implement configuration updates to Azure App Configuration\n  \n  return NextResponse.json({\n    error: 'Configuration updates not yet implemented'\n  }, { status: 501 });\n}\n"],"mappings":";;AAAA;;;;;;AAAA;AAAA,SAAAA,cAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAA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","ignoreList":[]}