1431415e87b7a53686bcf1e519662e0a
/* istanbul ignore next */
function cov_eamr2yal1() {
  var path = "/Users/dikshantvashistha/PrepBettr/lib/subscription-security.js";
  var hash = "35dea9a994b3900ae83319714ee15b0f875bac69";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/dikshantvashistha/PrepBettr/lib/subscription-security.js",
    statementMap: {
      "0": {
        start: {
          line: 19,
          column: 20
        },
        end: {
          line: 24,
          column: 1
        }
      },
      "1": {
        start: {
          line: 27,
          column: 35
        },
        end: {
          line: 58,
          column: 1
        }
      },
      "2": {
        start: {
          line: 64,
          column: 2
        },
        end: {
          line: 105,
          column: 3
        }
      },
      "3": {
        start: {
          line: 65,
          column: 20
        },
        end: {
          line: 65,
          column: 55
        }
      },
      "4": {
        start: {
          line: 67,
          column: 4
        },
        end: {
          line: 76,
          column: 5
        }
      },
      "5": {
        start: {
          line: 68,
          column: 6
        },
        end: {
          line: 75,
          column: 8
        }
      },
      "6": {
        start: {
          line: 79,
          column: 4
        },
        end: {
          line: 88,
          column: 5
        }
      },
      "7": {
        start: {
          line: 80,
          column: 6
        },
        end: {
          line: 87,
          column: 8
        }
      },
      "8": {
        start: {
          line: 90,
          column: 4
        },
        end: {
          line: 94,
          column: 6
        }
      },
      "9": {
        start: {
          line: 96,
          column: 4
        },
        end: {
          line: 96,
          column: 50
        }
      },
      "10": {
        start: {
          line: 97,
          column: 4
        },
        end: {
          line: 104,
          column: 6
        }
      },
      "11": {
        start: {
          line: 112,
          column: 2
        },
        end: {
          line: 155,
          column: 3
        }
      },
      "12": {
        start: {
          line: 113,
          column: 4
        },
        end: {
          line: 116,
          column: 5
        }
      },
      "13": {
        start: {
          line: 114,
          column: 6
        },
        end: {
          line: 114,
          column: 51
        }
      },
      "14": {
        start: {
          line: 115,
          column: 6
        },
        end: {
          line: 115,
          column: 31
        }
      },
      "15": {
        start: {
          line: 118,
          column: 18
        },
        end: {
          line: 118,
          column: 40
        }
      },
      "16": {
        start: {
          line: 119,
          column: 64
        },
        end: {
          line: 123,
          column: 5
        }
      },
      "17": {
        start: {
          line: 125,
          column: 4
        },
        end: {
          line: 144,
          column: 5
        }
      },
      "18": {
        start: {
          line: 126,
          column: 6
        },
        end: {
          line: 143,
          column: 8
        }
      },
      "19": {
        start: {
          line: 146,
          column: 4
        },
        end: {
          line: 150,
          column: 6
        }
      },
      "20": {
        start: {
          line: 152,
          column: 4
        },
        end: {
          line: 152,
          column: 49
        }
      },
      "21": {
        start: {
          line: 154,
          column: 4
        },
        end: {
          line: 154,
          column: 29
        }
      },
      "22": {
        start: {
          line: 162,
          column: 2
        },
        end: {
          line: 188,
          column: 3
        }
      },
      "23": {
        start: {
          line: 163,
          column: 22
        },
        end: {
          line: 163,
          column: 40
        }
      },
      "24": {
        start: {
          line: 164,
          column: 4
        },
        end: {
          line: 167,
          column: 6
        }
      },
      "25": {
        start: {
          line: 169,
          column: 4
        },
        end: {
          line: 169,
          column: 46
        }
      },
      "26": {
        start: {
          line: 171,
          column: 25
        },
        end: {
          line: 175,
          column: 13
        }
      },
      "27": {
        start: {
          line: 171,
          column: 51
        },
        end: {
          line: 175,
          column: 5
        }
      },
      "28": {
        start: {
          line: 177,
          column: 4
        },
        end: {
          line: 187,
          column: 6
        }
      },
      "29": {
        start: {
          line: 195,
          column: 2
        },
        end: {
          line: 260,
          column: 3
        }
      },
      "30": {
        start: {
          line: 197,
          column: 4
        },
        end: {
          line: 200,
          column: 5
        }
      },
      "31": {
        start: {
          line: 198,
          column: 6
        },
        end: {
          line: 198,
          column: 79
        }
      },
      "32": {
        start: {
          line: 199,
          column: 6
        },
        end: {
          line: 199,
          column: 29
        }
      },
      "33": {
        start: {
          line: 202,
          column: 20
        },
        end: {
          line: 202,
          column: 35
        }
      },
      "34": {
        start: {
          line: 203,
          column: 17
        },
        end: {
          line: 203,
          column: 37
        }
      },
      "35": {
        start: {
          line: 206,
          column: 28
        },
        end: {
          line: 212,
          column: 5
        }
      },
      "36": {
        start: {
          line: 214,
          column: 27
        },
        end: {
          line: 214,
          column: 81
        }
      },
      "37": {
        start: {
          line: 214,
          column: 60
        },
        end: {
          line: 214,
          column: 80
        }
      },
      "38": {
        start: {
          line: 215,
          column: 4
        },
        end: {
          line: 224,
          column: 5
        }
      },
      "39": {
        start: {
          line: 216,
          column: 6
        },
        end: {
          line: 223,
          column: 8
        }
      },
      "40": {
        start: {
          line: 227,
          column: 24
        },
        end: {
          line: 230,
          column: 5
        }
      },
      "41": {
        start: {
          line: 232,
          column: 25
        },
        end: {
          line: 232,
          column: 60
        }
      },
      "42": {
        start: {
          line: 233,
          column: 20
        },
        end: {
          line: 233,
          column: 93
        }
      },
      "43": {
        start: {
          line: 235,
          column: 4
        },
        end: {
          line: 244,
          column: 5
        }
      },
      "44": {
        start: {
          line: 236,
          column: 6
        },
        end: {
          line: 243,
          column: 8
        }
      },
      "45": {
        start: {
          line: 246,
          column: 4
        },
        end: {
          line: 249,
          column: 6
        }
      },
      "46": {
        start: {
          line: 251,
          column: 4
        },
        end: {
          line: 251,
          column: 64
        }
      },
      "47": {
        start: {
          line: 252,
          column: 4
        },
        end: {
          line: 259,
          column: 6
        }
      },
      "48": {
        start: {
          line: 267,
          column: 2
        },
        end: {
          line: 320,
          column: 3
        }
      },
      "49": {
        start: {
          line: 269,
          column: 23
        },
        end: {
          line: 269,
          column: 43
        }
      },
      "50": {
        start: {
          line: 270,
          column: 4
        },
        end: {
          line: 279,
          column: 5
        }
      },
      "51": {
        start: {
          line: 271,
          column: 6
        },
        end: {
          line: 278,
          column: 8
        }
      },
      "52": {
        start: {
          line: 282,
          column: 26
        },
        end: {
          line: 282,
          column: 64
        }
      },
      "53": {
        start: {
          line: 283,
          column: 4
        },
        end: {
          line: 292,
          column: 5
        }
      },
      "54": {
        start: {
          line: 284,
          column: 6
        },
        end: {
          line: 291,
          column: 8
        }
      },
      "55": {
        start: {
          line: 295,
          column: 4
        },
        end: {
          line: 304,
          column: 5
        }
      },
      "56": {
        start: {
          line: 296,
          column: 6
        },
        end: {
          line: 303,
          column: 8
        }
      },
      "57": {
        start: {
          line: 306,
          column: 4
        },
        end: {
          line: 309,
          column: 6
        }
      },
      "58": {
        start: {
          line: 311,
          column: 4
        },
        end: {
          line: 311,
          column: 51
        }
      },
      "59": {
        start: {
          line: 312,
          column: 4
        },
        end: {
          line: 319,
          column: 6
        }
      },
      "60": {
        start: {
          line: 327,
          column: 2
        },
        end: {
          line: 357,
          column: 3
        }
      },
      "61": {
        start: {
          line: 344,
          column: 4
        },
        end: {
          line: 346,
          column: 6
        }
      },
      "62": {
        start: {
          line: 348,
          column: 4
        },
        end: {
          line: 348,
          column: 53
        }
      },
      "63": {
        start: {
          line: 349,
          column: 4
        },
        end: {
          line: 356,
          column: 6
        }
      },
      "64": {
        start: {
          line: 365,
          column: 2
        },
        end: {
          line: 365,
          column: 60
        }
      },
      "65": {
        start: {
          line: 366,
          column: 2
        },
        end: {
          line: 366,
          column: 50
        }
      },
      "66": {
        start: {
          line: 367,
          column: 2
        },
        end: {
          line: 367,
          column: 60
        }
      },
      "67": {
        start: {
          line: 368,
          column: 2
        },
        end: {
          line: 368,
          column: 77
        }
      },
      "68": {
        start: {
          line: 371,
          column: 2
        },
        end: {
          line: 371,
          column: 114
        }
      },
      "69": {
        start: {
          line: 372,
          column: 2
        },
        end: {
          line: 372,
          column: 90
        }
      },
      "70": {
        start: {
          line: 373,
          column: 2
        },
        end: {
          line: 373,
          column: 86
        }
      },
      "71": {
        start: {
          line: 375,
          column: 2
        },
        end: {
          line: 375,
          column: 18
        }
      },
      "72": {
        start: {
          line: 382,
          column: 2
        },
        end: {
          line: 389,
          column: 3
        }
      },
      "73": {
        start: {
          line: 384,
          column: 4
        },
        end: {
          line: 388,
          column: 14
        }
      },
      "74": {
        start: {
          line: 391,
          column: 2
        },
        end: {
          line: 397,
          column: 3
        }
      },
      "75": {
        start: {
          line: 392,
          column: 22
        },
        end: {
          line: 392,
          column: 24
        }
      },
      "76": {
        start: {
          line: 393,
          column: 4
        },
        end: {
          line: 395,
          column: 5
        }
      },
      "77": {
        start: {
          line: 394,
          column: 6
        },
        end: {
          line: 394,
          column: 59
        }
      },
      "78": {
        start: {
          line: 396,
          column: 4
        },
        end: {
          line: 396,
          column: 21
        }
      },
      "79": {
        start: {
          line: 399,
          column: 2
        },
        end: {
          line: 399,
          column: 14
        }
      },
      "80": {
        start: {
          line: 406,
          column: 2
        },
        end: {
          line: 482,
          column: 4
        }
      },
      "81": {
        start: {
          line: 407,
          column: 4
        },
        end: {
          line: 481,
          column: 5
        }
      },
      "82": {
        start: {
          line: 408,
          column: 24
        },
        end: {
          line: 408,
          column: 34
        }
      },
      "83": {
        start: {
          line: 411,
          column: 21
        },
        end: {
          line: 413,
          column: 31
        }
      },
      "84": {
        start: {
          line: 415,
          column: 30
        },
        end: {
          line: 415,
          column: 77
        }
      },
      "85": {
        start: {
          line: 416,
          column: 6
        },
        end: {
          line: 418,
          column: 7
        }
      },
      "86": {
        start: {
          line: 417,
          column: 8
        },
        end: {
          line: 417,
          column: 40
        }
      },
      "87": {
        start: {
          line: 421,
          column: 6
        },
        end: {
          line: 428,
          column: 7
        }
      },
      "88": {
        start: {
          line: 422,
          column: 27
        },
        end: {
          line: 422,
          column: 53
        }
      },
      "89": {
        start: {
          line: 423,
          column: 8
        },
        end: {
          line: 425,
          column: 9
        }
      },
      "90": {
        start: {
          line: 424,
          column: 10
        },
        end: {
          line: 424,
          column: 37
        }
      },
      "91": {
        start: {
          line: 426,
          column: 8
        },
        end: {
          line: 426,
          column: 39
        }
      },
      "92": {
        start: {
          line: 427,
          column: 8
        },
        end: {
          line: 427,
          column: 43
        }
      },
      "93": {
        start: {
          line: 431,
          column: 6
        },
        end: {
          line: 441,
          column: 7
        }
      },
      "94": {
        start: {
          line: 432,
          column: 21
        },
        end: {
          line: 432,
          column: 59
        }
      },
      "95": {
        start: {
          line: 432,
          column: 55
        },
        end: {
          line: 432,
          column: 57
        }
      },
      "96": {
        start: {
          line: 433,
          column: 30
        },
        end: {
          line: 433,
          column: 49
        }
      },
      "97": {
        start: {
          line: 434,
          column: 33
        },
        end: {
          line: 434,
          column: 89
        }
      },
      "98": {
        start: {
          line: 436,
          column: 8
        },
        end: {
          line: 438,
          column: 9
        }
      },
      "99": {
        start: {
          line: 437,
          column: 10
        },
        end: {
          line: 437,
          column: 43
        }
      },
      "100": {
        start: {
          line: 440,
          column: 8
        },
        end: {
          line: 440,
          column: 54
        }
      },
      "101": {
        start: {
          line: 444,
          column: 6
        },
        end: {
          line: 453,
          column: 7
        }
      },
      "102": {
        start: {
          line: 445,
          column: 41
        },
        end: {
          line: 445,
          column: 62
        }
      },
      "103": {
        start: {
          line: 446,
          column: 8
        },
        end: {
          line: 452,
          column: 9
        }
      },
      "104": {
        start: {
          line: 447,
          column: 33
        },
        end: {
          line: 447,
          column: 79
        }
      },
      "105": {
        start: {
          line: 448,
          column: 10
        },
        end: {
          line: 450,
          column: 11
        }
      },
      "106": {
        start: {
          line: 449,
          column: 12
        },
        end: {
          line: 449,
          column: 43
        }
      },
      "107": {
        start: {
          line: 451,
          column: 10
        },
        end: {
          line: 451,
          column: 51
        }
      },
      "108": {
        start: {
          line: 456,
          column: 6
        },
        end: {
          line: 461,
          column: 7
        }
      },
      "109": {
        start: {
          line: 457,
          column: 34
        },
        end: {
          line: 457,
          column: 84
        }
      },
      "110": {
        start: {
          line: 458,
          column: 8
        },
        end: {
          line: 460,
          column: 9
        }
      },
      "111": {
        start: {
          line: 459,
          column: 10
        },
        end: {
          line: 459,
          column: 44
        }
      },
      "112": {
        start: {
          line: 464,
          column: 23
        },
        end: {
          line: 464,
          column: 45
        }
      },
      "113": {
        start: {
          line: 467,
          column: 30
        },
        end: {
          line: 467,
          column: 58
        }
      },
      "114": {
        start: {
          line: 470,
          column: 23
        },
        end: {
          line: 470,
          column: 45
        }
      },
      "115": {
        start: {
          line: 471,
          column: 6
        },
        end: {
          line: 471,
          column: 70
        }
      },
      "116": {
        start: {
          line: 473,
          column: 6
        },
        end: {
          line: 473,
          column: 29
        }
      },
      "117": {
        start: {
          line: 476,
          column: 6
        },
        end: {
          line: 476,
          column: 57
        }
      },
      "118": {
        start: {
          line: 477,
          column: 6
        },
        end: {
          line: 480,
          column: 8
        }
      },
      "119": {
        start: {
          line: 489,
          column: 2
        },
        end: {
          line: 540,
          column: 4
        }
      },
      "120": {
        start: {
          line: 490,
          column: 4
        },
        end: {
          line: 539,
          column: 5
        }
      },
      "121": {
        start: {
          line: 491,
          column: 24
        },
        end: {
          line: 491,
          column: 34
        }
      },
      "122": {
        start: {
          line: 494,
          column: 23
        },
        end: {
          line: 494,
          column: 74
        }
      },
      "123": {
        start: {
          line: 495,
          column: 30
        },
        end: {
          line: 495,
          column: 71
        }
      },
      "124": {
        start: {
          line: 496,
          column: 6
        },
        end: {
          line: 498,
          column: 7
        }
      },
      "125": {
        start: {
          line: 497,
          column: 8
        },
        end: {
          line: 497,
          column: 40
        }
      },
      "126": {
        start: {
          line: 501,
          column: 24
        },
        end: {
          line: 501,
          column: 47
        }
      },
      "127": {
        start: {
          line: 502,
          column: 6
        },
        end: {
          line: 512,
          column: 7
        }
      },
      "128": {
        start: {
          line: 503,
          column: 32
        },
        end: {
          line: 503,
          column: 82
        }
      },
      "129": {
        start: {
          line: 504,
          column: 8
        },
        end: {
          line: 506,
          column: 9
        }
      },
      "130": {
        start: {
          line: 505,
          column: 10
        },
        end: {
          line: 505,
          column: 42
        }
      },
      "131": {
        start: {
          line: 507,
          column: 8
        },
        end: {
          line: 507,
          column: 51
        }
      },
      "132": {
        start: {
          line: 510,
          column: 21
        },
        end: {
          line: 510,
          column: 41
        }
      },
      "133": {
        start: {
          line: 511,
          column: 8
        },
        end: {
          line: 511,
          column: 47
        }
      },
      "134": {
        start: {
          line: 515,
          column: 31
        },
        end: {
          line: 518,
          column: 7
        }
      },
      "135": {
        start: {
          line: 519,
          column: 6
        },
        end: {
          line: 521,
          column: 7
        }
      },
      "136": {
        start: {
          line: 520,
          column: 8
        },
        end: {
          line: 520,
          column: 41
        }
      },
      "137": {
        start: {
          line: 524,
          column: 23
        },
        end: {
          line: 524,
          column: 45
        }
      },
      "138": {
        start: {
          line: 527,
          column: 30
        },
        end: {
          line: 527,
          column: 58
        }
      },
      "139": {
        start: {
          line: 528,
          column: 23
        },
        end: {
          line: 528,
          column: 45
        }
      },
      "140": {
        start: {
          line: 529,
          column: 6
        },
        end: {
          line: 529,
          column: 70
        }
      },
      "141": {
        start: {
          line: 531,
          column: 6
        },
        end: {
          line: 531,
          column: 29
        }
      },
      "142": {
        start: {
          line: 534,
          column: 6
        },
        end: {
          line: 534,
          column: 65
        }
      },
      "143": {
        start: {
          line: 535,
          column: 6
        },
        end: {
          line: 538,
          column: 8
        }
      }
    },
    fnMap: {
      "0": {
        name: "requireAuth",
        decl: {
          start: {
            line: 63,
            column: 22
          },
          end: {
            line: 63,
            column: 33
          }
        },
        loc: {
          start: {
            line: 63,
            column: 43
          },
          end: {
            line: 106,
            column: 1
          }
        },
        line: 63
      },
      "1": {
        name: "applyRateLimit",
        decl: {
          start: {
            line: 111,
            column: 22
          },
          end: {
            line: 111,
            column: 36
          }
        },
        loc: {
          start: {
            line: 111,
            column: 75
          },
          end: {
            line: 156,
            column: 1
          }
        },
        line: 111
      },
      "2": {
        name: "validateSubscriptionInput",
        decl: {
          start: {
            line: 161,
            column: 16
          },
          end: {
            line: 161,
            column: 41
          }
        },
        loc: {
          start: {
            line: 161,
            column: 56
          },
          end: {
            line: 189,
            column: 1
          }
        },
        line: 161
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 171,
            column: 43
          },
          end: {
            line: 171,
            column: 44
          }
        },
        loc: {
          start: {
            line: 171,
            column: 51
          },
          end: {
            line: 175,
            column: 5
          }
        },
        line: 171
      },
      "4": {
        name: "validateWebhookSignature",
        decl: {
          start: {
            line: 194,
            column: 22
          },
          end: {
            line: 194,
            column: 46
          }
        },
        loc: {
          start: {
            line: 194,
            column: 67
          },
          end: {
            line: 261,
            column: 1
          }
        },
        line: 194
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 214,
            column: 50
          },
          end: {
            line: 214,
            column: 51
          }
        },
        loc: {
          start: {
            line: 214,
            column: 60
          },
          end: {
            line: 214,
            column: 80
          }
        },
        line: 214
      },
      "6": {
        name: "validateSubscriptionPlan",
        decl: {
          start: {
            line: 266,
            column: 16
          },
          end: {
            line: 266,
            column: 40
          }
        },
        loc: {
          start: {
            line: 266,
            column: 63
          },
          end: {
            line: 321,
            column: 1
          }
        },
        line: 266
      },
      "7": {
        name: "checkSubscriptionEligibility",
        decl: {
          start: {
            line: 326,
            column: 22
          },
          end: {
            line: 326,
            column: 50
          }
        },
        loc: {
          start: {
            line: 326,
            column: 59
          },
          end: {
            line: 358,
            column: 1
          }
        },
        line: 326
      },
      "8": {
        name: "addSecurityHeaders",
        decl: {
          start: {
            line: 363,
            column: 16
          },
          end: {
            line: 363,
            column: 34
          }
        },
        loc: {
          start: {
            line: 363,
            column: 45
          },
          end: {
            line: 376,
            column: 1
          }
        },
        line: 363
      },
      "9": {
        name: "sanitizeInput",
        decl: {
          start: {
            line: 381,
            column: 16
          },
          end: {
            line: 381,
            column: 29
          }
        },
        loc: {
          start: {
            line: 381,
            column: 36
          },
          end: {
            line: 400,
            column: 1
          }
        },
        line: 381
      },
      "10": {
        name: "withSubscriptionSecurity",
        decl: {
          start: {
            line: 405,
            column: 16
          },
          end: {
            line: 405,
            column: 40
          }
        },
        loc: {
          start: {
            line: 405,
            column: 64
          },
          end: {
            line: 483,
            column: 1
          }
        },
        line: 405
      },
      "11": {
        name: "securedHandler",
        decl: {
          start: {
            line: 406,
            column: 24
          },
          end: {
            line: 406,
            column: 38
          }
        },
        loc: {
          start: {
            line: 406,
            column: 48
          },
          end: {
            line: 482,
            column: 3
          }
        },
        line: 406
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 432,
            column: 48
          },
          end: {
            line: 432,
            column: 49
          }
        },
        loc: {
          start: {
            line: 432,
            column: 55
          },
          end: {
            line: 432,
            column: 57
          }
        },
        line: 432
      },
      "13": {
        name: "withWebhookSecurity",
        decl: {
          start: {
            line: 488,
            column: 16
          },
          end: {
            line: 488,
            column: 35
          }
        },
        loc: {
          start: {
            line: 488,
            column: 45
          },
          end: {
            line: 541,
            column: 1
          }
        },
        line: 488
      },
      "14": {
        name: "securedWebhookHandler",
        decl: {
          start: {
            line: 489,
            column: 24
          },
          end: {
            line: 489,
            column: 45
          }
        },
        loc: {
          start: {
            line: 489,
            column: 55
          },
          end: {
            line: 540,
            column: 3
          }
        },
        line: 489
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 67,
            column: 4
          },
          end: {
            line: 76,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 67,
            column: 4
          },
          end: {
            line: 76,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 67
      },
      "1": {
        loc: {
          start: {
            line: 67,
            column: 8
          },
          end: {
            line: 67,
            column: 33
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 67,
            column: 8
          },
          end: {
            line: 67,
            column: 16
          }
        }, {
          start: {
            line: 67,
            column: 20
          },
          end: {
            line: 67,
            column: 33
          }
        }],
        line: 67
      },
      "2": {
        loc: {
          start: {
            line: 79,
            column: 4
          },
          end: {
            line: 88,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 79,
            column: 4
          },
          end: {
            line: 88,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 79
      },
      "3": {
        loc: {
          start: {
            line: 111,
            column: 49
          },
          end: {
            line: 111,
            column: 73
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 111,
            column: 61
          },
          end: {
            line: 111,
            column: 73
          }
        }],
        line: 111
      },
      "4": {
        loc: {
          start: {
            line: 113,
            column: 4
          },
          end: {
            line: 116,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 113,
            column: 4
          },
          end: {
            line: 116,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 113
      },
      "5": {
        loc: {
          start: {
            line: 125,
            column: 4
          },
          end: {
            line: 144,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 125,
            column: 4
          },
          end: {
            line: 144,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 125
      },
      "6": {
        loc: {
          start: {
            line: 171,
            column: 25
          },
          end: {
            line: 175,
            column: 13
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 171,
            column: 25
          },
          end: {
            line: 175,
            column: 7
          }
        }, {
          start: {
            line: 175,
            column: 11
          },
          end: {
            line: 175,
            column: 13
          }
        }],
        line: 171
      },
      "7": {
        loc: {
          start: {
            line: 197,
            column: 4
          },
          end: {
            line: 200,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 197,
            column: 4
          },
          end: {
            line: 200,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 197
      },
      "8": {
        loc: {
          start: {
            line: 197,
            column: 8
          },
          end: {
            line: 197,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 197,
            column: 8
          },
          end: {
            line: 197,
            column: 39
          }
        }, {
          start: {
            line: 197,
            column: 43
          },
          end: {
            line: 197,
            column: 53
          }
        }],
        line: 197
      },
      "9": {
        loc: {
          start: {
            line: 215,
            column: 4
          },
          end: {
            line: 224,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 215,
            column: 4
          },
          end: {
            line: 224,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 215
      },
      "10": {
        loc: {
          start: {
            line: 235,
            column: 4
          },
          end: {
            line: 244,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 235,
            column: 4
          },
          end: {
            line: 244,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 235
      },
      "11": {
        loc: {
          start: {
            line: 270,
            column: 4
          },
          end: {
            line: 279,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 270,
            column: 4
          },
          end: {
            line: 279,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 270
      },
      "12": {
        loc: {
          start: {
            line: 283,
            column: 4
          },
          end: {
            line: 292,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 283,
            column: 4
          },
          end: {
            line: 292,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 283
      },
      "13": {
        loc: {
          start: {
            line: 295,
            column: 4
          },
          end: {
            line: 304,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 295,
            column: 4
          },
          end: {
            line: 304,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 295
      },
      "14": {
        loc: {
          start: {
            line: 371,
            column: 54
          },
          end: {
            line: 371,
            column: 112
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 371,
            column: 54
          },
          end: {
            line: 371,
            column: 85
          }
        }, {
          start: {
            line: 371,
            column: 89
          },
          end: {
            line: 371,
            column: 112
          }
        }],
        line: 371
      },
      "15": {
        loc: {
          start: {
            line: 382,
            column: 2
          },
          end: {
            line: 389,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 382,
            column: 2
          },
          end: {
            line: 389,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 382
      },
      "16": {
        loc: {
          start: {
            line: 391,
            column: 2
          },
          end: {
            line: 397,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 391,
            column: 2
          },
          end: {
            line: 397,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 391
      },
      "17": {
        loc: {
          start: {
            line: 391,
            column: 6
          },
          end: {
            line: 391,
            column: 47
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 391,
            column: 6
          },
          end: {
            line: 391,
            column: 30
          }
        }, {
          start: {
            line: 391,
            column: 34
          },
          end: {
            line: 391,
            column: 47
          }
        }],
        line: 391
      },
      "18": {
        loc: {
          start: {
            line: 405,
            column: 50
          },
          end: {
            line: 405,
            column: 62
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 405,
            column: 60
          },
          end: {
            line: 405,
            column: 62
          }
        }],
        line: 405
      },
      "19": {
        loc: {
          start: {
            line: 411,
            column: 21
          },
          end: {
            line: 413,
            column: 31
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 411,
            column: 21
          },
          end: {
            line: 411,
            column: 63
          }
        }, {
          start: {
            line: 412,
            column: 20
          },
          end: {
            line: 412,
            column: 52
          }
        }, {
          start: {
            line: 413,
            column: 20
          },
          end: {
            line: 413,
            column: 31
          }
        }],
        line: 411
      },
      "20": {
        loc: {
          start: {
            line: 416,
            column: 6
          },
          end: {
            line: 418,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 416,
            column: 6
          },
          end: {
            line: 418,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 416
      },
      "21": {
        loc: {
          start: {
            line: 421,
            column: 6
          },
          end: {
            line: 428,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 421,
            column: 6
          },
          end: {
            line: 428,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 421
      },
      "22": {
        loc: {
          start: {
            line: 423,
            column: 8
          },
          end: {
            line: 425,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 423,
            column: 8
          },
          end: {
            line: 425,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 423
      },
      "23": {
        loc: {
          start: {
            line: 431,
            column: 6
          },
          end: {
            line: 441,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 431,
            column: 6
          },
          end: {
            line: 441,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 431
      },
      "24": {
        loc: {
          start: {
            line: 436,
            column: 8
          },
          end: {
            line: 438,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 436,
            column: 8
          },
          end: {
            line: 438,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 436
      },
      "25": {
        loc: {
          start: {
            line: 444,
            column: 6
          },
          end: {
            line: 453,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 444,
            column: 6
          },
          end: {
            line: 453,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 444
      },
      "26": {
        loc: {
          start: {
            line: 444,
            column: 10
          },
          end: {
            line: 444,
            column: 55
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 444,
            column: 10
          },
          end: {
            line: 444,
            column: 30
          }
        }, {
          start: {
            line: 444,
            column: 34
          },
          end: {
            line: 444,
            column: 55
          }
        }],
        line: 444
      },
      "27": {
        loc: {
          start: {
            line: 446,
            column: 8
          },
          end: {
            line: 452,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 446,
            column: 8
          },
          end: {
            line: 452,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 446
      },
      "28": {
        loc: {
          start: {
            line: 448,
            column: 10
          },
          end: {
            line: 450,
            column: 11
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 448,
            column: 10
          },
          end: {
            line: 450,
            column: 11
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 448
      },
      "29": {
        loc: {
          start: {
            line: 456,
            column: 6
          },
          end: {
            line: 461,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 456,
            column: 6
          },
          end: {
            line: 461,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 456
      },
      "30": {
        loc: {
          start: {
            line: 456,
            column: 10
          },
          end: {
            line: 456,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 456,
            column: 10
          },
          end: {
            line: 456,
            column: 34
          }
        }, {
          start: {
            line: 456,
            column: 38
          },
          end: {
            line: 456,
            column: 52
          }
        }],
        line: 456
      },
      "31": {
        loc: {
          start: {
            line: 458,
            column: 8
          },
          end: {
            line: 460,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 458,
            column: 8
          },
          end: {
            line: 460,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 458
      },
      "32": {
        loc: {
          start: {
            line: 494,
            column: 23
          },
          end: {
            line: 494,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 494,
            column: 23
          },
          end: {
            line: 494,
            column: 61
          }
        }, {
          start: {
            line: 494,
            column: 65
          },
          end: {
            line: 494,
            column: 74
          }
        }],
        line: 494
      },
      "33": {
        loc: {
          start: {
            line: 496,
            column: 6
          },
          end: {
            line: 498,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 496,
            column: 6
          },
          end: {
            line: 498,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 496
      },
      "34": {
        loc: {
          start: {
            line: 502,
            column: 6
          },
          end: {
            line: 512,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 502,
            column: 6
          },
          end: {
            line: 512,
            column: 7
          }
        }, {
          start: {
            line: 508,
            column: 13
          },
          end: {
            line: 512,
            column: 7
          }
        }],
        line: 502
      },
      "35": {
        loc: {
          start: {
            line: 504,
            column: 8
          },
          end: {
            line: 506,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 504,
            column: 8
          },
          end: {
            line: 506,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 504
      },
      "36": {
        loc: {
          start: {
            line: 519,
            column: 6
          },
          end: {
            line: 521,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 519,
            column: 6
          },
          end: {
            line: 521,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 519
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0,
      "131": 0,
      "132": 0,
      "133": 0,
      "134": 0,
      "135": 0,
      "136": 0,
      "137": 0,
      "138": 0,
      "139": 0,
      "140": 0,
      "141": 0,
      "142": 0,
      "143": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0],
      "19": [0, 0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0, 0]
    },
    inputSourceMap: null,
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "35dea9a994b3900ae83319714ee15b0f875bac69"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_eamr2yal1 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_eamr2yal1();
// lib/subscription-security.js

import { NextResponse } from 'next/server';
import { ratelimit } from '@/lib/upstash';
import { getServerSession } from 'next-auth';
import { authOptions } from '@/lib/auth';
import { z } from 'zod';
import crypto from 'crypto';
import { sandboxConfig } from '@/lib/paypal-sandbox-config';
import { PAYPAL_PLANS } from '@/lib/paypal-config';

/**
 * Subscription Security Layer
 * Provides authentication, validation, rate limiting, and security features
 * for subscription-related API endpoints
 */

// Rate limiting configurations
const RATE_LIMITS =
/* istanbul ignore next */
(cov_eamr2yal1().s[0]++, {
  subscription_create: {
    requests: 3,
    window: '1 h'
  },
  subscription_update: {
    requests: 10,
    window: '1 h'
  },
  webhook: {
    requests: 1000,
    window: '1 m'
  },
  management: {
    requests: 30,
    window: '1 m'
  }
});

// Validation schemas
export const subscriptionSchemas =
/* istanbul ignore next */
(cov_eamr2yal1().s[1]++, {
  createSubscription: z.object({
    planId: z.enum(['INDIVIDUAL_MONTHLY', 'INDIVIDUAL_YEARLY', 'ENTERPRISE_MONTHLY', 'ENTERPRISE_YEARLY']),
    billingCycle: z.enum(['monthly', 'yearly']),
    returnUrl: z.string().url().optional(),
    cancelUrl: z.string().url().optional(),
    metadata: z.record(z.any()).optional()
  }),
  updateSubscription: z.object({
    subscriptionId: z.string().min(1),
    action: z.enum(['cancel', 'suspend', 'activate', 'change_plan']),
    newPlanId: z.string().optional(),
    reason: z.string().optional(),
    effectiveDate: z.string().datetime().optional()
  }),
  planChange: z.object({
    currentPlan: z.string(),
    newPlan: z.string(),
    prorationMode: z.enum(['immediate', 'end_of_period']).default('immediate')
  }),
  webhook: z.object({
    id: z.string(),
    event_type: z.string(),
    resource_type: z.string(),
    resource: z.record(z.any()),
    create_time: z.string(),
    event_version: z.string().optional()
  })
});

/**
 * Authentication middleware for subscription APIs
 */
export async function requireAuth(request) {
  /* istanbul ignore next */
  cov_eamr2yal1().f[0]++;
  cov_eamr2yal1().s[2]++;
  try {
    const session =
    /* istanbul ignore next */
    (cov_eamr2yal1().s[3]++, await getServerSession(authOptions));
    /* istanbul ignore next */
    cov_eamr2yal1().s[4]++;
    if (
    /* istanbul ignore next */
    (cov_eamr2yal1().b[1][0]++, !session) ||
    /* istanbul ignore next */
    (cov_eamr2yal1().b[1][1]++, !session.user)) {
      /* istanbul ignore next */
      cov_eamr2yal1().b[0][0]++;
      cov_eamr2yal1().s[5]++;
      return {
        authenticated: false,
        error: 'Authentication required',
        response: NextResponse.json({
          error: 'Authentication required'
        }, {
          status: 401
        })
      };
    } else
    /* istanbul ignore next */
    {
      cov_eamr2yal1().b[0][1]++;
    }

    // Check if user has verified email (required for subscriptions)
    cov_eamr2yal1().s[6]++;
    if (!session.user.emailVerified) {
      /* istanbul ignore next */
      cov_eamr2yal1().b[2][0]++;
      cov_eamr2yal1().s[7]++;
      return {
        authenticated: false,
        error: 'Email verification required',
        response: NextResponse.json({
          error: 'Please verify your email before creating a subscription'
        }, {
          status: 403
        })
      };
    } else
    /* istanbul ignore next */
    {
      cov_eamr2yal1().b[2][1]++;
    }
    cov_eamr2yal1().s[8]++;
    return {
      authenticated: true,
      user: session.user,
      userId: session.user.id
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_eamr2yal1().s[9]++;
    console.error('Authentication error:', error);
    /* istanbul ignore next */
    cov_eamr2yal1().s[10]++;
    return {
      authenticated: false,
      error: 'Authentication failed',
      response: NextResponse.json({
        error: 'Authentication failed'
      }, {
        status: 401
      })
    };
  }
}

/**
 * Rate limiting middleware
 */
export async function applyRateLimit(identifier, limitType =
/* istanbul ignore next */
(cov_eamr2yal1().b[3][0]++, 'management')) {
  /* istanbul ignore next */
  cov_eamr2yal1().f[1]++;
  cov_eamr2yal1().s[11]++;
  try {
    /* istanbul ignore next */
    cov_eamr2yal1().s[12]++;
    if (!ratelimit) {
      /* istanbul ignore next */
      cov_eamr2yal1().b[4][0]++;
      cov_eamr2yal1().s[13]++;
      console.warn('Rate limiting not configured');
      /* istanbul ignore next */
      cov_eamr2yal1().s[14]++;
      return {
        success: true
      };
    } else
    /* istanbul ignore next */
    {
      cov_eamr2yal1().b[4][1]++;
    }
    const limit =
    /* istanbul ignore next */
    (cov_eamr2yal1().s[15]++, RATE_LIMITS[limitType]);
    const {
      success,
      limit: rateLimitInfo,
      reset,
      remaining
    } =
    /* istanbul ignore next */
    (cov_eamr2yal1().s[16]++, await ratelimit.limit(`subscription_${limitType}:${identifier}`, limit.requests, limit.window));
    /* istanbul ignore next */
    cov_eamr2yal1().s[17]++;
    if (!success) {
      /* istanbul ignore next */
      cov_eamr2yal1().b[5][0]++;
      cov_eamr2yal1().s[18]++;
      return {
        success: false,
        error: 'Rate limit exceeded',
        response: NextResponse.json({
          error: 'Too many requests',
          retryAfter: Math.round((reset - Date.now()) / 1000)
        }, {
          status: 429,
          headers: {
            'X-RateLimit-Limit': rateLimitInfo.toString(),
            'X-RateLimit-Remaining': remaining.toString(),
            'X-RateLimit-Reset': reset.toString()
          }
        })
      };
    } else
    /* istanbul ignore next */
    {
      cov_eamr2yal1().b[5][1]++;
    }
    cov_eamr2yal1().s[19]++;
    return {
      success: true,
      remaining,
      reset
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_eamr2yal1().s[20]++;
    console.error('Rate limiting error:', error);
    // Allow request to proceed if rate limiting fails
    /* istanbul ignore next */
    cov_eamr2yal1().s[21]++;
    return {
      success: true
    };
  }
}

/**
 * Input validation middleware
 */
export function validateSubscriptionInput(data, schema) {
  /* istanbul ignore next */
  cov_eamr2yal1().f[2]++;
  cov_eamr2yal1().s[22]++;
  try {
    const validated =
    /* istanbul ignore next */
    (cov_eamr2yal1().s[23]++, schema.parse(data));
    /* istanbul ignore next */
    cov_eamr2yal1().s[24]++;
    return {
      valid: true,
      data: validated
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_eamr2yal1().s[25]++;
    console.error('Validation error:', error);
    const errorDetails =
    /* istanbul ignore next */
    (cov_eamr2yal1().s[26]++,
    /* istanbul ignore next */
    (cov_eamr2yal1().b[6][0]++, error.errors?.map(err => {
      /* istanbul ignore next */
      cov_eamr2yal1().f[3]++;
      cov_eamr2yal1().s[27]++;
      return {
        field: err.path.join('.'),
        message: err.message,
        code: err.code
      };
    })) ||
    /* istanbul ignore next */
    (cov_eamr2yal1().b[6][1]++, []));
    /* istanbul ignore next */
    cov_eamr2yal1().s[28]++;
    return {
      valid: false,
      errors: errorDetails,
      response: NextResponse.json({
        error: 'Invalid input',
        details: errorDetails
      }, {
        status: 400
      })
    };
  }
}

/**
 * Enhanced webhook signature validation
 */
export async function validateWebhookSignature(request, webhookId) {
  /* istanbul ignore next */
  cov_eamr2yal1().f[4]++;
  cov_eamr2yal1().s[29]++;
  try {
    /* istanbul ignore next */
    cov_eamr2yal1().s[30]++;
    // Skip validation in test environment
    if (
    /* istanbul ignore next */
    (cov_eamr2yal1().b[8][0]++, process.env.NODE_ENV === 'test') &&
    /* istanbul ignore next */
    (cov_eamr2yal1().b[8][1]++, !webhookId)) {
      /* istanbul ignore next */
      cov_eamr2yal1().b[7][0]++;
      cov_eamr2yal1().s[31]++;
      console.log('Skipping webhook signature validation in test environment');
      /* istanbul ignore next */
      cov_eamr2yal1().s[32]++;
      return {
        valid: true
      };
    } else
    /* istanbul ignore next */
    {
      cov_eamr2yal1().b[7][1]++;
    }
    const headers =
    /* istanbul ignore next */
    (cov_eamr2yal1().s[33]++, request.headers);
    const body =
    /* istanbul ignore next */
    (cov_eamr2yal1().s[34]++, await request.text());

    // Required PayPal webhook headers
    const requiredHeaders =
    /* istanbul ignore next */
    (cov_eamr2yal1().s[35]++, ['paypal-transmission-id', 'paypal-cert-id', 'paypal-auth-algo', 'paypal-transmission-sig', 'paypal-transmission-time']);
    const missingHeaders =
    /* istanbul ignore next */
    (cov_eamr2yal1().s[36]++, requiredHeaders.filter(header => {
      /* istanbul ignore next */
      cov_eamr2yal1().f[5]++;
      cov_eamr2yal1().s[37]++;
      return !headers.get(header);
    }));
    /* istanbul ignore next */
    cov_eamr2yal1().s[38]++;
    if (missingHeaders.length > 0) {
      /* istanbul ignore next */
      cov_eamr2yal1().b[9][0]++;
      cov_eamr2yal1().s[39]++;
      return {
        valid: false,
        error: `Missing required headers: ${missingHeaders.join(', ')}`,
        response: NextResponse.json({
          error: 'Invalid webhook signature - missing headers'
        }, {
          status: 401
        })
      };
    } else
    /* istanbul ignore next */
    {
      cov_eamr2yal1().b[9][1]++;
    }

    // Verify signature using PayPal client
    const mockRequest =
    /* istanbul ignore next */
    (cov_eamr2yal1().s[40]++, {
      headers: Object.fromEntries(headers.entries()),
      body: JSON.parse(body)
    });
    const paypalClient =
    /* istanbul ignore next */
    (cov_eamr2yal1().s[41]++, await import('@/lib/paypal-client'));
    const isValid =
    /* istanbul ignore next */
    (cov_eamr2yal1().s[42]++, await paypalClient.default.verifyWebhookSignature(mockRequest, webhookId));
    /* istanbul ignore next */
    cov_eamr2yal1().s[43]++;
    if (!isValid) {
      /* istanbul ignore next */
      cov_eamr2yal1().b[10][0]++;
      cov_eamr2yal1().s[44]++;
      return {
        valid: false,
        error: 'Invalid webhook signature',
        response: NextResponse.json({
          error: 'Invalid webhook signature'
        }, {
          status: 401
        })
      };
    } else
    /* istanbul ignore next */
    {
      cov_eamr2yal1().b[10][1]++;
    }
    cov_eamr2yal1().s[45]++;
    return {
      valid: true,
      body: JSON.parse(body)
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_eamr2yal1().s[46]++;
    console.error('Webhook signature validation error:', error);
    /* istanbul ignore next */
    cov_eamr2yal1().s[47]++;
    return {
      valid: false,
      error: 'Signature validation failed',
      response: NextResponse.json({
        error: 'Webhook signature validation failed'
      }, {
        status: 401
      })
    };
  }
}

/**
 * Subscription plan validation
 */
export function validateSubscriptionPlan(planId, billingCycle) {
  /* istanbul ignore next */
  cov_eamr2yal1().f[6]++;
  cov_eamr2yal1().s[48]++;
  try {
    // Check if plan exists in configuration
    const planConfig =
    /* istanbul ignore next */
    (cov_eamr2yal1().s[49]++, PAYPAL_PLANS[planId]);
    /* istanbul ignore next */
    cov_eamr2yal1().s[50]++;
    if (!planConfig) {
      /* istanbul ignore next */
      cov_eamr2yal1().b[11][0]++;
      cov_eamr2yal1().s[51]++;
      return {
        valid: false,
        error: `Invalid plan ID: ${planId}`,
        response: NextResponse.json({
          error: `Invalid subscription plan: ${planId}`
        }, {
          status: 400
        })
      };
    } else
    /* istanbul ignore next */
    {
      cov_eamr2yal1().b[11][1]++;
    }

    // Validate billing cycle matches plan
    const expectedCycle =
    /* istanbul ignore next */
    (cov_eamr2yal1().s[52]++, planConfig.billing_cycle.toLowerCase());
    /* istanbul ignore next */
    cov_eamr2yal1().s[53]++;
    if (billingCycle !== expectedCycle) {
      /* istanbul ignore next */
      cov_eamr2yal1().b[12][0]++;
      cov_eamr2yal1().s[54]++;
      return {
        valid: false,
        error: `Billing cycle mismatch: expected ${expectedCycle}, got ${billingCycle}`,
        response: NextResponse.json({
          error: `Invalid billing cycle for plan ${planId}`
        }, {
          status: 400
        })
      };
    } else
    /* istanbul ignore next */
    {
      cov_eamr2yal1().b[12][1]++;
    }

    // Check if plan is active/available
    cov_eamr2yal1().s[55]++;
    if (planConfig.status === 'INACTIVE') {
      /* istanbul ignore next */
      cov_eamr2yal1().b[13][0]++;
      cov_eamr2yal1().s[56]++;
      return {
        valid: false,
        error: `Plan ${planId} is not available`,
        response: NextResponse.json({
          error: `Subscription plan ${planId} is currently unavailable`
        }, {
          status: 400
        })
      };
    } else
    /* istanbul ignore next */
    {
      cov_eamr2yal1().b[13][1]++;
    }
    cov_eamr2yal1().s[57]++;
    return {
      valid: true,
      plan: planConfig
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_eamr2yal1().s[58]++;
    console.error('Plan validation error:', error);
    /* istanbul ignore next */
    cov_eamr2yal1().s[59]++;
    return {
      valid: false,
      error: 'Plan validation failed',
      response: NextResponse.json({
        error: 'Invalid subscription plan configuration'
      }, {
        status: 500
      })
    };
  }
}

/**
 * User subscription eligibility check
 */
export async function checkSubscriptionEligibility(userId) {
  /* istanbul ignore next */
  cov_eamr2yal1().f[7]++;
  cov_eamr2yal1().s[60]++;
  try {
    /* istanbul ignore next */
    cov_eamr2yal1().s[61]++;
    // TODO: Check against your user database
    // For now, return basic eligibility check

    // Check if user already has active subscription
    // const existingSubscription = await getUserActiveSubscription(userId);
    // if (existingSubscription) {
    //   return {
    //     eligible: false,
    //     error: 'User already has an active subscription',
    //     response: NextResponse.json(
    //       { error: 'You already have an active subscription. Please cancel it first to create a new one.' },
    //       { status: 409 }
    //     )
    //   };
    // }

    return {
      eligible: true
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_eamr2yal1().s[62]++;
    console.error('Eligibility check error:', error);
    /* istanbul ignore next */
    cov_eamr2yal1().s[63]++;
    return {
      eligible: false,
      error: 'Eligibility check failed',
      response: NextResponse.json({
        error: 'Unable to verify subscription eligibility'
      }, {
        status: 500
      })
    };
  }
}

/**
 * Security headers middleware
 */
export function addSecurityHeaders(response) {
  /* istanbul ignore next */
  cov_eamr2yal1().f[8]++;
  cov_eamr2yal1().s[64]++;
  // Add security headers to response
  response.headers.set('X-Content-Type-Options', 'nosniff');
  /* istanbul ignore next */
  cov_eamr2yal1().s[65]++;
  response.headers.set('X-Frame-Options', 'DENY');
  /* istanbul ignore next */
  cov_eamr2yal1().s[66]++;
  response.headers.set('X-XSS-Protection', '1; mode=block');
  /* istanbul ignore next */
  cov_eamr2yal1().s[67]++;
  response.headers.set('Referrer-Policy', 'strict-origin-when-cross-origin');

  // Add CORS headers for subscription endpoints
  /* istanbul ignore next */
  cov_eamr2yal1().s[68]++;
  response.headers.set('Access-Control-Allow-Origin',
  /* istanbul ignore next */
  (cov_eamr2yal1().b[14][0]++, process.env.NEXT_PUBLIC_APP_URL) ||
  /* istanbul ignore next */
  (cov_eamr2yal1().b[14][1]++, 'https://prepbettr.com'));
  /* istanbul ignore next */
  cov_eamr2yal1().s[69]++;
  response.headers.set('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');
  /* istanbul ignore next */
  cov_eamr2yal1().s[70]++;
  response.headers.set('Access-Control-Allow-Headers', 'Content-Type, Authorization');
  /* istanbul ignore next */
  cov_eamr2yal1().s[71]++;
  return response;
}

/**
 * Input sanitization
 */
export function sanitizeInput(data) {
  /* istanbul ignore next */
  cov_eamr2yal1().f[9]++;
  cov_eamr2yal1().s[72]++;
  if (typeof data === 'string') {
    /* istanbul ignore next */
    cov_eamr2yal1().b[15][0]++;
    cov_eamr2yal1().s[73]++;
    // Remove potential XSS vectors
    return data.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '').replace(/javascript:/gi, '').replace(/on\w+=/gi, '').trim();
  } else
  /* istanbul ignore next */
  {
    cov_eamr2yal1().b[15][1]++;
  }
  cov_eamr2yal1().s[74]++;
  if (
  /* istanbul ignore next */
  (cov_eamr2yal1().b[17][0]++, typeof data === 'object') &&
  /* istanbul ignore next */
  (cov_eamr2yal1().b[17][1]++, data !== null)) {
    /* istanbul ignore next */
    cov_eamr2yal1().b[16][0]++;
    const sanitized =
    /* istanbul ignore next */
    (cov_eamr2yal1().s[75]++, {});
    /* istanbul ignore next */
    cov_eamr2yal1().s[76]++;
    for (const [key, value] of Object.entries(data)) {
      /* istanbul ignore next */
      cov_eamr2yal1().s[77]++;
      sanitized[sanitizeInput(key)] = sanitizeInput(value);
    }
    /* istanbul ignore next */
    cov_eamr2yal1().s[78]++;
    return sanitized;
  } else
  /* istanbul ignore next */
  {
    cov_eamr2yal1().b[16][1]++;
  }
  cov_eamr2yal1().s[79]++;
  return data;
}

/**
 * Comprehensive security middleware wrapper
 */
export function withSubscriptionSecurity(handler, options =
/* istanbul ignore next */
(cov_eamr2yal1().b[18][0]++, {})) {
  /* istanbul ignore next */
  cov_eamr2yal1().f[10]++;
  cov_eamr2yal1().s[80]++;
  return async function securedHandler(request) {
    /* istanbul ignore next */
    cov_eamr2yal1().f[11]++;
    cov_eamr2yal1().s[81]++;
    try {
      const startTime =
      /* istanbul ignore next */
      (cov_eamr2yal1().s[82]++, Date.now());

      // Apply rate limiting
      const userId =
      /* istanbul ignore next */
      (cov_eamr2yal1().s[83]++,
      /* istanbul ignore next */
      (cov_eamr2yal1().b[19][0]++, request.nextUrl.searchParams.get('userId')) ||
      /* istanbul ignore next */
      (cov_eamr2yal1().b[19][1]++, request.headers.get('x-user-id')) ||
      /* istanbul ignore next */
      (cov_eamr2yal1().b[19][2]++, 'anonymous'));
      const rateLimitResult =
      /* istanbul ignore next */
      (cov_eamr2yal1().s[84]++, await applyRateLimit(userId, options.limitType));
      /* istanbul ignore next */
      cov_eamr2yal1().s[85]++;
      if (!rateLimitResult.success) {
        /* istanbul ignore next */
        cov_eamr2yal1().b[20][0]++;
        cov_eamr2yal1().s[86]++;
        return rateLimitResult.response;
      } else
      /* istanbul ignore next */
      {
        cov_eamr2yal1().b[20][1]++;
      }

      // Require authentication (unless webhook)
      cov_eamr2yal1().s[87]++;
      if (options.requireAuth !== false) {
        /* istanbul ignore next */
        cov_eamr2yal1().b[21][0]++;
        const authResult =
        /* istanbul ignore next */
        (cov_eamr2yal1().s[88]++, await requireAuth(request));
        /* istanbul ignore next */
        cov_eamr2yal1().s[89]++;
        if (!authResult.authenticated) {
          /* istanbul ignore next */
          cov_eamr2yal1().b[22][0]++;
          cov_eamr2yal1().s[90]++;
          return authResult.response;
        } else
        /* istanbul ignore next */
        {
          cov_eamr2yal1().b[22][1]++;
        }
        cov_eamr2yal1().s[91]++;
        request.user = authResult.user;
        /* istanbul ignore next */
        cov_eamr2yal1().s[92]++;
        request.userId = authResult.userId;
      } else
      /* istanbul ignore next */
      {
        cov_eamr2yal1().b[21][1]++;
      }

      // Validate input if schema provided
      cov_eamr2yal1().s[93]++;
      if (options.schema) {
        /* istanbul ignore next */
        cov_eamr2yal1().b[23][0]++;
        const body =
        /* istanbul ignore next */
        (cov_eamr2yal1().s[94]++, await request.json().catch(() => {
          /* istanbul ignore next */
          cov_eamr2yal1().f[12]++;
          cov_eamr2yal1().s[95]++;
          return {};
        }));
        const sanitizedBody =
        /* istanbul ignore next */
        (cov_eamr2yal1().s[96]++, sanitizeInput(body));
        const validationResult =
        /* istanbul ignore next */
        (cov_eamr2yal1().s[97]++, validateSubscriptionInput(sanitizedBody, options.schema));
        /* istanbul ignore next */
        cov_eamr2yal1().s[98]++;
        if (!validationResult.valid) {
          /* istanbul ignore next */
          cov_eamr2yal1().b[24][0]++;
          cov_eamr2yal1().s[99]++;
          return validationResult.response;
        } else
        /* istanbul ignore next */
        {
          cov_eamr2yal1().b[24][1]++;
        }
        cov_eamr2yal1().s[100]++;
        request.validatedBody = validationResult.data;
      } else
      /* istanbul ignore next */
      {
        cov_eamr2yal1().b[23][1]++;
      }

      // Additional security checks
      cov_eamr2yal1().s[101]++;
      if (
      /* istanbul ignore next */
      (cov_eamr2yal1().b[26][0]++, options.validatePlan) &&
      /* istanbul ignore next */
      (cov_eamr2yal1().b[26][1]++, request.validatedBody)) {
        /* istanbul ignore next */
        cov_eamr2yal1().b[25][0]++;
        const {
          planId,
          billingCycle
        } =
        /* istanbul ignore next */
        (cov_eamr2yal1().s[102]++, request.validatedBody);
        /* istanbul ignore next */
        cov_eamr2yal1().s[103]++;
        if (planId) {
          /* istanbul ignore next */
          cov_eamr2yal1().b[27][0]++;
          const planValidation =
          /* istanbul ignore next */
          (cov_eamr2yal1().s[104]++, validateSubscriptionPlan(planId, billingCycle));
          /* istanbul ignore next */
          cov_eamr2yal1().s[105]++;
          if (!planValidation.valid) {
            /* istanbul ignore next */
            cov_eamr2yal1().b[28][0]++;
            cov_eamr2yal1().s[106]++;
            return planValidation.response;
          } else
          /* istanbul ignore next */
          {
            cov_eamr2yal1().b[28][1]++;
          }
          cov_eamr2yal1().s[107]++;
          request.planConfig = planValidation.plan;
        } else
        /* istanbul ignore next */
        {
          cov_eamr2yal1().b[27][1]++;
        }
      } else
      /* istanbul ignore next */
      {
        cov_eamr2yal1().b[25][1]++;
      }

      // Check subscription eligibility
      cov_eamr2yal1().s[108]++;
      if (
      /* istanbul ignore next */
      (cov_eamr2yal1().b[30][0]++, options.checkEligibility) &&
      /* istanbul ignore next */
      (cov_eamr2yal1().b[30][1]++, request.userId)) {
        /* istanbul ignore next */
        cov_eamr2yal1().b[29][0]++;
        const eligibilityResult =
        /* istanbul ignore next */
        (cov_eamr2yal1().s[109]++, await checkSubscriptionEligibility(request.userId));
        /* istanbul ignore next */
        cov_eamr2yal1().s[110]++;
        if (!eligibilityResult.eligible) {
          /* istanbul ignore next */
          cov_eamr2yal1().b[31][0]++;
          cov_eamr2yal1().s[111]++;
          return eligibilityResult.response;
        } else
        /* istanbul ignore next */
        {
          cov_eamr2yal1().b[31][1]++;
        }
      } else
      /* istanbul ignore next */
      {
        cov_eamr2yal1().b[29][1]++;
      }

      // Call the actual handler
      const response =
      /* istanbul ignore next */
      (cov_eamr2yal1().s[112]++, await handler(request));

      // Add security headers
      const securedResponse =
      /* istanbul ignore next */
      (cov_eamr2yal1().s[113]++, addSecurityHeaders(response));

      // Add performance timing header
      const duration =
      /* istanbul ignore next */
      (cov_eamr2yal1().s[114]++, Date.now() - startTime);
      /* istanbul ignore next */
      cov_eamr2yal1().s[115]++;
      securedResponse.headers.set('X-Response-Time', `${duration}ms`);
      /* istanbul ignore next */
      cov_eamr2yal1().s[116]++;
      return securedResponse;
    } catch (error) {
      /* istanbul ignore next */
      cov_eamr2yal1().s[117]++;
      console.error('Security middleware error:', error);
      /* istanbul ignore next */
      cov_eamr2yal1().s[118]++;
      return NextResponse.json({
        error: 'Security validation failed'
      }, {
        status: 500
      });
    }
  };
}

/**
 * Webhook-specific security middleware
 */
export function withWebhookSecurity(handler) {
  /* istanbul ignore next */
  cov_eamr2yal1().f[13]++;
  cov_eamr2yal1().s[119]++;
  return async function securedWebhookHandler(request) {
    /* istanbul ignore next */
    cov_eamr2yal1().f[14]++;
    cov_eamr2yal1().s[120]++;
    try {
      const startTime =
      /* istanbul ignore next */
      (cov_eamr2yal1().s[121]++, Date.now());

      // Apply webhook rate limiting
      const clientIp =
      /* istanbul ignore next */
      (cov_eamr2yal1().s[122]++,
      /* istanbul ignore next */
      (cov_eamr2yal1().b[32][0]++, request.headers.get('x-forwarded-for')) ||
      /* istanbul ignore next */
      (cov_eamr2yal1().b[32][1]++, 'unknown'));
      const rateLimitResult =
      /* istanbul ignore next */
      (cov_eamr2yal1().s[123]++, await applyRateLimit(clientIp, 'webhook'));
      /* istanbul ignore next */
      cov_eamr2yal1().s[124]++;
      if (!rateLimitResult.success) {
        /* istanbul ignore next */
        cov_eamr2yal1().b[33][0]++;
        cov_eamr2yal1().s[125]++;
        return rateLimitResult.response;
      } else
      /* istanbul ignore next */
      {
        cov_eamr2yal1().b[33][1]++;
      }

      // Validate webhook signature
      const webhookId =
      /* istanbul ignore next */
      (cov_eamr2yal1().s[126]++, sandboxConfig.webhookId);
      /* istanbul ignore next */
      cov_eamr2yal1().s[127]++;
      if (webhookId) {
        /* istanbul ignore next */
        cov_eamr2yal1().b[34][0]++;
        const signatureResult =
        /* istanbul ignore next */
        (cov_eamr2yal1().s[128]++, await validateWebhookSignature(request, webhookId));
        /* istanbul ignore next */
        cov_eamr2yal1().s[129]++;
        if (!signatureResult.valid) {
          /* istanbul ignore next */
          cov_eamr2yal1().b[35][0]++;
          cov_eamr2yal1().s[130]++;
          return signatureResult.response;
        } else
        /* istanbul ignore next */
        {
          cov_eamr2yal1().b[35][1]++;
        }
        cov_eamr2yal1().s[131]++;
        request.webhookBody = signatureResult.body;
      } else {
        /* istanbul ignore next */
        cov_eamr2yal1().b[34][1]++;
        // In development without webhook ID, parse body manually
        const body =
        /* istanbul ignore next */
        (cov_eamr2yal1().s[132]++, await request.text());
        /* istanbul ignore next */
        cov_eamr2yal1().s[133]++;
        request.webhookBody = JSON.parse(body);
      }

      // Validate webhook payload structure
      const validationResult =
      /* istanbul ignore next */
      (cov_eamr2yal1().s[134]++, validateSubscriptionInput(request.webhookBody, subscriptionSchemas.webhook));
      /* istanbul ignore next */
      cov_eamr2yal1().s[135]++;
      if (!validationResult.valid) {
        /* istanbul ignore next */
        cov_eamr2yal1().b[36][0]++;
        cov_eamr2yal1().s[136]++;
        return validationResult.response;
      } else
      /* istanbul ignore next */
      {
        cov_eamr2yal1().b[36][1]++;
      }

      // Call the actual webhook handler
      const response =
      /* istanbul ignore next */
      (cov_eamr2yal1().s[137]++, await handler(request));

      // Add security headers and timing
      const securedResponse =
      /* istanbul ignore next */
      (cov_eamr2yal1().s[138]++, addSecurityHeaders(response));
      const duration =
      /* istanbul ignore next */
      (cov_eamr2yal1().s[139]++, Date.now() - startTime);
      /* istanbul ignore next */
      cov_eamr2yal1().s[140]++;
      securedResponse.headers.set('X-Response-Time', `${duration}ms`);
      /* istanbul ignore next */
      cov_eamr2yal1().s[141]++;
      return securedResponse;
    } catch (error) {
      /* istanbul ignore next */
      cov_eamr2yal1().s[142]++;
      console.error('Webhook security middleware error:', error);
      /* istanbul ignore next */
      cov_eamr2yal1().s[143]++;
      return NextResponse.json({
        error: 'Webhook security validation failed'
      }, {
        status: 500
      });
    }
  };
}

// Export schemas for use in other modules
export { subscriptionSchemas as schemas };
export default {
  withSubscriptionSecurity,
  withWebhookSecurity,
  requireAuth,
  applyRateLimit,
  validateSubscriptionInput,
  validateWebhookSignature,
  validateSubscriptionPlan,
  checkSubscriptionEligibility,
  sanitizeInput,
  addSecurityHeaders,
  schemas: subscriptionSchemas
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfZWFtcjJ5YWwxIiwiYWN0dWFsQ292ZXJhZ2UiLCJOZXh0UmVzcG9uc2UiLCJyYXRlbGltaXQiLCJnZXRTZXJ2ZXJTZXNzaW9uIiwiYXV0aE9wdGlvbnMiLCJ6IiwiY3J5cHRvIiwic2FuZGJveENvbmZpZyIsIlBBWVBBTF9QTEFOUyIsIlJBVEVfTElNSVRTIiwicyIsInN1YnNjcmlwdGlvbl9jcmVhdGUiLCJyZXF1ZXN0cyIsIndpbmRvdyIsInN1YnNjcmlwdGlvbl91cGRhdGUiLCJ3ZWJob29rIiwibWFuYWdlbWVudCIsInN1YnNjcmlwdGlvblNjaGVtYXMiLCJjcmVhdGVTdWJzY3JpcHRpb24iLCJvYmplY3QiLCJwbGFuSWQiLCJlbnVtIiwiYmlsbGluZ0N5Y2xlIiwicmV0dXJuVXJsIiwic3RyaW5nIiwidXJsIiwib3B0aW9uYWwiLCJjYW5jZWxVcmwiLCJtZXRhZGF0YSIsInJlY29yZCIsImFueSIsInVwZGF0ZVN1YnNjcmlwdGlvbiIsInN1YnNjcmlwdGlvbklkIiwibWluIiwiYWN0aW9uIiwibmV3UGxhbklkIiwicmVhc29uIiwiZWZmZWN0aXZlRGF0ZSIsImRhdGV0aW1lIiwicGxhbkNoYW5nZSIsImN1cnJlbnRQbGFuIiwibmV3UGxhbiIsInByb3JhdGlvbk1vZGUiLCJkZWZhdWx0IiwiaWQiLCJldmVudF90eXBlIiwicmVzb3VyY2VfdHlwZSIsInJlc291cmNlIiwiY3JlYXRlX3RpbWUiLCJldmVudF92ZXJzaW9uIiwicmVxdWlyZUF1dGgiLCJyZXF1ZXN0IiwiZiIsInNlc3Npb24iLCJiIiwidXNlciIsImF1dGhlbnRpY2F0ZWQiLCJlcnJvciIsInJlc3BvbnNlIiwianNvbiIsInN0YXR1cyIsImVtYWlsVmVyaWZpZWQiLCJ1c2VySWQiLCJjb25zb2xlIiwiYXBwbHlSYXRlTGltaXQiLCJpZGVudGlmaWVyIiwibGltaXRUeXBlIiwid2FybiIsInN1Y2Nlc3MiLCJsaW1pdCIsInJhdGVMaW1pdEluZm8iLCJyZXNldCIsInJlbWFpbmluZyIsInJldHJ5QWZ0ZXIiLCJNYXRoIiwicm91bmQiLCJEYXRlIiwibm93IiwiaGVhZGVycyIsInRvU3RyaW5nIiwidmFsaWRhdGVTdWJzY3JpcHRpb25JbnB1dCIsImRhdGEiLCJzY2hlbWEiLCJ2YWxpZGF0ZWQiLCJwYXJzZSIsInZhbGlkIiwiZXJyb3JEZXRhaWxzIiwiZXJyb3JzIiwibWFwIiwiZXJyIiwiZmllbGQiLCJwYXRoIiwiam9pbiIsIm1lc3NhZ2UiLCJjb2RlIiwiZGV0YWlscyIsInZhbGlkYXRlV2ViaG9va1NpZ25hdHVyZSIsIndlYmhvb2tJZCIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImxvZyIsImJvZHkiLCJ0ZXh0IiwicmVxdWlyZWRIZWFkZXJzIiwibWlzc2luZ0hlYWRlcnMiLCJmaWx0ZXIiLCJoZWFkZXIiLCJnZXQiLCJsZW5ndGgiLCJtb2NrUmVxdWVzdCIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwiZW50cmllcyIsIkpTT04iLCJwYXlwYWxDbGllbnQiLCJpc1ZhbGlkIiwidmVyaWZ5V2ViaG9va1NpZ25hdHVyZSIsInZhbGlkYXRlU3Vic2NyaXB0aW9uUGxhbiIsInBsYW5Db25maWciLCJleHBlY3RlZEN5Y2xlIiwiYmlsbGluZ19jeWNsZSIsInRvTG93ZXJDYXNlIiwicGxhbiIsImNoZWNrU3Vic2NyaXB0aW9uRWxpZ2liaWxpdHkiLCJlbGlnaWJsZSIsImFkZFNlY3VyaXR5SGVhZGVycyIsInNldCIsIk5FWFRfUFVCTElDX0FQUF9VUkwiLCJzYW5pdGl6ZUlucHV0IiwicmVwbGFjZSIsInRyaW0iLCJzYW5pdGl6ZWQiLCJrZXkiLCJ2YWx1ZSIsIndpdGhTdWJzY3JpcHRpb25TZWN1cml0eSIsImhhbmRsZXIiLCJvcHRpb25zIiwic2VjdXJlZEhhbmRsZXIiLCJzdGFydFRpbWUiLCJuZXh0VXJsIiwic2VhcmNoUGFyYW1zIiwicmF0ZUxpbWl0UmVzdWx0IiwiYXV0aFJlc3VsdCIsImNhdGNoIiwic2FuaXRpemVkQm9keSIsInZhbGlkYXRpb25SZXN1bHQiLCJ2YWxpZGF0ZWRCb2R5IiwidmFsaWRhdGVQbGFuIiwicGxhblZhbGlkYXRpb24iLCJjaGVja0VsaWdpYmlsaXR5IiwiZWxpZ2liaWxpdHlSZXN1bHQiLCJzZWN1cmVkUmVzcG9uc2UiLCJkdXJhdGlvbiIsIndpdGhXZWJob29rU2VjdXJpdHkiLCJzZWN1cmVkV2ViaG9va0hhbmRsZXIiLCJjbGllbnRJcCIsInNpZ25hdHVyZVJlc3VsdCIsIndlYmhvb2tCb2R5Iiwic2NoZW1hcyJdLCJzb3VyY2VzIjpbInN1YnNjcmlwdGlvbi1zZWN1cml0eS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvc3Vic2NyaXB0aW9uLXNlY3VyaXR5LmpzXG5cbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHJhdGVsaW1pdCB9IGZyb20gJ0AvbGliL3Vwc3Rhc2gnO1xuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aCc7XG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gJ0AvbGliL2F1dGgnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5pbXBvcnQgeyBzYW5kYm94Q29uZmlnIH0gZnJvbSAnQC9saWIvcGF5cGFsLXNhbmRib3gtY29uZmlnJztcbmltcG9ydCB7IFBBWVBBTF9QTEFOUyB9IGZyb20gJ0AvbGliL3BheXBhbC1jb25maWcnO1xuXG4vKipcbiAqIFN1YnNjcmlwdGlvbiBTZWN1cml0eSBMYXllclxuICogUHJvdmlkZXMgYXV0aGVudGljYXRpb24sIHZhbGlkYXRpb24sIHJhdGUgbGltaXRpbmcsIGFuZCBzZWN1cml0eSBmZWF0dXJlc1xuICogZm9yIHN1YnNjcmlwdGlvbi1yZWxhdGVkIEFQSSBlbmRwb2ludHNcbiAqL1xuXG4vLyBSYXRlIGxpbWl0aW5nIGNvbmZpZ3VyYXRpb25zXG5jb25zdCBSQVRFX0xJTUlUUyA9IHtcbiAgc3Vic2NyaXB0aW9uX2NyZWF0ZTogeyByZXF1ZXN0czogMywgd2luZG93OiAnMSBoJyB9LFxuICBzdWJzY3JpcHRpb25fdXBkYXRlOiB7IHJlcXVlc3RzOiAxMCwgd2luZG93OiAnMSBoJyB9LFxuICB3ZWJob29rOiB7IHJlcXVlc3RzOiAxMDAwLCB3aW5kb3c6ICcxIG0nIH0sXG4gIG1hbmFnZW1lbnQ6IHsgcmVxdWVzdHM6IDMwLCB3aW5kb3c6ICcxIG0nIH1cbn07XG5cbi8vIFZhbGlkYXRpb24gc2NoZW1hc1xuZXhwb3J0IGNvbnN0IHN1YnNjcmlwdGlvblNjaGVtYXMgPSB7XG4gIGNyZWF0ZVN1YnNjcmlwdGlvbjogei5vYmplY3Qoe1xuICAgIHBsYW5JZDogei5lbnVtKFsnSU5ESVZJRFVBTF9NT05USExZJywgJ0lORElWSURVQUxfWUVBUkxZJywgJ0VOVEVSUFJJU0VfTU9OVEhMWScsICdFTlRFUlBSSVNFX1lFQVJMWSddKSxcbiAgICBiaWxsaW5nQ3ljbGU6IHouZW51bShbJ21vbnRobHknLCAneWVhcmx5J10pLFxuICAgIHJldHVyblVybDogei5zdHJpbmcoKS51cmwoKS5vcHRpb25hbCgpLFxuICAgIGNhbmNlbFVybDogei5zdHJpbmcoKS51cmwoKS5vcHRpb25hbCgpLFxuICAgIG1ldGFkYXRhOiB6LnJlY29yZCh6LmFueSgpKS5vcHRpb25hbCgpXG4gIH0pLFxuXG4gIHVwZGF0ZVN1YnNjcmlwdGlvbjogei5vYmplY3Qoe1xuICAgIHN1YnNjcmlwdGlvbklkOiB6LnN0cmluZygpLm1pbigxKSxcbiAgICBhY3Rpb246IHouZW51bShbJ2NhbmNlbCcsICdzdXNwZW5kJywgJ2FjdGl2YXRlJywgJ2NoYW5nZV9wbGFuJ10pLFxuICAgIG5ld1BsYW5JZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHJlYXNvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGVmZmVjdGl2ZURhdGU6IHouc3RyaW5nKCkuZGF0ZXRpbWUoKS5vcHRpb25hbCgpXG4gIH0pLFxuXG4gIHBsYW5DaGFuZ2U6IHoub2JqZWN0KHtcbiAgICBjdXJyZW50UGxhbjogei5zdHJpbmcoKSxcbiAgICBuZXdQbGFuOiB6LnN0cmluZygpLFxuICAgIHByb3JhdGlvbk1vZGU6IHouZW51bShbJ2ltbWVkaWF0ZScsICdlbmRfb2ZfcGVyaW9kJ10pLmRlZmF1bHQoJ2ltbWVkaWF0ZScpXG4gIH0pLFxuXG4gIHdlYmhvb2s6IHoub2JqZWN0KHtcbiAgICBpZDogei5zdHJpbmcoKSxcbiAgICBldmVudF90eXBlOiB6LnN0cmluZygpLFxuICAgIHJlc291cmNlX3R5cGU6IHouc3RyaW5nKCksXG4gICAgcmVzb3VyY2U6IHoucmVjb3JkKHouYW55KCkpLFxuICAgIGNyZWF0ZV90aW1lOiB6LnN0cmluZygpLFxuICAgIGV2ZW50X3ZlcnNpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKVxuICB9KVxufTtcblxuLyoqXG4gKiBBdXRoZW50aWNhdGlvbiBtaWRkbGV3YXJlIGZvciBzdWJzY3JpcHRpb24gQVBJc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVxdWlyZUF1dGgocmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTtcbiAgICBcbiAgICBpZiAoIXNlc3Npb24gfHwgIXNlc3Npb24udXNlcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQnLFxuICAgICAgICByZXNwb25zZTogTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgeyBlcnJvcjogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgICApXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHVzZXIgaGFzIHZlcmlmaWVkIGVtYWlsIChyZXF1aXJlZCBmb3Igc3Vic2NyaXB0aW9ucylcbiAgICBpZiAoIXNlc3Npb24udXNlci5lbWFpbFZlcmlmaWVkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdFbWFpbCB2ZXJpZmljYXRpb24gcmVxdWlyZWQnLFxuICAgICAgICByZXNwb25zZTogTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgeyBlcnJvcjogJ1BsZWFzZSB2ZXJpZnkgeW91ciBlbWFpbCBiZWZvcmUgY3JlYXRpbmcgYSBzdWJzY3JpcHRpb24nIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMyB9XG4gICAgICAgIClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgICB1c2VyOiBzZXNzaW9uLnVzZXIsXG4gICAgICB1c2VySWQ6IHNlc3Npb24udXNlci5pZFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQXV0aGVudGljYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnQXV0aGVudGljYXRpb24gZmFpbGVkJyxcbiAgICAgIHJlc3BvbnNlOiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIFJhdGUgbGltaXRpbmcgbWlkZGxld2FyZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXBwbHlSYXRlTGltaXQoaWRlbnRpZmllciwgbGltaXRUeXBlID0gJ21hbmFnZW1lbnQnKSB7XG4gIHRyeSB7XG4gICAgaWYgKCFyYXRlbGltaXQpIHtcbiAgICAgIGNvbnNvbGUud2FybignUmF0ZSBsaW1pdGluZyBub3QgY29uZmlndXJlZCcpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICAgIH1cblxuICAgIGNvbnN0IGxpbWl0ID0gUkFURV9MSU1JVFNbbGltaXRUeXBlXTtcbiAgICBjb25zdCB7IHN1Y2Nlc3MsIGxpbWl0OiByYXRlTGltaXRJbmZvLCByZXNldCwgcmVtYWluaW5nIH0gPSBhd2FpdCByYXRlbGltaXQubGltaXQoXG4gICAgICBgc3Vic2NyaXB0aW9uXyR7bGltaXRUeXBlfToke2lkZW50aWZpZXJ9YCxcbiAgICAgIGxpbWl0LnJlcXVlc3RzLFxuICAgICAgbGltaXQud2luZG93XG4gICAgKTtcblxuICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnUmF0ZSBsaW1pdCBleGNlZWRlZCcsXG4gICAgICAgIHJlc3BvbnNlOiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IFxuICAgICAgICAgICAgZXJyb3I6ICdUb28gbWFueSByZXF1ZXN0cycsXG4gICAgICAgICAgICByZXRyeUFmdGVyOiBNYXRoLnJvdW5kKChyZXNldCAtIERhdGUubm93KCkpIC8gMTAwMClcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgXG4gICAgICAgICAgICBzdGF0dXM6IDQyOSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgJ1gtUmF0ZUxpbWl0LUxpbWl0JzogcmF0ZUxpbWl0SW5mby50b1N0cmluZygpLFxuICAgICAgICAgICAgICAnWC1SYXRlTGltaXQtUmVtYWluaW5nJzogcmVtYWluaW5nLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICdYLVJhdGVMaW1pdC1SZXNldCc6IHJlc2V0LnRvU3RyaW5nKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICByZW1haW5pbmcsXG4gICAgICByZXNldFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUmF0ZSBsaW1pdGluZyBlcnJvcjonLCBlcnJvcik7XG4gICAgLy8gQWxsb3cgcmVxdWVzdCB0byBwcm9jZWVkIGlmIHJhdGUgbGltaXRpbmcgZmFpbHNcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gIH1cbn1cblxuLyoqXG4gKiBJbnB1dCB2YWxpZGF0aW9uIG1pZGRsZXdhcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlU3Vic2NyaXB0aW9uSW5wdXQoZGF0YSwgc2NoZW1hKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdmFsaWRhdGVkID0gc2NoZW1hLnBhcnNlKGRhdGEpO1xuICAgIHJldHVybiB7XG4gICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgIGRhdGE6IHZhbGlkYXRlZFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignVmFsaWRhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgXG4gICAgY29uc3QgZXJyb3JEZXRhaWxzID0gZXJyb3IuZXJyb3JzPy5tYXAoZXJyID0+ICh7XG4gICAgICBmaWVsZDogZXJyLnBhdGguam9pbignLicpLFxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXG4gICAgICBjb2RlOiBlcnIuY29kZVxuICAgIH0pKSB8fCBbXTtcblxuICAgIHJldHVybiB7XG4gICAgICB2YWxpZDogZmFsc2UsXG4gICAgICBlcnJvcnM6IGVycm9yRGV0YWlscyxcbiAgICAgIHJlc3BvbnNlOiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBcbiAgICAgICAgICBlcnJvcjogJ0ludmFsaWQgaW5wdXQnLFxuICAgICAgICAgIGRldGFpbHM6IGVycm9yRGV0YWlsc1xuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogRW5oYW5jZWQgd2ViaG9vayBzaWduYXR1cmUgdmFsaWRhdGlvblxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVXZWJob29rU2lnbmF0dXJlKHJlcXVlc3QsIHdlYmhvb2tJZCkge1xuICB0cnkge1xuICAgIC8vIFNraXAgdmFsaWRhdGlvbiBpbiB0ZXN0IGVudmlyb25tZW50XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcgJiYgIXdlYmhvb2tJZCkge1xuICAgICAgY29uc29sZS5sb2coJ1NraXBwaW5nIHdlYmhvb2sgc2lnbmF0dXJlIHZhbGlkYXRpb24gaW4gdGVzdCBlbnZpcm9ubWVudCcpO1xuICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUgfTtcbiAgICB9XG5cbiAgICBjb25zdCBoZWFkZXJzID0gcmVxdWVzdC5oZWFkZXJzO1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0LnRleHQoKTtcblxuICAgIC8vIFJlcXVpcmVkIFBheVBhbCB3ZWJob29rIGhlYWRlcnNcbiAgICBjb25zdCByZXF1aXJlZEhlYWRlcnMgPSBbXG4gICAgICAncGF5cGFsLXRyYW5zbWlzc2lvbi1pZCcsXG4gICAgICAncGF5cGFsLWNlcnQtaWQnLCBcbiAgICAgICdwYXlwYWwtYXV0aC1hbGdvJyxcbiAgICAgICdwYXlwYWwtdHJhbnNtaXNzaW9uLXNpZycsXG4gICAgICAncGF5cGFsLXRyYW5zbWlzc2lvbi10aW1lJ1xuICAgIF07XG5cbiAgICBjb25zdCBtaXNzaW5nSGVhZGVycyA9IHJlcXVpcmVkSGVhZGVycy5maWx0ZXIoaGVhZGVyID0+ICFoZWFkZXJzLmdldChoZWFkZXIpKTtcbiAgICBpZiAobWlzc2luZ0hlYWRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICBlcnJvcjogYE1pc3NpbmcgcmVxdWlyZWQgaGVhZGVyczogJHttaXNzaW5nSGVhZGVycy5qb2luKCcsICcpfWAsXG4gICAgICAgIHJlc3BvbnNlOiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IGVycm9yOiAnSW52YWxpZCB3ZWJob29rIHNpZ25hdHVyZSAtIG1pc3NpbmcgaGVhZGVycycgfSxcbiAgICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICAgKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBWZXJpZnkgc2lnbmF0dXJlIHVzaW5nIFBheVBhbCBjbGllbnRcbiAgICBjb25zdCBtb2NrUmVxdWVzdCA9IHtcbiAgICAgIGhlYWRlcnM6IE9iamVjdC5mcm9tRW50cmllcyhoZWFkZXJzLmVudHJpZXMoKSksXG4gICAgICBib2R5OiBKU09OLnBhcnNlKGJvZHkpXG4gICAgfTtcblxuICAgIGNvbnN0IHBheXBhbENsaWVudCA9IGF3YWl0IGltcG9ydCgnQC9saWIvcGF5cGFsLWNsaWVudCcpO1xuICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCBwYXlwYWxDbGllbnQuZGVmYXVsdC52ZXJpZnlXZWJob29rU2lnbmF0dXJlKG1vY2tSZXF1ZXN0LCB3ZWJob29rSWQpO1xuXG4gICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnSW52YWxpZCB3ZWJob29rIHNpZ25hdHVyZScsXG4gICAgICAgIHJlc3BvbnNlOiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IGVycm9yOiAnSW52YWxpZCB3ZWJob29rIHNpZ25hdHVyZScgfSxcbiAgICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICAgKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmFsaWQ6IHRydWUsXG4gICAgICBib2R5OiBKU09OLnBhcnNlKGJvZHkpXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdXZWJob29rIHNpZ25hdHVyZSB2YWxpZGF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdTaWduYXR1cmUgdmFsaWRhdGlvbiBmYWlsZWQnLFxuICAgICAgcmVzcG9uc2U6IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnV2ViaG9vayBzaWduYXR1cmUgdmFsaWRhdGlvbiBmYWlsZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgKVxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBTdWJzY3JpcHRpb24gcGxhbiB2YWxpZGF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVN1YnNjcmlwdGlvblBsYW4ocGxhbklkLCBiaWxsaW5nQ3ljbGUpIHtcbiAgdHJ5IHtcbiAgICAvLyBDaGVjayBpZiBwbGFuIGV4aXN0cyBpbiBjb25maWd1cmF0aW9uXG4gICAgY29uc3QgcGxhbkNvbmZpZyA9IFBBWVBBTF9QTEFOU1twbGFuSWRdO1xuICAgIGlmICghcGxhbkNvbmZpZykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICBlcnJvcjogYEludmFsaWQgcGxhbiBJRDogJHtwbGFuSWR9YCxcbiAgICAgICAgcmVzcG9uc2U6IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgZXJyb3I6IGBJbnZhbGlkIHN1YnNjcmlwdGlvbiBwbGFuOiAke3BsYW5JZH1gIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgIClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgYmlsbGluZyBjeWNsZSBtYXRjaGVzIHBsYW5cbiAgICBjb25zdCBleHBlY3RlZEN5Y2xlID0gcGxhbkNvbmZpZy5iaWxsaW5nX2N5Y2xlLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGJpbGxpbmdDeWNsZSAhPT0gZXhwZWN0ZWRDeWNsZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICBlcnJvcjogYEJpbGxpbmcgY3ljbGUgbWlzbWF0Y2g6IGV4cGVjdGVkICR7ZXhwZWN0ZWRDeWNsZX0sIGdvdCAke2JpbGxpbmdDeWNsZX1gLFxuICAgICAgICByZXNwb25zZTogTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgeyBlcnJvcjogYEludmFsaWQgYmlsbGluZyBjeWNsZSBmb3IgcGxhbiAke3BsYW5JZH1gIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgIClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgcGxhbiBpcyBhY3RpdmUvYXZhaWxhYmxlXG4gICAgaWYgKHBsYW5Db25maWcuc3RhdHVzID09PSAnSU5BQ1RJVkUnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiBgUGxhbiAke3BsYW5JZH0gaXMgbm90IGF2YWlsYWJsZWAsXG4gICAgICAgIHJlc3BvbnNlOiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IGVycm9yOiBgU3Vic2NyaXB0aW9uIHBsYW4gJHtwbGFuSWR9IGlzIGN1cnJlbnRseSB1bmF2YWlsYWJsZWAgfSxcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICAgKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmFsaWQ6IHRydWUsXG4gICAgICBwbGFuOiBwbGFuQ29uZmlnXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdQbGFuIHZhbGlkYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICB2YWxpZDogZmFsc2UsXG4gICAgICBlcnJvcjogJ1BsYW4gdmFsaWRhdGlvbiBmYWlsZWQnLFxuICAgICAgcmVzcG9uc2U6IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnSW52YWxpZCBzdWJzY3JpcHRpb24gcGxhbiBjb25maWd1cmF0aW9uJyB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgIClcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogVXNlciBzdWJzY3JpcHRpb24gZWxpZ2liaWxpdHkgY2hlY2tcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrU3Vic2NyaXB0aW9uRWxpZ2liaWxpdHkodXNlcklkKSB7XG4gIHRyeSB7XG4gICAgLy8gVE9ETzogQ2hlY2sgYWdhaW5zdCB5b3VyIHVzZXIgZGF0YWJhc2VcbiAgICAvLyBGb3Igbm93LCByZXR1cm4gYmFzaWMgZWxpZ2liaWxpdHkgY2hlY2tcbiAgICBcbiAgICAvLyBDaGVjayBpZiB1c2VyIGFscmVhZHkgaGFzIGFjdGl2ZSBzdWJzY3JpcHRpb25cbiAgICAvLyBjb25zdCBleGlzdGluZ1N1YnNjcmlwdGlvbiA9IGF3YWl0IGdldFVzZXJBY3RpdmVTdWJzY3JpcHRpb24odXNlcklkKTtcbiAgICAvLyBpZiAoZXhpc3RpbmdTdWJzY3JpcHRpb24pIHtcbiAgICAvLyAgIHJldHVybiB7XG4gICAgLy8gICAgIGVsaWdpYmxlOiBmYWxzZSxcbiAgICAvLyAgICAgZXJyb3I6ICdVc2VyIGFscmVhZHkgaGFzIGFuIGFjdGl2ZSBzdWJzY3JpcHRpb24nLFxuICAgIC8vICAgICByZXNwb25zZTogTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgLy8gICAgICAgeyBlcnJvcjogJ1lvdSBhbHJlYWR5IGhhdmUgYW4gYWN0aXZlIHN1YnNjcmlwdGlvbi4gUGxlYXNlIGNhbmNlbCBpdCBmaXJzdCB0byBjcmVhdGUgYSBuZXcgb25lLicgfSxcbiAgICAvLyAgICAgICB7IHN0YXR1czogNDA5IH1cbiAgICAvLyAgICAgKVxuICAgIC8vICAgfTtcbiAgICAvLyB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZWxpZ2libGU6IHRydWVcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0VsaWdpYmlsaXR5IGNoZWNrIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgZWxpZ2libGU6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdFbGlnaWJpbGl0eSBjaGVjayBmYWlsZWQnLFxuICAgICAgcmVzcG9uc2U6IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnVW5hYmxlIHRvIHZlcmlmeSBzdWJzY3JpcHRpb24gZWxpZ2liaWxpdHknIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKVxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBTZWN1cml0eSBoZWFkZXJzIG1pZGRsZXdhcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFNlY3VyaXR5SGVhZGVycyhyZXNwb25zZSkge1xuICAvLyBBZGQgc2VjdXJpdHkgaGVhZGVycyB0byByZXNwb25zZVxuICByZXNwb25zZS5oZWFkZXJzLnNldCgnWC1Db250ZW50LVR5cGUtT3B0aW9ucycsICdub3NuaWZmJyk7XG4gIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCdYLUZyYW1lLU9wdGlvbnMnLCAnREVOWScpO1xuICByZXNwb25zZS5oZWFkZXJzLnNldCgnWC1YU1MtUHJvdGVjdGlvbicsICcxOyBtb2RlPWJsb2NrJyk7XG4gIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCdSZWZlcnJlci1Qb2xpY3knLCAnc3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbicpO1xuICBcbiAgLy8gQWRkIENPUlMgaGVhZGVycyBmb3Igc3Vic2NyaXB0aW9uIGVuZHBvaW50c1xuICByZXNwb25zZS5oZWFkZXJzLnNldCgnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCAnaHR0cHM6Ly9wcmVwYmV0dHIuY29tJyk7XG4gIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlMnKTtcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnQ29udGVudC1UeXBlLCBBdXRob3JpemF0aW9uJyk7XG4gIFxuICByZXR1cm4gcmVzcG9uc2U7XG59XG5cbi8qKlxuICogSW5wdXQgc2FuaXRpemF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZUlucHV0KGRhdGEpIHtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIC8vIFJlbW92ZSBwb3RlbnRpYWwgWFNTIHZlY3RvcnNcbiAgICByZXR1cm4gZGF0YVxuICAgICAgLnJlcGxhY2UoLzxzY3JpcHRcXGJbXjxdKig/Oig/ITxcXC9zY3JpcHQ+KTxbXjxdKikqPFxcL3NjcmlwdD4vZ2ksICcnKVxuICAgICAgLnJlcGxhY2UoL2phdmFzY3JpcHQ6L2dpLCAnJylcbiAgICAgIC5yZXBsYWNlKC9vblxcdys9L2dpLCAnJylcbiAgICAgIC50cmltKCk7XG4gIH1cbiAgXG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgZGF0YSAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHNhbml0aXplZCA9IHt9O1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEpKSB7XG4gICAgICBzYW5pdGl6ZWRbc2FuaXRpemVJbnB1dChrZXkpXSA9IHNhbml0aXplSW5wdXQodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gc2FuaXRpemVkO1xuICB9XG4gIFxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBDb21wcmVoZW5zaXZlIHNlY3VyaXR5IG1pZGRsZXdhcmUgd3JhcHBlclxuICovXG5leHBvcnQgZnVuY3Rpb24gd2l0aFN1YnNjcmlwdGlvblNlY3VyaXR5KGhhbmRsZXIsIG9wdGlvbnMgPSB7fSkge1xuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gc2VjdXJlZEhhbmRsZXIocmVxdWVzdCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgICAvLyBBcHBseSByYXRlIGxpbWl0aW5nXG4gICAgICBjb25zdCB1c2VySWQgPSByZXF1ZXN0Lm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldCgndXNlcklkJykgfHwgXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtdXNlci1pZCcpIHx8XG4gICAgICAgICAgICAgICAgICAgICdhbm9ueW1vdXMnO1xuICAgICAgXG4gICAgICBjb25zdCByYXRlTGltaXRSZXN1bHQgPSBhd2FpdCBhcHBseVJhdGVMaW1pdCh1c2VySWQsIG9wdGlvbnMubGltaXRUeXBlKTtcbiAgICAgIGlmICghcmF0ZUxpbWl0UmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgcmV0dXJuIHJhdGVMaW1pdFJlc3VsdC5yZXNwb25zZTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVxdWlyZSBhdXRoZW50aWNhdGlvbiAodW5sZXNzIHdlYmhvb2spXG4gICAgICBpZiAob3B0aW9ucy5yZXF1aXJlQXV0aCAhPT0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgYXV0aFJlc3VsdCA9IGF3YWl0IHJlcXVpcmVBdXRoKHJlcXVlc3QpO1xuICAgICAgICBpZiAoIWF1dGhSZXN1bHQuYXV0aGVudGljYXRlZCkge1xuICAgICAgICAgIHJldHVybiBhdXRoUmVzdWx0LnJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3QudXNlciA9IGF1dGhSZXN1bHQudXNlcjtcbiAgICAgICAgcmVxdWVzdC51c2VySWQgPSBhdXRoUmVzdWx0LnVzZXJJZDtcbiAgICAgIH1cblxuICAgICAgLy8gVmFsaWRhdGUgaW5wdXQgaWYgc2NoZW1hIHByb3ZpZGVkXG4gICAgICBpZiAob3B0aW9ucy5zY2hlbWEpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBjb25zdCBzYW5pdGl6ZWRCb2R5ID0gc2FuaXRpemVJbnB1dChib2R5KTtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IHZhbGlkYXRlU3Vic2NyaXB0aW9uSW5wdXQoc2FuaXRpemVkQm9keSwgb3B0aW9ucy5zY2hlbWEpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnZhbGlkKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25SZXN1bHQucmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJlcXVlc3QudmFsaWRhdGVkQm9keSA9IHZhbGlkYXRpb25SZXN1bHQuZGF0YTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkaXRpb25hbCBzZWN1cml0eSBjaGVja3NcbiAgICAgIGlmIChvcHRpb25zLnZhbGlkYXRlUGxhbiAmJiByZXF1ZXN0LnZhbGlkYXRlZEJvZHkpIHtcbiAgICAgICAgY29uc3QgeyBwbGFuSWQsIGJpbGxpbmdDeWNsZSB9ID0gcmVxdWVzdC52YWxpZGF0ZWRCb2R5O1xuICAgICAgICBpZiAocGxhbklkKSB7XG4gICAgICAgICAgY29uc3QgcGxhblZhbGlkYXRpb24gPSB2YWxpZGF0ZVN1YnNjcmlwdGlvblBsYW4ocGxhbklkLCBiaWxsaW5nQ3ljbGUpO1xuICAgICAgICAgIGlmICghcGxhblZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBwbGFuVmFsaWRhdGlvbi5yZXNwb25zZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVxdWVzdC5wbGFuQ29uZmlnID0gcGxhblZhbGlkYXRpb24ucGxhbjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBzdWJzY3JpcHRpb24gZWxpZ2liaWxpdHlcbiAgICAgIGlmIChvcHRpb25zLmNoZWNrRWxpZ2liaWxpdHkgJiYgcmVxdWVzdC51c2VySWQpIHtcbiAgICAgICAgY29uc3QgZWxpZ2liaWxpdHlSZXN1bHQgPSBhd2FpdCBjaGVja1N1YnNjcmlwdGlvbkVsaWdpYmlsaXR5KHJlcXVlc3QudXNlcklkKTtcbiAgICAgICAgaWYgKCFlbGlnaWJpbGl0eVJlc3VsdC5lbGlnaWJsZSkge1xuICAgICAgICAgIHJldHVybiBlbGlnaWJpbGl0eVJlc3VsdC5yZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDYWxsIHRoZSBhY3R1YWwgaGFuZGxlclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVyKHJlcXVlc3QpO1xuICAgICAgXG4gICAgICAvLyBBZGQgc2VjdXJpdHkgaGVhZGVyc1xuICAgICAgY29uc3Qgc2VjdXJlZFJlc3BvbnNlID0gYWRkU2VjdXJpdHlIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICAgIFxuICAgICAgLy8gQWRkIHBlcmZvcm1hbmNlIHRpbWluZyBoZWFkZXJcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgIHNlY3VyZWRSZXNwb25zZS5oZWFkZXJzLnNldCgnWC1SZXNwb25zZS1UaW1lJywgYCR7ZHVyYXRpb259bXNgKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHNlY3VyZWRSZXNwb25zZTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTZWN1cml0eSBtaWRkbGV3YXJlIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1NlY3VyaXR5IHZhbGlkYXRpb24gZmFpbGVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIFdlYmhvb2stc3BlY2lmaWMgc2VjdXJpdHkgbWlkZGxld2FyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gd2l0aFdlYmhvb2tTZWN1cml0eShoYW5kbGVyKSB7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBzZWN1cmVkV2ViaG9va0hhbmRsZXIocmVxdWVzdCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgICAvLyBBcHBseSB3ZWJob29rIHJhdGUgbGltaXRpbmdcbiAgICAgIGNvbnN0IGNsaWVudElwID0gcmVxdWVzdC5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJykgfHwgJ3Vua25vd24nO1xuICAgICAgY29uc3QgcmF0ZUxpbWl0UmVzdWx0ID0gYXdhaXQgYXBwbHlSYXRlTGltaXQoY2xpZW50SXAsICd3ZWJob29rJyk7XG4gICAgICBpZiAoIXJhdGVMaW1pdFJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiByYXRlTGltaXRSZXN1bHQucmVzcG9uc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIFZhbGlkYXRlIHdlYmhvb2sgc2lnbmF0dXJlXG4gICAgICBjb25zdCB3ZWJob29rSWQgPSBzYW5kYm94Q29uZmlnLndlYmhvb2tJZDtcbiAgICAgIGlmICh3ZWJob29rSWQpIHtcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlUmVzdWx0ID0gYXdhaXQgdmFsaWRhdGVXZWJob29rU2lnbmF0dXJlKHJlcXVlc3QsIHdlYmhvb2tJZCk7XG4gICAgICAgIGlmICghc2lnbmF0dXJlUmVzdWx0LnZhbGlkKSB7XG4gICAgICAgICAgcmV0dXJuIHNpZ25hdHVyZVJlc3VsdC5yZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0LndlYmhvb2tCb2R5ID0gc2lnbmF0dXJlUmVzdWx0LmJvZHk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJbiBkZXZlbG9wbWVudCB3aXRob3V0IHdlYmhvb2sgSUQsIHBhcnNlIGJvZHkgbWFudWFsbHlcbiAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QudGV4dCgpO1xuICAgICAgICByZXF1ZXN0LndlYmhvb2tCb2R5ID0gSlNPTi5wYXJzZShib2R5KTtcbiAgICAgIH1cblxuICAgICAgLy8gVmFsaWRhdGUgd2ViaG9vayBwYXlsb2FkIHN0cnVjdHVyZVxuICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IHZhbGlkYXRlU3Vic2NyaXB0aW9uSW5wdXQoXG4gICAgICAgIHJlcXVlc3Qud2ViaG9va0JvZHksIFxuICAgICAgICBzdWJzY3JpcHRpb25TY2hlbWFzLndlYmhvb2tcbiAgICAgICk7XG4gICAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQudmFsaWQpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25SZXN1bHQucmVzcG9uc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIENhbGwgdGhlIGFjdHVhbCB3ZWJob29rIGhhbmRsZXJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlcihyZXF1ZXN0KTtcbiAgICAgIFxuICAgICAgLy8gQWRkIHNlY3VyaXR5IGhlYWRlcnMgYW5kIHRpbWluZ1xuICAgICAgY29uc3Qgc2VjdXJlZFJlc3BvbnNlID0gYWRkU2VjdXJpdHlIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgIHNlY3VyZWRSZXNwb25zZS5oZWFkZXJzLnNldCgnWC1SZXNwb25zZS1UaW1lJywgYCR7ZHVyYXRpb259bXNgKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHNlY3VyZWRSZXNwb25zZTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdXZWJob29rIHNlY3VyaXR5IG1pZGRsZXdhcmUgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnV2ViaG9vayBzZWN1cml0eSB2YWxpZGF0aW9uIGZhaWxlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gRXhwb3J0IHNjaGVtYXMgZm9yIHVzZSBpbiBvdGhlciBtb2R1bGVzXG5leHBvcnQgeyBzdWJzY3JpcHRpb25TY2hlbWFzIGFzIHNjaGVtYXMgfTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICB3aXRoU3Vic2NyaXB0aW9uU2VjdXJpdHksXG4gIHdpdGhXZWJob29rU2VjdXJpdHksXG4gIHJlcXVpcmVBdXRoLFxuICBhcHBseVJhdGVMaW1pdCxcbiAgdmFsaWRhdGVTdWJzY3JpcHRpb25JbnB1dCxcbiAgdmFsaWRhdGVXZWJob29rU2lnbmF0dXJlLFxuICB2YWxpZGF0ZVN1YnNjcmlwdGlvblBsYW4sXG4gIGNoZWNrU3Vic2NyaXB0aW9uRWxpZ2liaWxpdHksXG4gIHNhbml0aXplSW5wdXQsXG4gIGFkZFNlY3VyaXR5SGVhZGVycyxcbiAgc2NoZW1hczogc3Vic2NyaXB0aW9uU2NoZW1hc1xufTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTtJQUFBQSxhQUFBLFlBQUFBLENB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