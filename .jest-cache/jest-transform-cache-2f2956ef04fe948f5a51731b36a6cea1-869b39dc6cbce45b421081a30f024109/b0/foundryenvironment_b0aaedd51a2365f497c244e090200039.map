{"version":3,"names":["cov_2l0ixxzlr5","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","exports","getEnv","clearVoiceConfigCache","validateVoiceConfig","foundry_config_1","require","cachedVoiceConfig","forceRefresh","foundryConfig","getFoundryConfig","endpoint","apiKey","projectId","region","resourceId","resourceGroup","deploymentName","process","env","AZURE_FOUNDRY_DEPLOYMENT_NAME","requiredFields","missingFields","filter","field","length","Error","join","console","log","error","fallbackConfig","AZURE_FOUNDRY_ENDPOINT","AZURE_FOUNDRY_API_KEY","AZURE_FOUNDRY_PROJECT_ID","AZURE_FOUNDRY_REGION","AZURE_FOUNDRY_RESOURCE_ID","AZURE_FOUNDRY_RESOURCE_GROUP","warn","config","errors","push","startsWith","isValid"],"sources":["/Users/dikshantvashistha/PrepBettr/lib/azure-ai-foundry/voice/foundry-environment.ts"],"sourcesContent":["/**\n * Azure AI Foundry Environment Configuration\n * \n * Provides a getEnv() utility function that fetches Azure AI Foundry configuration\n * from Azure Key Vault with environment variable fallback.\n * Follows the existing pattern from the project's foundry-config.ts.\n */\n\nimport { getFoundryConfig, type FoundryConfig } from '../config/foundry-config';\n\n/**\n * Interface for environment variables needed by the voice client\n */\nexport interface VoiceEnvironmentConfig {\n  endpoint: string;\n  apiKey: string;\n  projectId: string;\n  region: string;\n  resourceId: string;\n  resourceGroup: string;\n  deploymentName?: string;\n}\n\n/**\n * Cache for environment configuration to avoid repeated Azure Key Vault calls\n */\nlet cachedVoiceConfig: VoiceEnvironmentConfig | null = null;\n\n/**\n * Get environment configuration for voice services\n * Uses Azure Key Vault with environment variable fallback\n * \n * @param forceRefresh - Force refresh the cached configuration\n * @returns Promise<VoiceEnvironmentConfig>\n */\nexport async function getEnv(forceRefresh: boolean = false): Promise<VoiceEnvironmentConfig> {\n  if (cachedVoiceConfig && !forceRefresh) {\n    return cachedVoiceConfig;\n  }\n\n  try {\n    // Use existing foundry config which already handles Key Vault + env fallback\n    const foundryConfig: FoundryConfig = await getFoundryConfig(forceRefresh);\n    \n    cachedVoiceConfig = {\n      endpoint: foundryConfig.endpoint,\n      apiKey: foundryConfig.apiKey,\n      projectId: foundryConfig.projectId,\n      region: foundryConfig.region,\n      resourceId: foundryConfig.resourceId,\n      resourceGroup: foundryConfig.resourceGroup,\n      deploymentName: process.env.AZURE_FOUNDRY_DEPLOYMENT_NAME || 'gpt-4o'\n    };\n\n    // Validate required fields for voice client\n    const requiredFields: (keyof VoiceEnvironmentConfig)[] = [\n      'endpoint', 'apiKey', 'projectId', 'region'\n    ];\n    \n    const missingFields = requiredFields.filter(\n      field => !cachedVoiceConfig![field]\n    );\n\n    if (missingFields.length > 0) {\n      throw new Error(\n        `Missing required Azure AI Foundry voice configuration: ${missingFields.join(', ')}`\n      );\n    }\n\n    console.log('✅ Azure AI Foundry voice configuration loaded successfully');\n    return cachedVoiceConfig;\n\n  } catch (error) {\n    console.error('❌ Failed to load Azure AI Foundry voice configuration:', error);\n    \n    // Fallback: try direct environment variables as last resort\n    const fallbackConfig: VoiceEnvironmentConfig = {\n      endpoint: process.env.AZURE_FOUNDRY_ENDPOINT || '',\n      apiKey: process.env.AZURE_FOUNDRY_API_KEY || '',\n      projectId: process.env.AZURE_FOUNDRY_PROJECT_ID || 'prepbettr-interview-agents',\n      region: process.env.AZURE_FOUNDRY_REGION || 'eastus',\n      resourceId: process.env.AZURE_FOUNDRY_RESOURCE_ID || '',\n      resourceGroup: process.env.AZURE_FOUNDRY_RESOURCE_GROUP || 'PrepBettr_group',\n      deploymentName: process.env.AZURE_FOUNDRY_DEPLOYMENT_NAME || 'gpt-4o'\n    };\n\n    // Final validation\n    if (!fallbackConfig.endpoint || !fallbackConfig.apiKey) {\n      throw new Error(\n        'Critical Azure AI Foundry voice configuration missing. ' +\n        'Ensure AZURE_FOUNDRY_ENDPOINT and AZURE_FOUNDRY_API_KEY are set.'\n      );\n    }\n\n    cachedVoiceConfig = fallbackConfig;\n    console.warn('⚠️ Using fallback environment configuration for Azure AI Foundry voice');\n    return cachedVoiceConfig;\n  }\n}\n\n/**\n * Clear cached configuration (useful for testing)\n */\nexport function clearVoiceConfigCache(): void {\n  cachedVoiceConfig = null;\n}\n\n/**\n * Validate voice environment configuration\n */\nexport function validateVoiceConfig(config: VoiceEnvironmentConfig): { isValid: boolean; errors: string[] } {\n  const errors: string[] = [];\n\n  if (!config.endpoint) {\n    errors.push('Missing endpoint');\n  } else if (!config.endpoint.startsWith('https://')) {\n    errors.push('Endpoint must use HTTPS');\n  }\n\n  if (!config.apiKey) {\n    errors.push('Missing API key');\n  }\n\n  if (!config.projectId) {\n    errors.push('Missing project ID');\n  }\n\n  if (!config.region) {\n    errors.push('Missing region');\n  }\n\n  return {\n    isValid: errors.length === 0,\n    errors\n  };\n}\n"],"mappings":";;AAAA;;;;;;;AAAA;AAAA,SAAAA,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;U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","ignoreList":[]}