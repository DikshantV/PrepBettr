4fa15e4b9466634574c6fdc33a3458bb
/* istanbul ignore next */
function cov_1pwd3cutoc() {
  var path = "/Users/dikshantvashistha/PrepBettr/azure/applicationWorker/index.js";
  var hash = "b6a7e6c1bc61d7bebf7b807417f1599d513889e9";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/dikshantvashistha/PrepBettr/azure/applicationWorker/index.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 16
        },
        end: {
          line: 1,
          column: 43
        }
      },
      "1": {
        start: {
          line: 2,
          column: 21
        },
        end: {
          line: 2,
          column: 61
        }
      },
      "2": {
        start: {
          line: 3,
          column: 25
        },
        end: {
          line: 3,
          column: 67
        }
      },
      "3": {
        start: {
          line: 4,
          column: 15
        },
        end: {
          line: 4,
          column: 32
        }
      },
      "4": {
        start: {
          line: 5,
          column: 30
        },
        end: {
          line: 5,
          column: 60
        }
      },
      "5": {
        start: {
          line: 6,
          column: 23
        },
        end: {
          line: 6,
          column: 38
        }
      },
      "6": {
        start: {
          line: 9,
          column: 24
        },
        end: {
          line: 9,
          column: 28
        }
      },
      "7": {
        start: {
          line: 15,
          column: 4
        },
        end: {
          line: 17,
          column: 5
        }
      },
      "8": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 33
        }
      },
      "9": {
        start: {
          line: 19,
          column: 4
        },
        end: {
          line: 41,
          column: 5
        }
      },
      "10": {
        start: {
          line: 20,
          column: 24
        },
        end: {
          line: 20,
          column: 49
        }
      },
      "11": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 25,
          column: 9
        }
      },
      "12": {
        start: {
          line: 23,
          column: 12
        },
        end: {
          line: 23,
          column: 86
        }
      },
      "13": {
        start: {
          line: 24,
          column: 12
        },
        end: {
          line: 24,
          column: 24
        }
      },
      "14": {
        start: {
          line: 27,
          column: 8
        },
        end: {
          line: 34,
          column: 11
        }
      },
      "15": {
        start: {
          line: 36,
          column: 8
        },
        end: {
          line: 36,
          column: 80
        }
      },
      "16": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 37,
          column: 33
        }
      },
      "17": {
        start: {
          line: 39,
          column: 8
        },
        end: {
          line: 39,
          column: 76
        }
      },
      "18": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 40,
          column: 20
        }
      },
      "19": {
        start: {
          line: 45,
          column: 0
        },
        end: {
          line: 174,
          column: 3
        }
      },
      "20": {
        start: {
          line: 49,
          column: 8
        },
        end: {
          line: 49,
          column: 76
        }
      },
      "21": {
        start: {
          line: 51,
          column: 8
        },
        end: {
          line: 172,
          column: 9
        }
      },
      "22": {
        start: {
          line: 52,
          column: 36
        },
        end: {
          line: 52,
          column: 101
        }
      },
      "23": {
        start: {
          line: 53,
          column: 72
        },
        end: {
          line: 53,
          column: 87
        }
      },
      "24": {
        start: {
          line: 55,
          column: 12
        },
        end: {
          line: 59,
          column: 14
        }
      },
      "25": {
        start: {
          line: 62,
          column: 32
        },
        end: {
          line: 62,
          column: 60
        }
      },
      "26": {
        start: {
          line: 63,
          column: 12
        },
        end: {
          line: 65,
          column: 13
        }
      },
      "27": {
        start: {
          line: 64,
          column: 16
        },
        end: {
          line: 64,
          column: 77
        }
      },
      "28": {
        start: {
          line: 68,
          column: 40
        },
        end: {
          line: 68,
          column: 85
        }
      },
      "29": {
        start: {
          line: 69,
          column: 12
        },
        end: {
          line: 77,
          column: 13
        }
      },
      "30": {
        start: {
          line: 70,
          column: 16
        },
        end: {
          line: 70,
          column: 82
        }
      },
      "31": {
        start: {
          line: 71,
          column: 16
        },
        end: {
          line: 75,
          column: 18
        }
      },
      "32": {
        start: {
          line: 76,
          column: 16
        },
        end: {
          line: 76,
          column: 23
        }
      },
      "33": {
        start: {
          line: 80,
          column: 33
        },
        end: {
          line: 80,
          column: 58
        }
      },
      "34": {
        start: {
          line: 81,
          column: 12
        },
        end: {
          line: 84,
          column: 13
        }
      },
      "35": {
        start: {
          line: 82,
          column: 16
        },
        end: {
          line: 82,
          column: 86
        }
      },
      "36": {
        start: {
          line: 83,
          column: 16
        },
        end: {
          line: 83,
          column: 59
        }
      },
      "37": {
        start: {
          line: 87,
          column: 12
        },
        end: {
          line: 110,
          column: 13
        }
      },
      "38": {
        start: {
          line: 88,
          column: 42
        },
        end: {
          line: 88,
          column: 80
        }
      },
      "39": {
        start: {
          line: 89,
          column: 16
        },
        end: {
          line: 97,
          column: 17
        }
      },
      "40": {
        start: {
          line: 90,
          column: 20
        },
        end: {
          line: 90,
          column: 129
        }
      },
      "41": {
        start: {
          line: 91,
          column: 20
        },
        end: {
          line: 95,
          column: 22
        }
      },
      "42": {
        start: {
          line: 96,
          column: 20
        },
        end: {
          line: 96,
          column: 27
        }
      },
      "43": {
        start: {
          line: 100,
          column: 42
        },
        end: {
          line: 100,
          column: 80
        }
      },
      "44": {
        start: {
          line: 101,
          column: 16
        },
        end: {
          line: 109,
          column: 17
        }
      },
      "45": {
        start: {
          line: 102,
          column: 20
        },
        end: {
          line: 102,
          column: 86
        }
      },
      "46": {
        start: {
          line: 103,
          column: 20
        },
        end: {
          line: 107,
          column: 22
        }
      },
      "47": {
        start: {
          line: 108,
          column: 20
        },
        end: {
          line: 108,
          column: 27
        }
      },
      "48": {
        start: {
          line: 113,
          column: 32
        },
        end: {
          line: 113,
          column: 82
        }
      },
      "49": {
        start: {
          line: 116,
          column: 35
        },
        end: {
          line: 116,
          column: 85
        }
      },
      "50": {
        start: {
          line: 119,
          column: 38
        },
        end: {
          line: 127,
          column: 14
        }
      },
      "51": {
        start: {
          line: 129,
          column: 12
        },
        end: {
          line: 160,
          column: 13
        }
      },
      "52": {
        start: {
          line: 131,
          column: 16
        },
        end: {
          line: 131,
          column: 97
        }
      },
      "53": {
        start: {
          line: 134,
          column: 16
        },
        end: {
          line: 145,
          column: 19
        }
      },
      "54": {
        start: {
          line: 148,
          column: 42
        },
        end: {
          line: 148,
          column: 80
        }
      },
      "55": {
        start: {
          line: 149,
          column: 16
        },
        end: {
          line: 151,
          column: 17
        }
      },
      "56": {
        start: {
          line: 150,
          column: 20
        },
        end: {
          line: 150,
          column: 120
        }
      },
      "57": {
        start: {
          line: 153,
          column: 16
        },
        end: {
          line: 153,
          column: 83
        }
      },
      "58": {
        start: {
          line: 155,
          column: 16
        },
        end: {
          line: 159,
          column: 18
        }
      },
      "59": {
        start: {
          line: 163,
          column: 12
        },
        end: {
          line: 163,
          column: 64
        }
      },
      "60": {
        start: {
          line: 164,
          column: 12
        },
        end: {
          line: 168,
          column: 14
        }
      },
      "61": {
        start: {
          line: 171,
          column: 12
        },
        end: {
          line: 171,
          column: 24
        }
      },
      "62": {
        start: {
          line: 180,
          column: 4
        },
        end: {
          line: 224,
          column: 5
        }
      },
      "63": {
        start: {
          line: 181,
          column: 23
        },
        end: {
          line: 181,
          column: 52
        }
      },
      "64": {
        start: {
          line: 183,
          column: 8
        },
        end: {
          line: 186,
          column: 9
        }
      },
      "65": {
        start: {
          line: 184,
          column: 12
        },
        end: {
          line: 184,
          column: 86
        }
      },
      "66": {
        start: {
          line: 185,
          column: 12
        },
        end: {
          line: 185,
          column: 71
        }
      },
      "67": {
        start: {
          line: 188,
          column: 23
        },
        end: {
          line: 208,
          column: 9
        }
      },
      "68": {
        start: {
          line: 198,
          column: 61
        },
        end: {
          line: 198,
          column: 96
        }
      },
      "69": {
        start: {
          line: 210,
          column: 27
        },
        end: {
          line: 215,
          column: 10
        }
      },
      "70": {
        start: {
          line: 217,
          column: 26
        },
        end: {
          line: 217,
          column: 79
        }
      },
      "71": {
        start: {
          line: 218,
          column: 22
        },
        end: {
          line: 218,
          column: 41
        }
      },
      "72": {
        start: {
          line: 220,
          column: 8
        },
        end: {
          line: 220,
          column: 69
        }
      },
      "73": {
        start: {
          line: 222,
          column: 8
        },
        end: {
          line: 222,
          column: 83
        }
      },
      "74": {
        start: {
          line: 223,
          column: 8
        },
        end: {
          line: 223,
          column: 67
        }
      },
      "75": {
        start: {
          line: 231,
          column: 20
        },
        end: {
          line: 231,
          column: 119
        }
      },
      "76": {
        start: {
          line: 232,
          column: 26
        },
        end: {
          line: 232,
          column: 106
        }
      },
      "77": {
        start: {
          line: 232,
          column: 62
        },
        end: {
          line: 232,
          column: 99
        }
      },
      "78": {
        start: {
          line: 233,
          column: 4
        },
        end: {
          line: 233,
          column: 90
        }
      },
      "79": {
        start: {
          line: 240,
          column: 4
        },
        end: {
          line: 286,
          column: 5
        }
      },
      "80": {
        start: {
          line: 241,
          column: 23
        },
        end: {
          line: 241,
          column: 52
        }
      },
      "81": {
        start: {
          line: 243,
          column: 8
        },
        end: {
          line: 246,
          column: 9
        }
      },
      "82": {
        start: {
          line: 244,
          column: 12
        },
        end: {
          line: 244,
          column: 91
        }
      },
      "83": {
        start: {
          line: 245,
          column: 12
        },
        end: {
          line: 245,
          column: 72
        }
      },
      "84": {
        start: {
          line: 248,
          column: 23
        },
        end: {
          line: 272,
          column: 9
        }
      },
      "85": {
        start: {
          line: 260,
          column: 61
        },
        end: {
          line: 260,
          column: 96
        }
      },
      "86": {
        start: {
          line: 274,
          column: 27
        },
        end: {
          line: 279,
          column: 10
        }
      },
      "87": {
        start: {
          line: 281,
          column: 8
        },
        end: {
          line: 281,
          column: 119
        }
      },
      "88": {
        start: {
          line: 284,
          column: 8
        },
        end: {
          line: 284,
          column: 81
        }
      },
      "89": {
        start: {
          line: 285,
          column: 8
        },
        end: {
          line: 285,
          column: 68
        }
      },
      "90": {
        start: {
          line: 293,
          column: 4
        },
        end: {
          line: 302,
          column: 21
        }
      },
      "91": {
        start: {
          line: 309,
          column: 4
        },
        end: {
          line: 350,
          column: 5
        }
      },
      "92": {
        start: {
          line: 310,
          column: 23
        },
        end: {
          line: 310,
          column: 52
        }
      },
      "93": {
        start: {
          line: 312,
          column: 8
        },
        end: {
          line: 315,
          column: 9
        }
      },
      "94": {
        start: {
          line: 313,
          column: 12
        },
        end: {
          line: 313,
          column: 89
        }
      },
      "95": {
        start: {
          line: 314,
          column: 12
        },
        end: {
          line: 314,
          column: 34
        }
      },
      "96": {
        start: {
          line: 317,
          column: 23
        },
        end: {
          line: 336,
          column: 9
        }
      },
      "97": {
        start: {
          line: 338,
          column: 27
        },
        end: {
          line: 343,
          column: 10
        }
      },
      "98": {
        start: {
          line: 345,
          column: 8
        },
        end: {
          line: 345,
          column: 81
        }
      },
      "99": {
        start: {
          line: 348,
          column: 8
        },
        end: {
          line: 348,
          column: 74
        }
      },
      "100": {
        start: {
          line: 349,
          column: 8
        },
        end: {
          line: 349,
          column: 30
        }
      },
      "101": {
        start: {
          line: 357,
          column: 4
        },
        end: {
          line: 406,
          column: 5
        }
      },
      "102": {
        start: {
          line: 358,
          column: 96
        },
        end: {
          line: 358,
          column: 111
        }
      },
      "103": {
        start: {
          line: 367,
          column: 30
        },
        end: {
          line: 367,
          column: 38
        }
      },
      "104": {
        start: {
          line: 370,
          column: 24
        },
        end: {
          line: 370,
          column: 43
        }
      },
      "105": {
        start: {
          line: 372,
          column: 8
        },
        end: {
          line: 398,
          column: 9
        }
      },
      "106": {
        start: {
          line: 374,
          column: 12
        },
        end: {
          line: 386,
          column: 15
        }
      },
      "107": {
        start: {
          line: 388,
          column: 12
        },
        end: {
          line: 392,
          column: 14
        }
      },
      "108": {
        start: {
          line: 394,
          column: 12
        },
        end: {
          line: 397,
          column: 14
        }
      },
      "109": {
        start: {
          line: 401,
          column: 8
        },
        end: {
          line: 401,
          column: 66
        }
      },
      "110": {
        start: {
          line: 402,
          column: 8
        },
        end: {
          line: 405,
          column: 10
        }
      },
      "111": {
        start: {
          line: 413,
          column: 4
        },
        end: {
          line: 433,
          column: 5
        }
      },
      "112": {
        start: {
          line: 414,
          column: 32
        },
        end: {
          line: 420,
          column: 9
        }
      },
      "113": {
        start: {
          line: 422,
          column: 8
        },
        end: {
          line: 428,
          column: 10
        }
      },
      "114": {
        start: {
          line: 430,
          column: 8
        },
        end: {
          line: 430,
          column: 76
        }
      },
      "115": {
        start: {
          line: 432,
          column: 8
        },
        end: {
          line: 432,
          column: 60
        }
      },
      "116": {
        start: {
          line: 440,
          column: 4
        },
        end: {
          line: 451,
          column: 6
        }
      },
      "117": {
        start: {
          line: 455,
          column: 4
        },
        end: {
          line: 463,
          column: 6
        }
      },
      "118": {
        start: {
          line: 468,
          column: 4
        },
        end: {
          line: 468,
          column: 16
        }
      },
      "119": {
        start: {
          line: 473,
          column: 4
        },
        end: {
          line: 473,
          column: 41
        }
      },
      "120": {
        start: {
          line: 478,
          column: 4
        },
        end: {
          line: 478,
          column: 61
        }
      },
      "121": {
        start: {
          line: 485,
          column: 4
        },
        end: {
          line: 496,
          column: 5
        }
      },
      "122": {
        start: {
          line: 487,
          column: 47
        },
        end: {
          line: 487,
          column: 105
        }
      },
      "123": {
        start: {
          line: 490,
          column: 8
        },
        end: {
          line: 490,
          column: 93
        }
      },
      "124": {
        start: {
          line: 492,
          column: 8
        },
        end: {
          line: 492,
          column: 117
        }
      },
      "125": {
        start: {
          line: 494,
          column: 8
        },
        end: {
          line: 494,
          column: 82
        }
      }
    },
    fnMap: {
      "0": {
        name: "initializeAzureOpenAI",
        decl: {
          start: {
            line: 14,
            column: 15
          },
          end: {
            line: 14,
            column: 36
          }
        },
        loc: {
          start: {
            line: 14,
            column: 39
          },
          end: {
            line: 42,
            column: 1
          }
        },
        line: 14
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 48,
            column: 13
          },
          end: {
            line: 48,
            column: 14
          }
        },
        loc: {
          start: {
            line: 48,
            column: 43
          },
          end: {
            line: 173,
            column: 5
          }
        },
        line: 48
      },
      "2": {
        name: "calculateJobRelevancy",
        decl: {
          start: {
            line: 179,
            column: 15
          },
          end: {
            line: 179,
            column: 36
          }
        },
        loc: {
          start: {
            line: 179,
            column: 62
          },
          end: {
            line: 225,
            column: 1
          }
        },
        line: 179
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 198,
            column: 54
          },
          end: {
            line: 198,
            column: 55
          }
        },
        loc: {
          start: {
            line: 198,
            column: 61
          },
          end: {
            line: 198,
            column: 96
          }
        },
        line: 198
      },
      "4": {
        name: "calculateFallbackRelevancy",
        decl: {
          start: {
            line: 230,
            column: 9
          },
          end: {
            line: 230,
            column: 35
          }
        },
        loc: {
          start: {
            line: 230,
            column: 61
          },
          end: {
            line: 234,
            column: 1
          }
        },
        line: 230
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 232,
            column: 53
          },
          end: {
            line: 232,
            column: 54
          }
        },
        loc: {
          start: {
            line: 232,
            column: 62
          },
          end: {
            line: 232,
            column: 99
          }
        },
        line: 232
      },
      "6": {
        name: "generateCoverLetter",
        decl: {
          start: {
            line: 239,
            column: 15
          },
          end: {
            line: 239,
            column: 34
          }
        },
        loc: {
          start: {
            line: 239,
            column: 60
          },
          end: {
            line: 287,
            column: 1
          }
        },
        line: 239
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 260,
            column: 54
          },
          end: {
            line: 260,
            column: 55
          }
        },
        loc: {
          start: {
            line: 260,
            column: 61
          },
          end: {
            line: 260,
            column: 96
          }
        },
        line: 260
      },
      "8": {
        name: "generateFallbackCoverLetter",
        decl: {
          start: {
            line: 292,
            column: 9
          },
          end: {
            line: 292,
            column: 36
          }
        },
        loc: {
          start: {
            line: 292,
            column: 62
          },
          end: {
            line: 303,
            column: 1
          }
        },
        line: 292
      },
      "9": {
        name: "tailorResume",
        decl: {
          start: {
            line: 308,
            column: 15
          },
          end: {
            line: 308,
            column: 27
          }
        },
        loc: {
          start: {
            line: 308,
            column: 56
          },
          end: {
            line: 351,
            column: 1
          }
        },
        line: 308
      },
      "10": {
        name: "submitJobApplication",
        decl: {
          start: {
            line: 356,
            column: 15
          },
          end: {
            line: 356,
            column: 35
          }
        },
        loc: {
          start: {
            line: 356,
            column: 53
          },
          end: {
            line: 407,
            column: 1
          }
        },
        line: 356
      },
      "11": {
        name: "scheduleFollowUp",
        decl: {
          start: {
            line: 412,
            column: 15
          },
          end: {
            line: 412,
            column: 31
          }
        },
        loc: {
          start: {
            line: 412,
            column: 73
          },
          end: {
            line: 434,
            column: 1
          }
        },
        line: 412
      },
      "12": {
        name: "getUserProfile",
        decl: {
          start: {
            line: 438,
            column: 15
          },
          end: {
            line: 438,
            column: 29
          }
        },
        loc: {
          start: {
            line: 438,
            column: 38
          },
          end: {
            line: 452,
            column: 1
          }
        },
        line: 438
      },
      "13": {
        name: "getUserAutoApplySettings",
        decl: {
          start: {
            line: 454,
            column: 15
          },
          end: {
            line: 454,
            column: 39
          }
        },
        loc: {
          start: {
            line: 454,
            column: 48
          },
          end: {
            line: 464,
            column: 1
          }
        },
        line: 454
      },
      "14": {
        name: "checkExistingApplication",
        decl: {
          start: {
            line: 466,
            column: 15
          },
          end: {
            line: 466,
            column: 39
          }
        },
        loc: {
          start: {
            line: 466,
            column: 55
          },
          end: {
            line: 469,
            column: 1
          }
        },
        line: 466
      },
      "15": {
        name: "getTodayApplicationCount",
        decl: {
          start: {
            line: 471,
            column: 15
          },
          end: {
            line: 471,
            column: 39
          }
        },
        loc: {
          start: {
            line: 471,
            column: 48
          },
          end: {
            line: 474,
            column: 1
          }
        },
        line: 471
      },
      "16": {
        name: "storeJobApplication",
        decl: {
          start: {
            line: 476,
            column: 15
          },
          end: {
            line: 476,
            column: 34
          }
        },
        loc: {
          start: {
            line: 476,
            column: 52
          },
          end: {
            line: 479,
            column: 1
          }
        },
        line: 476
      },
      "17": {
        name: "sendApplicationSubmittedNotification",
        decl: {
          start: {
            line: 484,
            column: 15
          },
          end: {
            line: 484,
            column: 51
          }
        },
        loc: {
          start: {
            line: 484,
            column: 77
          },
          end: {
            line: 497,
            column: 1
          }
        },
        line: 484
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 17,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 17,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 15
      },
      "1": {
        loc: {
          start: {
            line: 22,
            column: 8
          },
          end: {
            line: 25,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 22,
            column: 8
          },
          end: {
            line: 25,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 22
      },
      "2": {
        loc: {
          start: {
            line: 22,
            column: 12
          },
          end: {
            line: 22,
            column: 67
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 22,
            column: 12
          },
          end: {
            line: 22,
            column: 35
          }
        }, {
          start: {
            line: 22,
            column: 39
          },
          end: {
            line: 22,
            column: 67
          }
        }],
        line: 22
      },
      "3": {
        loc: {
          start: {
            line: 52,
            column: 36
          },
          end: {
            line: 52,
            column: 101
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 52,
            column: 68
          },
          end: {
            line: 52,
            column: 89
          }
        }, {
          start: {
            line: 52,
            column: 92
          },
          end: {
            line: 52,
            column: 101
          }
        }],
        line: 52
      },
      "4": {
        loc: {
          start: {
            line: 63,
            column: 12
          },
          end: {
            line: 65,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 63,
            column: 12
          },
          end: {
            line: 65,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 63
      },
      "5": {
        loc: {
          start: {
            line: 69,
            column: 12
          },
          end: {
            line: 77,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 69,
            column: 12
          },
          end: {
            line: 77,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 69
      },
      "6": {
        loc: {
          start: {
            line: 81,
            column: 12
          },
          end: {
            line: 84,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 81,
            column: 12
          },
          end: {
            line: 84,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 81
      },
      "7": {
        loc: {
          start: {
            line: 87,
            column: 12
          },
          end: {
            line: 110,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 87,
            column: 12
          },
          end: {
            line: 110,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 87
      },
      "8": {
        loc: {
          start: {
            line: 89,
            column: 16
          },
          end: {
            line: 97,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 89,
            column: 16
          },
          end: {
            line: 97,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 89
      },
      "9": {
        loc: {
          start: {
            line: 101,
            column: 16
          },
          end: {
            line: 109,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 101,
            column: 16
          },
          end: {
            line: 109,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 101
      },
      "10": {
        loc: {
          start: {
            line: 129,
            column: 12
          },
          end: {
            line: 160,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 129,
            column: 12
          },
          end: {
            line: 160,
            column: 13
          }
        }, {
          start: {
            line: 154,
            column: 19
          },
          end: {
            line: 160,
            column: 13
          }
        }],
        line: 129
      },
      "11": {
        loc: {
          start: {
            line: 149,
            column: 16
          },
          end: {
            line: 151,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 149,
            column: 16
          },
          end: {
            line: 151,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 149
      },
      "12": {
        loc: {
          start: {
            line: 183,
            column: 8
          },
          end: {
            line: 186,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 183,
            column: 8
          },
          end: {
            line: 186,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 183
      },
      "13": {
        loc: {
          start: {
            line: 217,
            column: 26
          },
          end: {
            line: 217,
            column: 79
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 217,
            column: 26
          },
          end: {
            line: 217,
            column: 73
          }
        }, {
          start: {
            line: 217,
            column: 77
          },
          end: {
            line: 217,
            column: 79
          }
        }],
        line: 217
      },
      "14": {
        loc: {
          start: {
            line: 220,
            column: 15
          },
          end: {
            line: 220,
            column: 68
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 220,
            column: 30
          },
          end: {
            line: 220,
            column: 32
          }
        }, {
          start: {
            line: 220,
            column: 35
          },
          end: {
            line: 220,
            column: 68
          }
        }],
        line: 220
      },
      "15": {
        loc: {
          start: {
            line: 232,
            column: 26
          },
          end: {
            line: 232,
            column: 106
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 232,
            column: 26
          },
          end: {
            line: 232,
            column: 100
          }
        }, {
          start: {
            line: 232,
            column: 104
          },
          end: {
            line: 232,
            column: 106
          }
        }],
        line: 232
      },
      "16": {
        loc: {
          start: {
            line: 233,
            column: 49
          },
          end: {
            line: 233,
            column: 80
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 233,
            column: 49
          },
          end: {
            line: 233,
            column: 75
          }
        }, {
          start: {
            line: 233,
            column: 79
          },
          end: {
            line: 233,
            column: 80
          }
        }],
        line: 233
      },
      "17": {
        loc: {
          start: {
            line: 243,
            column: 8
          },
          end: {
            line: 246,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 243,
            column: 8
          },
          end: {
            line: 246,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 243
      },
      "18": {
        loc: {
          start: {
            line: 281,
            column: 15
          },
          end: {
            line: 281,
            column: 118
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 281,
            column: 15
          },
          end: {
            line: 281,
            column: 62
          }
        }, {
          start: {
            line: 281,
            column: 66
          },
          end: {
            line: 281,
            column: 118
          }
        }],
        line: 281
      },
      "19": {
        loc: {
          start: {
            line: 312,
            column: 8
          },
          end: {
            line: 315,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 312,
            column: 8
          },
          end: {
            line: 315,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 312
      },
      "20": {
        loc: {
          start: {
            line: 345,
            column: 15
          },
          end: {
            line: 345,
            column: 80
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 345,
            column: 15
          },
          end: {
            line: 345,
            column: 62
          }
        }, {
          start: {
            line: 345,
            column: 66
          },
          end: {
            line: 345,
            column: 80
          }
        }],
        line: 345
      },
      "21": {
        loc: {
          start: {
            line: 372,
            column: 8
          },
          end: {
            line: 398,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 372,
            column: 8
          },
          end: {
            line: 398,
            column: 9
          }
        }, {
          start: {
            line: 393,
            column: 15
          },
          end: {
            line: 398,
            column: 9
          }
        }],
        line: 372
      },
      "22": {
        loc: {
          start: {
            line: 404,
            column: 21
          },
          end: {
            line: 404,
            column: 84
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 404,
            column: 21
          },
          end: {
            line: 404,
            column: 34
          }
        }, {
          start: {
            line: 404,
            column: 38
          },
          end: {
            line: 404,
            column: 84
          }
        }],
        line: 404
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0]
    },
    inputSourceMap: null,
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "b6a7e6c1bc61d7bebf7b807417f1599d513889e9"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1pwd3cutoc = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1pwd3cutoc();
const {
  app
} =
/* istanbul ignore next */
(cov_1pwd3cutoc().s[0]++, require('@azure/functions'));
const queueService =
/* istanbul ignore next */
(cov_1pwd3cutoc().s[1]++, require('../lib/services/queue-service'));
const automationLogger =
/* istanbul ignore next */
(cov_1pwd3cutoc().s[2]++, require('../lib/services/automation-logs'));
const OpenAI =
/* istanbul ignore next */
(cov_1pwd3cutoc().s[3]++, require('openai'));
const {
  fetchAzureSecrets
} =
/* istanbul ignore next */
(cov_1pwd3cutoc().s[4]++, require('../lib/azure-config'));
const {
  v4: uuidv4
} =
/* istanbul ignore next */
(cov_1pwd3cutoc().s[5]++, require('uuid'));

// Azure OpenAI client - will be initialized from Key Vault secrets
let azureOpenAIClient =
/* istanbul ignore next */
(cov_1pwd3cutoc().s[6]++, null);

/**
 * Initialize Azure OpenAI client
 */
async function initializeAzureOpenAI() {
  /* istanbul ignore next */
  cov_1pwd3cutoc().f[0]++;
  cov_1pwd3cutoc().s[7]++;
  if (azureOpenAIClient) {
    /* istanbul ignore next */
    cov_1pwd3cutoc().b[0][0]++;
    cov_1pwd3cutoc().s[8]++;
    return azureOpenAIClient;
  } else
  /* istanbul ignore next */
  {
    cov_1pwd3cutoc().b[0][1]++;
  }
  cov_1pwd3cutoc().s[9]++;
  try {
    const secrets =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[10]++, await fetchAzureSecrets());
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[11]++;
    if (
    /* istanbul ignore next */
    (cov_1pwd3cutoc().b[2][0]++, !secrets.azureOpenAIKey) ||
    /* istanbul ignore next */
    (cov_1pwd3cutoc().b[2][1]++, !secrets.azureOpenAIEndpoint)) {
      /* istanbul ignore next */
      cov_1pwd3cutoc().b[1][0]++;
      cov_1pwd3cutoc().s[12]++;
      console.warn('⚠️ Azure OpenAI credentials not available, using fallback');
      /* istanbul ignore next */
      cov_1pwd3cutoc().s[13]++;
      return null;
    } else
    /* istanbul ignore next */
    {
      cov_1pwd3cutoc().b[1][1]++;
    }
    cov_1pwd3cutoc().s[14]++;
    azureOpenAIClient = new OpenAI({
      apiKey: secrets.azureOpenAIKey,
      baseURL: `${secrets.azureOpenAIEndpoint}/openai/deployments/${secrets.azureOpenAIDeployment}`,
      defaultQuery: {
        'api-version': '2024-08-01-preview'
      },
      defaultHeaders: {
        'api-key': secrets.azureOpenAIKey
      }
    });
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[15]++;
    console.log('✅ Azure OpenAI client initialized for application worker');
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[16]++;
    return azureOpenAIClient;
  } catch (error) {
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[17]++;
    console.error('❌ Failed to initialize Azure OpenAI client:', error);
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[18]++;
    return null;
  }
}

// Queue trigger function for processing job applications
/* istanbul ignore next */
cov_1pwd3cutoc().s[19]++;
app.storageQueue('applicationWorker', {
  queueName: 'process-applications',
  connection: 'AzureWebJobsStorage',
  handler: async (queueItem, context) => {
    /* istanbul ignore next */
    cov_1pwd3cutoc().f[1]++;
    cov_1pwd3cutoc().s[20]++;
    context.log('Application Worker processing queue item:', queueItem);
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[21]++;
    try {
      const applicationData =
      /* istanbul ignore next */
      (cov_1pwd3cutoc().s[22]++, typeof queueItem === 'string' ?
      /* istanbul ignore next */
      (cov_1pwd3cutoc().b[3][0]++, JSON.parse(queueItem)) :
      /* istanbul ignore next */
      (cov_1pwd3cutoc().b[3][1]++, queueItem));
      const {
        userId,
        jobId,
        jobListing,
        requestId,
        autoApply
      } =
      /* istanbul ignore next */
      (cov_1pwd3cutoc().s[23]++, applicationData);
      /* istanbul ignore next */
      cov_1pwd3cutoc().s[24]++;
      await automationLogger.logInfo('application_processing_started', `Starting application processing for job ${jobId}`, {
        userId,
        jobId,
        requestId,
        autoApply
      });

      // Get user profile and preferences
      const userProfile =
      /* istanbul ignore next */
      (cov_1pwd3cutoc().s[25]++, await getUserProfile(userId));
      /* istanbul ignore next */
      cov_1pwd3cutoc().s[26]++;
      if (!userProfile) {
        /* istanbul ignore next */
        cov_1pwd3cutoc().b[4][0]++;
        cov_1pwd3cutoc().s[27]++;
        throw new Error(`User profile not found for user ${userId}`);
      } else
      /* istanbul ignore next */
      {
        cov_1pwd3cutoc().b[4][1]++;
      }

      // Check if user has already applied to this job
      const existingApplication =
      /* istanbul ignore next */
      (cov_1pwd3cutoc().s[28]++, await checkExistingApplication(userId, jobId));
      /* istanbul ignore next */
      cov_1pwd3cutoc().s[29]++;
      if (existingApplication) {
        /* istanbul ignore next */
        cov_1pwd3cutoc().b[5][0]++;
        cov_1pwd3cutoc().s[30]++;
        context.log(`User ${userId} has already applied to job ${jobId}`);
        /* istanbul ignore next */
        cov_1pwd3cutoc().s[31]++;
        await automationLogger.logWarning('application_duplicate_skipped', 'Skipping duplicate application', {
          userId,
          jobId
        });
        /* istanbul ignore next */
        cov_1pwd3cutoc().s[32]++;
        return;
      } else
      /* istanbul ignore next */
      {
        cov_1pwd3cutoc().b[5][1]++;
      }

      // Calculate job relevancy if not already done
      let relevancyScore =
      /* istanbul ignore next */
      (cov_1pwd3cutoc().s[33]++, jobListing.relevancyScore);
      /* istanbul ignore next */
      cov_1pwd3cutoc().s[34]++;
      if (!relevancyScore) {
        /* istanbul ignore next */
        cov_1pwd3cutoc().b[6][0]++;
        cov_1pwd3cutoc().s[35]++;
        relevancyScore = await calculateJobRelevancy(jobListing, userProfile);
        /* istanbul ignore next */
        cov_1pwd3cutoc().s[36]++;
        jobListing.relevancyScore = relevancyScore;
      } else
      /* istanbul ignore next */
      {
        cov_1pwd3cutoc().b[6][1]++;
      }

      // Check if job meets auto-apply threshold
      cov_1pwd3cutoc().s[37]++;
      if (autoApply) {
        /* istanbul ignore next */
        cov_1pwd3cutoc().b[7][0]++;
        const autoApplySettings =
        /* istanbul ignore next */
        (cov_1pwd3cutoc().s[38]++, await getUserAutoApplySettings(userId));
        /* istanbul ignore next */
        cov_1pwd3cutoc().s[39]++;
        if (relevancyScore < autoApplySettings.autoApplyThreshold) {
          /* istanbul ignore next */
          cov_1pwd3cutoc().b[8][0]++;
          cov_1pwd3cutoc().s[40]++;
          context.log(`Job relevancy score ${relevancyScore} below threshold ${autoApplySettings.autoApplyThreshold}`);
          /* istanbul ignore next */
          cov_1pwd3cutoc().s[41]++;
          await automationLogger.logInfo('application_skipped_threshold', `Job skipped due to low relevancy score: ${relevancyScore}`, {
            userId,
            jobId,
            relevancyScore,
            threshold: autoApplySettings.autoApplyThreshold
          });
          /* istanbul ignore next */
          cov_1pwd3cutoc().s[42]++;
          return;
        } else
        /* istanbul ignore next */
        {
          cov_1pwd3cutoc().b[8][1]++;
        }

        // Check daily application limit
        const todayApplications =
        /* istanbul ignore next */
        (cov_1pwd3cutoc().s[43]++, await getTodayApplicationCount(userId));
        /* istanbul ignore next */
        cov_1pwd3cutoc().s[44]++;
        if (todayApplications >= autoApplySettings.dailyApplicationLimit) {
          /* istanbul ignore next */
          cov_1pwd3cutoc().b[9][0]++;
          cov_1pwd3cutoc().s[45]++;
          context.log(`User ${userId} has reached daily application limit`);
          /* istanbul ignore next */
          cov_1pwd3cutoc().s[46]++;
          await automationLogger.logWarning('application_daily_limit_reached', 'Daily application limit reached', {
            userId,
            todayApplications,
            dailyLimit: autoApplySettings.dailyApplicationLimit
          });
          /* istanbul ignore next */
          cov_1pwd3cutoc().s[47]++;
          return;
        } else
        /* istanbul ignore next */
        {
          cov_1pwd3cutoc().b[9][1]++;
        }
      } else
      /* istanbul ignore next */
      {
        cov_1pwd3cutoc().b[7][1]++;
      }

      // Generate cover letter
      const coverLetter =
      /* istanbul ignore next */
      (cov_1pwd3cutoc().s[48]++, await generateCoverLetter(jobListing, userProfile));

      // Tailor resume for the job
      const tailoredResume =
      /* istanbul ignore next */
      (cov_1pwd3cutoc().s[49]++, await tailorResume(userProfile.resume, jobListing));

      // Submit application
      const applicationResult =
      /* istanbul ignore next */
      (cov_1pwd3cutoc().s[50]++, await submitJobApplication({
        userId,
        jobId,
        jobListing,
        userProfile,
        coverLetter,
        resume: tailoredResume,
        relevancyScore
      }));
      /* istanbul ignore next */
      cov_1pwd3cutoc().s[51]++;
      if (applicationResult.success) {
        /* istanbul ignore next */
        cov_1pwd3cutoc().b[10][0]++;
        cov_1pwd3cutoc().s[52]++;
        // Log successful application
        await automationLogger.logApplicationSubmitted(userId, jobId, applicationResult);

        // Send application submitted notification
        /* istanbul ignore next */
        cov_1pwd3cutoc().s[53]++;
        await sendApplicationSubmittedNotification(userId, {
          id: applicationResult.applicationId,
          userId,
          jobId,
          jobTitle: jobListing.title,
          company: jobListing.company,
          appliedAt: new Date(),
          autoApplied: autoApply,
          coverLetterUsed: !!coverLetter,
          resumeTailored: !!tailoredResume,
          relevancyScore
        });

        // Schedule follow-up reminder if enabled
        const autoApplySettings =
        /* istanbul ignore next */
        (cov_1pwd3cutoc().s[54]++, await getUserAutoApplySettings(userId));
        /* istanbul ignore next */
        cov_1pwd3cutoc().s[55]++;
        if (autoApplySettings.followUpEnabled) {
          /* istanbul ignore next */
          cov_1pwd3cutoc().b[11][0]++;
          cov_1pwd3cutoc().s[56]++;
          await scheduleFollowUp(userId, applicationResult.applicationId, autoApplySettings.followUpSchedule);
        } else
        /* istanbul ignore next */
        {
          cov_1pwd3cutoc().b[11][1]++;
        }
        cov_1pwd3cutoc().s[57]++;
        context.log(`Successfully processed application for job ${jobId}`);
      } else {
        /* istanbul ignore next */
        cov_1pwd3cutoc().b[10][1]++;
        cov_1pwd3cutoc().s[58]++;
        await automationLogger.logError('application_submission_failed', new Error(applicationResult.message), {
          userId,
          jobId,
          applicationResult
        });
      }
    } catch (error) {
      /* istanbul ignore next */
      cov_1pwd3cutoc().s[59]++;
      context.log('Error processing application:', error);
      /* istanbul ignore next */
      cov_1pwd3cutoc().s[60]++;
      await automationLogger.logError('application_processing_error', error, {
        queueItem
      });

      // Re-throw to trigger Azure Functions retry logic
      /* istanbul ignore next */
      cov_1pwd3cutoc().s[61]++;
      throw error;
    }
  }
});

/**
 * Calculate job relevancy score using AI
 */
async function calculateJobRelevancy(jobListing, userProfile) {
  /* istanbul ignore next */
  cov_1pwd3cutoc().f[2]++;
  cov_1pwd3cutoc().s[62]++;
  try {
    const client =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[63]++, await initializeAzureOpenAI());
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[64]++;
    if (!client) {
      /* istanbul ignore next */
      cov_1pwd3cutoc().b[12][0]++;
      cov_1pwd3cutoc().s[65]++;
      console.warn('Azure OpenAI client not available, using fallback scoring');
      /* istanbul ignore next */
      cov_1pwd3cutoc().s[66]++;
      return calculateFallbackRelevancy(jobListing, userProfile);
    } else
    /* istanbul ignore next */
    {
      cov_1pwd3cutoc().b[12][1]++;
    }
    const prompt =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[67]++, `
            Analyze the relevancy between this job posting and the candidate's profile:
            
            JOB TITLE: ${jobListing.title}
            COMPANY: ${jobListing.company}
            JOB DESCRIPTION: ${jobListing.description}
            REQUIREMENTS: ${jobListing.requirements?.join(', ')}
            
            CANDIDATE PROFILE:
            Skills: ${userProfile.skills?.join(', ')}
            Experience: ${userProfile.experience?.map(exp => {
      /* istanbul ignore next */
      cov_1pwd3cutoc().f[3]++;
      cov_1pwd3cutoc().s[68]++;
      return `${exp.position} at ${exp.company}`;
    }).join(', ')}
            Target Roles: ${userProfile.targetRoles?.join(', ')}
            
            Calculate a relevancy score from 0-100 based on:
            1. Skills match (40% weight)
            2. Role alignment (30% weight) 
            3. Experience level match (20% weight)
            4. Job requirements match (10% weight)
            
            Return only a number between 0-100.
        `);
    const completion =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[69]++, await client.chat.completions.create({
      model: 'gpt-35-turbo',
      // Using the deployment name
      messages: [{
        role: 'user',
        content: prompt
      }],
      temperature: 0.1,
      max_tokens: 50
    }));
    const scoreText =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[70]++,
    /* istanbul ignore next */
    (cov_1pwd3cutoc().b[13][0]++, completion.choices[0]?.message?.content?.trim()) ||
    /* istanbul ignore next */
    (cov_1pwd3cutoc().b[13][1]++, ''));
    const score =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[71]++, parseInt(scoreText));
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[72]++;
    return isNaN(score) ?
    /* istanbul ignore next */
    (cov_1pwd3cutoc().b[14][0]++, 50) :
    /* istanbul ignore next */
    (cov_1pwd3cutoc().b[14][1]++, Math.max(0, Math.min(100, score)));
  } catch (error) {
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[73]++;
    console.error('Error calculating job relevancy with Azure OpenAI:', error);
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[74]++;
    return calculateFallbackRelevancy(jobListing, userProfile);
  }
}

/**
 * Fallback relevancy calculation using keyword matching
 */
function calculateFallbackRelevancy(jobListing, userProfile) {
  /* istanbul ignore next */
  cov_1pwd3cutoc().f[4]++;
  const jobText =
  /* istanbul ignore next */
  (cov_1pwd3cutoc().s[75]++, `${jobListing.title} ${jobListing.description} ${jobListing.requirements?.join(' ')}`.toLowerCase());
  const matchedSkills =
  /* istanbul ignore next */
  (cov_1pwd3cutoc().s[76]++,
  /* istanbul ignore next */
  (cov_1pwd3cutoc().b[15][0]++, userProfile.skills?.filter(skill => {
    /* istanbul ignore next */
    cov_1pwd3cutoc().f[5]++;
    cov_1pwd3cutoc().s[77]++;
    return jobText.includes(skill.toLowerCase());
  })) ||
  /* istanbul ignore next */
  (cov_1pwd3cutoc().b[15][1]++, []));
  /* istanbul ignore next */
  cov_1pwd3cutoc().s[78]++;
  return Math.min(90, matchedSkills.length / (
  /* istanbul ignore next */
  (cov_1pwd3cutoc().b[16][0]++, userProfile.skills?.length) ||
  /* istanbul ignore next */
  (cov_1pwd3cutoc().b[16][1]++, 1)) * 100);
}

/**
 * Generate AI-powered cover letter
 */
async function generateCoverLetter(jobListing, userProfile) {
  /* istanbul ignore next */
  cov_1pwd3cutoc().f[6]++;
  cov_1pwd3cutoc().s[79]++;
  try {
    const client =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[80]++, await initializeAzureOpenAI());
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[81]++;
    if (!client) {
      /* istanbul ignore next */
      cov_1pwd3cutoc().b[17][0]++;
      cov_1pwd3cutoc().s[82]++;
      console.warn('Azure OpenAI client not available, using fallback cover letter');
      /* istanbul ignore next */
      cov_1pwd3cutoc().s[83]++;
      return generateFallbackCoverLetter(jobListing, userProfile);
    } else
    /* istanbul ignore next */
    {
      cov_1pwd3cutoc().b[17][1]++;
    }
    const prompt =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[84]++, `
            Generate a professional cover letter for this job application:
            
            JOB DETAILS:
            Position: ${jobListing.title}
            Company: ${jobListing.company}
            Description: ${jobListing.description}
            Requirements: ${jobListing.requirements?.join(', ')}
            
            CANDIDATE PROFILE:
            Name: ${userProfile.name}
            Skills: ${userProfile.skills?.join(', ')}
            Experience: ${userProfile.experience?.map(exp => {
      /* istanbul ignore next */
      cov_1pwd3cutoc().f[7]++;
      cov_1pwd3cutoc().s[85]++;
      return `${exp.position} at ${exp.company}`;
    }).join(', ')}
            Summary: ${userProfile.summary}
            
            Requirements:
            1. Professional tone and format
            2. Highlight relevant skills and experience
            3. Show enthusiasm for the role and company
            4. Keep it concise (3-4 paragraphs)
            5. Include specific examples when possible
            6. Address any skill gaps positively
            
            Return only the cover letter text, no additional formatting or explanations.
        `);
    const completion =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[86]++, await client.chat.completions.create({
      model: 'gpt-4o',
      // Using gpt-4o for better content generation
      messages: [{
        role: 'user',
        content: prompt
      }],
      temperature: 0.7,
      max_tokens: 1000
    }));
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[87]++;
    return /* istanbul ignore next */(cov_1pwd3cutoc().b[18][0]++, completion.choices[0]?.message?.content?.trim()) ||
    /* istanbul ignore next */
    (cov_1pwd3cutoc().b[18][1]++, generateFallbackCoverLetter(jobListing, userProfile));
  } catch (error) {
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[88]++;
    console.error('Error generating cover letter with Azure OpenAI:', error);
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[89]++;
    return generateFallbackCoverLetter(jobListing, userProfile);
  }
}

/**
 * Generate fallback cover letter
 */
function generateFallbackCoverLetter(jobListing, userProfile) {
  /* istanbul ignore next */
  cov_1pwd3cutoc().f[8]++;
  cov_1pwd3cutoc().s[90]++;
  return `Dear Hiring Manager,

I am writing to express my strong interest in the ${jobListing.title} position at ${jobListing.company}. With my background in ${userProfile.skills?.slice(0, 3).join(', ')}, I am confident that I would be a valuable addition to your team.

In my previous roles, I have gained extensive experience in ${userProfile.skills?.slice(0, 2).join(' and ')}, which directly aligns with the requirements outlined in your job posting. I am particularly excited about the opportunity to contribute to ${jobListing.company}'s innovative work in this space.

I would welcome the opportunity to discuss how my skills and enthusiasm can contribute to your team's success. Thank you for considering my application.

Best regards,
${userProfile.name}`;
}

/**
 * Tailor resume for specific job
 */
async function tailorResume(originalResume, jobListing) {
  /* istanbul ignore next */
  cov_1pwd3cutoc().f[9]++;
  cov_1pwd3cutoc().s[91]++;
  try {
    const client =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[92]++, await initializeAzureOpenAI());
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[93]++;
    if (!client) {
      /* istanbul ignore next */
      cov_1pwd3cutoc().b[19][0]++;
      cov_1pwd3cutoc().s[94]++;
      console.warn('Azure OpenAI client not available, returning original resume');
      /* istanbul ignore next */
      cov_1pwd3cutoc().s[95]++;
      return originalResume;
    } else
    /* istanbul ignore next */
    {
      cov_1pwd3cutoc().b[19][1]++;
    }
    const prompt =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[96]++, `
            Tailor this resume for the specific job posting to maximize ATS compatibility and relevance:
            
            JOB DESCRIPTION:
            ${jobListing.description}
            REQUIREMENTS: ${jobListing.requirements?.join(', ')}
            
            ORIGINAL RESUME:
            ${originalResume}
            
            Instructions:
            1. Optimize keywords for ATS systems
            2. Highlight most relevant experience first
            3. Include specific skills mentioned in job description
            4. Quantify achievements where possible
            5. Maintain professional formatting
            6. Keep same overall structure and length
            
            Return only the tailored resume content.
        `);
    const completion =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[97]++, await client.chat.completions.create({
      model: 'gpt-4o',
      // Using gpt-4o for better content generation
      messages: [{
        role: 'user',
        content: prompt
      }],
      temperature: 0.7,
      max_tokens: 2000
    }));
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[98]++;
    return /* istanbul ignore next */(cov_1pwd3cutoc().b[20][0]++, completion.choices[0]?.message?.content?.trim()) ||
    /* istanbul ignore next */
    (cov_1pwd3cutoc().b[20][1]++, originalResume);
  } catch (error) {
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[99]++;
    console.error('Error tailoring resume with Azure OpenAI:', error);
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[100]++;
    return originalResume; // Return original if tailoring fails
  }
}

/**
 * Submit job application to the appropriate portal
 */
async function submitJobApplication(applicationData) {
  /* istanbul ignore next */
  cov_1pwd3cutoc().f[10]++;
  cov_1pwd3cutoc().s[101]++;
  try {
    const {
      userId,
      jobId,
      jobListing,
      userProfile,
      coverLetter,
      resume,
      relevancyScore
    } =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[102]++, applicationData);

    // TODO: Implement portal-specific application submission
    // This would involve:
    // 1. Portal-specific API calls (LinkedIn, Indeed, etc.)
    // 2. Form filling automation (for portals without APIs)
    // 3. File uploads (resume, cover letter)
    // 4. Application tracking

    const applicationId =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[103]++, uuidv4());

    // Simulate application processing
    const success =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[104]++, Math.random() > 0.1); // 90% success rate
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[105]++;
    if (success) {
      /* istanbul ignore next */
      cov_1pwd3cutoc().b[21][0]++;
      cov_1pwd3cutoc().s[106]++;
      // Store application in database (TODO: implement proper storage)
      await storeJobApplication({
        id: applicationId,
        userId,
        jobId,
        status: 'applied',
        appliedAt: new Date().toISOString(),
        coverLetter,
        tailoredResume: resume,
        relevancyScore,
        portal: jobListing.jobPortal?.name,
        jobTitle: jobListing.title,
        company: jobListing.company
      });
      /* istanbul ignore next */
      cov_1pwd3cutoc().s[107]++;
      return {
        success: true,
        message: 'Application submitted successfully',
        applicationId
      };
    } else {
      /* istanbul ignore next */
      cov_1pwd3cutoc().b[21][1]++;
      cov_1pwd3cutoc().s[108]++;
      return {
        success: false,
        message: 'Failed to submit application to job portal'
      };
    }
  } catch (error) {
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[109]++;
    console.error('Error submitting job application:', error);
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[110]++;
    return {
      success: false,
      message:
      /* istanbul ignore next */
      (cov_1pwd3cutoc().b[22][0]++, error.message) ||
      /* istanbul ignore next */
      (cov_1pwd3cutoc().b[22][1]++, 'Internal error during application submission')
    };
  }
}

/**
 * Schedule follow-up reminder
 */
async function scheduleFollowUp(userId, applicationId, followUpSchedule) {
  /* istanbul ignore next */
  cov_1pwd3cutoc().f[11]++;
  cov_1pwd3cutoc().s[111]++;
  try {
    const followUpMessage =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[112]++, {
      userId,
      applicationId,
      type: 'initial_follow_up',
      scheduledDate: new Date(Date.now() + followUpSchedule.initialDays * 24 * 60 * 60 * 1000).toISOString(),
      createdAt: new Date().toISOString()
    });
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[113]++;
    await queueService.addMessage(queueService.queues.FOLLOW_UP_REMINDERS, followUpMessage, {
      visibilityTimeout: followUpSchedule.initialDays * 24 * 60 * 60 // Delay until follow-up date
    });
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[114]++;
    console.log(`Follow-up scheduled for application ${applicationId}`);
  } catch (error) {
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[115]++;
    console.error('Error scheduling follow-up:', error);
  }
}

// Utility functions (TODO: Implement with proper data storage)

async function getUserProfile(userId) {
  /* istanbul ignore next */
  cov_1pwd3cutoc().f[12]++;
  cov_1pwd3cutoc().s[116]++;
  // Mock user profile
  return {
    id: userId,
    name: 'John Doe',
    email: 'john.doe@example.com',
    skills: ['JavaScript', 'React', 'TypeScript', 'Node.js', 'Python'],
    experience: [{
      position: 'Frontend Developer',
      company: 'Tech Corp',
      technologies: ['React', 'TypeScript']
    }],
    targetRoles: ['Frontend Developer', 'Full Stack Developer'],
    summary: 'Experienced frontend developer with expertise in React applications',
    resume: 'Detailed resume content would be stored here...'
  };
}
async function getUserAutoApplySettings(userId) {
  /* istanbul ignore next */
  cov_1pwd3cutoc().f[13]++;
  cov_1pwd3cutoc().s[117]++;
  return {
    autoApplyThreshold: 75,
    dailyApplicationLimit: 5,
    followUpEnabled: true,
    followUpSchedule: {
      initialDays: 3,
      secondDays: 7
    }
  };
}
async function checkExistingApplication(userId, jobId) {
  /* istanbul ignore next */
  cov_1pwd3cutoc().f[14]++;
  cov_1pwd3cutoc().s[118]++;
  // TODO: Check database for existing applications
  return null; // No existing application found
}
async function getTodayApplicationCount(userId) {
  /* istanbul ignore next */
  cov_1pwd3cutoc().f[15]++;
  cov_1pwd3cutoc().s[119]++;
  // TODO: Query database for today's applications
  return Math.floor(Math.random() * 3); // Mock count
}
async function storeJobApplication(applicationData) {
  /* istanbul ignore next */
  cov_1pwd3cutoc().f[16]++;
  cov_1pwd3cutoc().s[120]++;
  // TODO: Store in database (Firestore, etc.)
  console.log('Storing job application:', applicationData);
}

/**
 * Send application submitted notification
 */
async function sendApplicationSubmittedNotification(userId, applicationData) {
  /* istanbul ignore next */
  cov_1pwd3cutoc().f[17]++;
  cov_1pwd3cutoc().s[121]++;
  try {
    // Import notification integration service
    const {
      jobNotificationIntegration
    } =
    /* istanbul ignore next */
    (cov_1pwd3cutoc().s[122]++, require('../../lib/services/job-notification-integration'));

    // Send application submitted notification
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[123]++;
    await jobNotificationIntegration.notifyApplicationSubmitted(userId, applicationData);
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[124]++;
    console.log(`Application submitted notification sent for user ${userId}, application ${applicationData.id}`);
  } catch (error) {
    /* istanbul ignore next */
    cov_1pwd3cutoc().s[125]++;
    console.error('Error sending application submitted notification:', error);
    // Don't throw error here to avoid breaking the application workflow
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXB3ZDNjdXRvYyIsImFjdHVhbENvdmVyYWdlIiwiYXBwIiwicyIsInJlcXVpcmUiLCJxdWV1ZVNlcnZpY2UiLCJhdXRvbWF0aW9uTG9nZ2VyIiwiT3BlbkFJIiwiZmV0Y2hBenVyZVNlY3JldHMiLCJ2NCIsInV1aWR2NCIsImF6dXJlT3BlbkFJQ2xpZW50IiwiaW5pdGlhbGl6ZUF6dXJlT3BlbkFJIiwiZiIsImIiLCJzZWNyZXRzIiwiYXp1cmVPcGVuQUlLZXkiLCJhenVyZU9wZW5BSUVuZHBvaW50IiwiY29uc29sZSIsIndhcm4iLCJhcGlLZXkiLCJiYXNlVVJMIiwiYXp1cmVPcGVuQUlEZXBsb3ltZW50IiwiZGVmYXVsdFF1ZXJ5IiwiZGVmYXVsdEhlYWRlcnMiLCJsb2ciLCJlcnJvciIsInN0b3JhZ2VRdWV1ZSIsInF1ZXVlTmFtZSIsImNvbm5lY3Rpb24iLCJoYW5kbGVyIiwicXVldWVJdGVtIiwiY29udGV4dCIsImFwcGxpY2F0aW9uRGF0YSIsIkpTT04iLCJwYXJzZSIsInVzZXJJZCIsImpvYklkIiwiam9iTGlzdGluZyIsInJlcXVlc3RJZCIsImF1dG9BcHBseSIsImxvZ0luZm8iLCJ1c2VyUHJvZmlsZSIsImdldFVzZXJQcm9maWxlIiwiRXJyb3IiLCJleGlzdGluZ0FwcGxpY2F0aW9uIiwiY2hlY2tFeGlzdGluZ0FwcGxpY2F0aW9uIiwibG9nV2FybmluZyIsInJlbGV2YW5jeVNjb3JlIiwiY2FsY3VsYXRlSm9iUmVsZXZhbmN5IiwiYXV0b0FwcGx5U2V0dGluZ3MiLCJnZXRVc2VyQXV0b0FwcGx5U2V0dGluZ3MiLCJhdXRvQXBwbHlUaHJlc2hvbGQiLCJ0aHJlc2hvbGQiLCJ0b2RheUFwcGxpY2F0aW9ucyIsImdldFRvZGF5QXBwbGljYXRpb25Db3VudCIsImRhaWx5QXBwbGljYXRpb25MaW1pdCIsImRhaWx5TGltaXQiLCJjb3ZlckxldHRlciIsImdlbmVyYXRlQ292ZXJMZXR0ZXIiLCJ0YWlsb3JlZFJlc3VtZSIsInRhaWxvclJlc3VtZSIsInJlc3VtZSIsImFwcGxpY2F0aW9uUmVzdWx0Iiwic3VibWl0Sm9iQXBwbGljYXRpb24iLCJzdWNjZXNzIiwibG9nQXBwbGljYXRpb25TdWJtaXR0ZWQiLCJzZW5kQXBwbGljYXRpb25TdWJtaXR0ZWROb3RpZmljYXRpb24iLCJpZCIsImFwcGxpY2F0aW9uSWQiLCJqb2JUaXRsZSIsInRpdGxlIiwiY29tcGFueSIsImFwcGxpZWRBdCIsIkRhdGUiLCJhdXRvQXBwbGllZCIsImNvdmVyTGV0dGVyVXNlZCIsInJlc3VtZVRhaWxvcmVkIiwiZm9sbG93VXBFbmFibGVkIiwic2NoZWR1bGVGb2xsb3dVcCIsImZvbGxvd1VwU2NoZWR1bGUiLCJsb2dFcnJvciIsIm1lc3NhZ2UiLCJjbGllbnQiLCJjYWxjdWxhdGVGYWxsYmFja1JlbGV2YW5jeSIsInByb21wdCIsImRlc2NyaXB0aW9uIiwicmVxdWlyZW1lbnRzIiwiam9pbiIsInNraWxscyIsImV4cGVyaWVuY2UiLCJtYXAiLCJleHAiLCJwb3NpdGlvbiIsInRhcmdldFJvbGVzIiwiY29tcGxldGlvbiIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsIm1vZGVsIiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsInRlbXBlcmF0dXJlIiwibWF4X3Rva2VucyIsInNjb3JlVGV4dCIsImNob2ljZXMiLCJ0cmltIiwic2NvcmUiLCJwYXJzZUludCIsImlzTmFOIiwiTWF0aCIsIm1heCIsIm1pbiIsImpvYlRleHQiLCJ0b0xvd2VyQ2FzZSIsIm1hdGNoZWRTa2lsbHMiLCJmaWx0ZXIiLCJza2lsbCIsImluY2x1ZGVzIiwibGVuZ3RoIiwiZ2VuZXJhdGVGYWxsYmFja0NvdmVyTGV0dGVyIiwibmFtZSIsInN1bW1hcnkiLCJzbGljZSIsIm9yaWdpbmFsUmVzdW1lIiwicmFuZG9tIiwic3RvcmVKb2JBcHBsaWNhdGlvbiIsInN0YXR1cyIsInRvSVNPU3RyaW5nIiwicG9ydGFsIiwiam9iUG9ydGFsIiwiZm9sbG93VXBNZXNzYWdlIiwidHlwZSIsInNjaGVkdWxlZERhdGUiLCJub3ciLCJpbml0aWFsRGF5cyIsImNyZWF0ZWRBdCIsImFkZE1lc3NhZ2UiLCJxdWV1ZXMiLCJGT0xMT1dfVVBfUkVNSU5ERVJTIiwidmlzaWJpbGl0eVRpbWVvdXQiLCJlbWFpbCIsInRlY2hub2xvZ2llcyIsInNlY29uZERheXMiLCJmbG9vciIsImpvYk5vdGlmaWNhdGlvbkludGVncmF0aW9uIiwibm90aWZ5QXBwbGljYXRpb25TdWJtaXR0ZWQiXSwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGFwcCB9ID0gcmVxdWlyZSgnQGF6dXJlL2Z1bmN0aW9ucycpO1xuY29uc3QgcXVldWVTZXJ2aWNlID0gcmVxdWlyZSgnLi4vbGliL3NlcnZpY2VzL3F1ZXVlLXNlcnZpY2UnKTtcbmNvbnN0IGF1dG9tYXRpb25Mb2dnZXIgPSByZXF1aXJlKCcuLi9saWIvc2VydmljZXMvYXV0b21hdGlvbi1sb2dzJyk7XG5jb25zdCBPcGVuQUkgPSByZXF1aXJlKCdvcGVuYWknKTtcbmNvbnN0IHsgZmV0Y2hBenVyZVNlY3JldHMgfSA9IHJlcXVpcmUoJy4uL2xpYi9henVyZS1jb25maWcnKTtcbmNvbnN0IHsgdjQ6IHV1aWR2NCB9ID0gcmVxdWlyZSgndXVpZCcpO1xuXG4vLyBBenVyZSBPcGVuQUkgY2xpZW50IC0gd2lsbCBiZSBpbml0aWFsaXplZCBmcm9tIEtleSBWYXVsdCBzZWNyZXRzXG5sZXQgYXp1cmVPcGVuQUlDbGllbnQgPSBudWxsO1xuXG4vKipcbiAqIEluaXRpYWxpemUgQXp1cmUgT3BlbkFJIGNsaWVudFxuICovXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplQXp1cmVPcGVuQUkoKSB7XG4gICAgaWYgKGF6dXJlT3BlbkFJQ2xpZW50KSB7XG4gICAgICAgIHJldHVybiBhenVyZU9wZW5BSUNsaWVudDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBzZWNyZXRzID0gYXdhaXQgZmV0Y2hBenVyZVNlY3JldHMoKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghc2VjcmV0cy5henVyZU9wZW5BSUtleSB8fCAhc2VjcmV0cy5henVyZU9wZW5BSUVuZHBvaW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBBenVyZSBPcGVuQUkgY3JlZGVudGlhbHMgbm90IGF2YWlsYWJsZSwgdXNpbmcgZmFsbGJhY2snKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgYXp1cmVPcGVuQUlDbGllbnQgPSBuZXcgT3BlbkFJKHtcbiAgICAgICAgICAgIGFwaUtleTogc2VjcmV0cy5henVyZU9wZW5BSUtleSxcbiAgICAgICAgICAgIGJhc2VVUkw6IGAke3NlY3JldHMuYXp1cmVPcGVuQUlFbmRwb2ludH0vb3BlbmFpL2RlcGxveW1lbnRzLyR7c2VjcmV0cy5henVyZU9wZW5BSURlcGxveW1lbnR9YCxcbiAgICAgICAgICAgIGRlZmF1bHRRdWVyeTogeyAnYXBpLXZlcnNpb24nOiAnMjAyNC0wOC0wMS1wcmV2aWV3JyB9LFxuICAgICAgICAgICAgZGVmYXVsdEhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnYXBpLWtleSc6IHNlY3JldHMuYXp1cmVPcGVuQUlLZXksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIEF6dXJlIE9wZW5BSSBjbGllbnQgaW5pdGlhbGl6ZWQgZm9yIGFwcGxpY2F0aW9uIHdvcmtlcicpO1xuICAgICAgICByZXR1cm4gYXp1cmVPcGVuQUlDbGllbnQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBpbml0aWFsaXplIEF6dXJlIE9wZW5BSSBjbGllbnQ6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8vIFF1ZXVlIHRyaWdnZXIgZnVuY3Rpb24gZm9yIHByb2Nlc3Npbmcgam9iIGFwcGxpY2F0aW9uc1xuYXBwLnN0b3JhZ2VRdWV1ZSgnYXBwbGljYXRpb25Xb3JrZXInLCB7XG4gICAgcXVldWVOYW1lOiAncHJvY2Vzcy1hcHBsaWNhdGlvbnMnLFxuICAgIGNvbm5lY3Rpb246ICdBenVyZVdlYkpvYnNTdG9yYWdlJyxcbiAgICBoYW5kbGVyOiBhc3luYyAocXVldWVJdGVtLCBjb250ZXh0KSA9PiB7XG4gICAgICAgIGNvbnRleHQubG9nKCdBcHBsaWNhdGlvbiBXb3JrZXIgcHJvY2Vzc2luZyBxdWV1ZSBpdGVtOicsIHF1ZXVlSXRlbSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFwcGxpY2F0aW9uRGF0YSA9IHR5cGVvZiBxdWV1ZUl0ZW0gPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShxdWV1ZUl0ZW0pIDogcXVldWVJdGVtO1xuICAgICAgICAgICAgY29uc3QgeyB1c2VySWQsIGpvYklkLCBqb2JMaXN0aW5nLCByZXF1ZXN0SWQsIGF1dG9BcHBseSB9ID0gYXBwbGljYXRpb25EYXRhO1xuXG4gICAgICAgICAgICBhd2FpdCBhdXRvbWF0aW9uTG9nZ2VyLmxvZ0luZm8oXG4gICAgICAgICAgICAgICAgJ2FwcGxpY2F0aW9uX3Byb2Nlc3Npbmdfc3RhcnRlZCcsXG4gICAgICAgICAgICAgICAgYFN0YXJ0aW5nIGFwcGxpY2F0aW9uIHByb2Nlc3NpbmcgZm9yIGpvYiAke2pvYklkfWAsXG4gICAgICAgICAgICAgICAgeyB1c2VySWQsIGpvYklkLCByZXF1ZXN0SWQsIGF1dG9BcHBseSB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBHZXQgdXNlciBwcm9maWxlIGFuZCBwcmVmZXJlbmNlc1xuICAgICAgICAgICAgY29uc3QgdXNlclByb2ZpbGUgPSBhd2FpdCBnZXRVc2VyUHJvZmlsZSh1c2VySWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyUHJvZmlsZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVXNlciBwcm9maWxlIG5vdCBmb3VuZCBmb3IgdXNlciAke3VzZXJJZH1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciBoYXMgYWxyZWFkeSBhcHBsaWVkIHRvIHRoaXMgam9iXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0FwcGxpY2F0aW9uID0gYXdhaXQgY2hlY2tFeGlzdGluZ0FwcGxpY2F0aW9uKHVzZXJJZCwgam9iSWQpO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nQXBwbGljYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxvZyhgVXNlciAke3VzZXJJZH0gaGFzIGFscmVhZHkgYXBwbGllZCB0byBqb2IgJHtqb2JJZH1gKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBhdXRvbWF0aW9uTG9nZ2VyLmxvZ1dhcm5pbmcoXG4gICAgICAgICAgICAgICAgICAgICdhcHBsaWNhdGlvbl9kdXBsaWNhdGVfc2tpcHBlZCcsXG4gICAgICAgICAgICAgICAgICAgICdTa2lwcGluZyBkdXBsaWNhdGUgYXBwbGljYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICB7IHVzZXJJZCwgam9iSWQgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgam9iIHJlbGV2YW5jeSBpZiBub3QgYWxyZWFkeSBkb25lXG4gICAgICAgICAgICBsZXQgcmVsZXZhbmN5U2NvcmUgPSBqb2JMaXN0aW5nLnJlbGV2YW5jeVNjb3JlO1xuICAgICAgICAgICAgaWYgKCFyZWxldmFuY3lTY29yZSkge1xuICAgICAgICAgICAgICAgIHJlbGV2YW5jeVNjb3JlID0gYXdhaXQgY2FsY3VsYXRlSm9iUmVsZXZhbmN5KGpvYkxpc3RpbmcsIHVzZXJQcm9maWxlKTtcbiAgICAgICAgICAgICAgICBqb2JMaXN0aW5nLnJlbGV2YW5jeVNjb3JlID0gcmVsZXZhbmN5U2NvcmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGpvYiBtZWV0cyBhdXRvLWFwcGx5IHRocmVzaG9sZFxuICAgICAgICAgICAgaWYgKGF1dG9BcHBseSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1dG9BcHBseVNldHRpbmdzID0gYXdhaXQgZ2V0VXNlckF1dG9BcHBseVNldHRpbmdzKHVzZXJJZCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGV2YW5jeVNjb3JlIDwgYXV0b0FwcGx5U2V0dGluZ3MuYXV0b0FwcGx5VGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubG9nKGBKb2IgcmVsZXZhbmN5IHNjb3JlICR7cmVsZXZhbmN5U2NvcmV9IGJlbG93IHRocmVzaG9sZCAke2F1dG9BcHBseVNldHRpbmdzLmF1dG9BcHBseVRocmVzaG9sZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXV0b21hdGlvbkxvZ2dlci5sb2dJbmZvKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FwcGxpY2F0aW9uX3NraXBwZWRfdGhyZXNob2xkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGBKb2Igc2tpcHBlZCBkdWUgdG8gbG93IHJlbGV2YW5jeSBzY29yZTogJHtyZWxldmFuY3lTY29yZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyB1c2VySWQsIGpvYklkLCByZWxldmFuY3lTY29yZSwgdGhyZXNob2xkOiBhdXRvQXBwbHlTZXR0aW5ncy5hdXRvQXBwbHlUaHJlc2hvbGQgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZGFpbHkgYXBwbGljYXRpb24gbGltaXRcbiAgICAgICAgICAgICAgICBjb25zdCB0b2RheUFwcGxpY2F0aW9ucyA9IGF3YWl0IGdldFRvZGF5QXBwbGljYXRpb25Db3VudCh1c2VySWQpO1xuICAgICAgICAgICAgICAgIGlmICh0b2RheUFwcGxpY2F0aW9ucyA+PSBhdXRvQXBwbHlTZXR0aW5ncy5kYWlseUFwcGxpY2F0aW9uTGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5sb2coYFVzZXIgJHt1c2VySWR9IGhhcyByZWFjaGVkIGRhaWx5IGFwcGxpY2F0aW9uIGxpbWl0YCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGF1dG9tYXRpb25Mb2dnZXIubG9nV2FybmluZyhcbiAgICAgICAgICAgICAgICAgICAgICAgICdhcHBsaWNhdGlvbl9kYWlseV9saW1pdF9yZWFjaGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdEYWlseSBhcHBsaWNhdGlvbiBsaW1pdCByZWFjaGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdXNlcklkLCB0b2RheUFwcGxpY2F0aW9ucywgZGFpbHlMaW1pdDogYXV0b0FwcGx5U2V0dGluZ3MuZGFpbHlBcHBsaWNhdGlvbkxpbWl0IH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgY292ZXIgbGV0dGVyXG4gICAgICAgICAgICBjb25zdCBjb3ZlckxldHRlciA9IGF3YWl0IGdlbmVyYXRlQ292ZXJMZXR0ZXIoam9iTGlzdGluZywgdXNlclByb2ZpbGUpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBUYWlsb3IgcmVzdW1lIGZvciB0aGUgam9iXG4gICAgICAgICAgICBjb25zdCB0YWlsb3JlZFJlc3VtZSA9IGF3YWl0IHRhaWxvclJlc3VtZSh1c2VyUHJvZmlsZS5yZXN1bWUsIGpvYkxpc3RpbmcpO1xuXG4gICAgICAgICAgICAvLyBTdWJtaXQgYXBwbGljYXRpb25cbiAgICAgICAgICAgIGNvbnN0IGFwcGxpY2F0aW9uUmVzdWx0ID0gYXdhaXQgc3VibWl0Sm9iQXBwbGljYXRpb24oe1xuICAgICAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICAgICAgICBqb2JMaXN0aW5nLFxuICAgICAgICAgICAgICAgIHVzZXJQcm9maWxlLFxuICAgICAgICAgICAgICAgIGNvdmVyTGV0dGVyLFxuICAgICAgICAgICAgICAgIHJlc3VtZTogdGFpbG9yZWRSZXN1bWUsXG4gICAgICAgICAgICAgICAgcmVsZXZhbmN5U2NvcmVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoYXBwbGljYXRpb25SZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIC8vIExvZyBzdWNjZXNzZnVsIGFwcGxpY2F0aW9uXG4gICAgICAgICAgICAgICAgYXdhaXQgYXV0b21hdGlvbkxvZ2dlci5sb2dBcHBsaWNhdGlvblN1Ym1pdHRlZCh1c2VySWQsIGpvYklkLCBhcHBsaWNhdGlvblJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAvLyBTZW5kIGFwcGxpY2F0aW9uIHN1Ym1pdHRlZCBub3RpZmljYXRpb25cbiAgICAgICAgICAgICAgICBhd2FpdCBzZW5kQXBwbGljYXRpb25TdWJtaXR0ZWROb3RpZmljYXRpb24odXNlcklkLCB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBhcHBsaWNhdGlvblJlc3VsdC5hcHBsaWNhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAgICAgICAgIGpvYklkLFxuICAgICAgICAgICAgICAgICAgICBqb2JUaXRsZTogam9iTGlzdGluZy50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGFueTogam9iTGlzdGluZy5jb21wYW55LFxuICAgICAgICAgICAgICAgICAgICBhcHBsaWVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIGF1dG9BcHBsaWVkOiBhdXRvQXBwbHksXG4gICAgICAgICAgICAgICAgICAgIGNvdmVyTGV0dGVyVXNlZDogISFjb3ZlckxldHRlcixcbiAgICAgICAgICAgICAgICAgICAgcmVzdW1lVGFpbG9yZWQ6ICEhdGFpbG9yZWRSZXN1bWUsXG4gICAgICAgICAgICAgICAgICAgIHJlbGV2YW5jeVNjb3JlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBTY2hlZHVsZSBmb2xsb3ctdXAgcmVtaW5kZXIgaWYgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGNvbnN0IGF1dG9BcHBseVNldHRpbmdzID0gYXdhaXQgZ2V0VXNlckF1dG9BcHBseVNldHRpbmdzKHVzZXJJZCk7XG4gICAgICAgICAgICAgICAgaWYgKGF1dG9BcHBseVNldHRpbmdzLmZvbGxvd1VwRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzY2hlZHVsZUZvbGxvd1VwKHVzZXJJZCwgYXBwbGljYXRpb25SZXN1bHQuYXBwbGljYXRpb25JZCwgYXV0b0FwcGx5U2V0dGluZ3MuZm9sbG93VXBTY2hlZHVsZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29udGV4dC5sb2coYFN1Y2Nlc3NmdWxseSBwcm9jZXNzZWQgYXBwbGljYXRpb24gZm9yIGpvYiAke2pvYklkfWApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBhdXRvbWF0aW9uTG9nZ2VyLmxvZ0Vycm9yKFxuICAgICAgICAgICAgICAgICAgICAnYXBwbGljYXRpb25fc3VibWlzc2lvbl9mYWlsZWQnLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3IoYXBwbGljYXRpb25SZXN1bHQubWVzc2FnZSksXG4gICAgICAgICAgICAgICAgICAgIHsgdXNlcklkLCBqb2JJZCwgYXBwbGljYXRpb25SZXN1bHQgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnRleHQubG9nKCdFcnJvciBwcm9jZXNzaW5nIGFwcGxpY2F0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgIGF3YWl0IGF1dG9tYXRpb25Mb2dnZXIubG9nRXJyb3IoXG4gICAgICAgICAgICAgICAgJ2FwcGxpY2F0aW9uX3Byb2Nlc3NpbmdfZXJyb3InLFxuICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIHsgcXVldWVJdGVtIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFJlLXRocm93IHRvIHRyaWdnZXIgQXp1cmUgRnVuY3Rpb25zIHJldHJ5IGxvZ2ljXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vKipcbiAqIENhbGN1bGF0ZSBqb2IgcmVsZXZhbmN5IHNjb3JlIHVzaW5nIEFJXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNhbGN1bGF0ZUpvYlJlbGV2YW5jeShqb2JMaXN0aW5nLCB1c2VyUHJvZmlsZSkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGluaXRpYWxpemVBenVyZU9wZW5BSSgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFjbGllbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQXp1cmUgT3BlbkFJIGNsaWVudCBub3QgYXZhaWxhYmxlLCB1c2luZyBmYWxsYmFjayBzY29yaW5nJyk7XG4gICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlRmFsbGJhY2tSZWxldmFuY3koam9iTGlzdGluZywgdXNlclByb2ZpbGUpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwcm9tcHQgPSBgXG4gICAgICAgICAgICBBbmFseXplIHRoZSByZWxldmFuY3kgYmV0d2VlbiB0aGlzIGpvYiBwb3N0aW5nIGFuZCB0aGUgY2FuZGlkYXRlJ3MgcHJvZmlsZTpcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgSk9CIFRJVExFOiAke2pvYkxpc3RpbmcudGl0bGV9XG4gICAgICAgICAgICBDT01QQU5ZOiAke2pvYkxpc3RpbmcuY29tcGFueX1cbiAgICAgICAgICAgIEpPQiBERVNDUklQVElPTjogJHtqb2JMaXN0aW5nLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgUkVRVUlSRU1FTlRTOiAke2pvYkxpc3RpbmcucmVxdWlyZW1lbnRzPy5qb2luKCcsICcpfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBDQU5ESURBVEUgUFJPRklMRTpcbiAgICAgICAgICAgIFNraWxsczogJHt1c2VyUHJvZmlsZS5za2lsbHM/LmpvaW4oJywgJyl9XG4gICAgICAgICAgICBFeHBlcmllbmNlOiAke3VzZXJQcm9maWxlLmV4cGVyaWVuY2U/Lm1hcChleHAgPT4gYCR7ZXhwLnBvc2l0aW9ufSBhdCAke2V4cC5jb21wYW55fWApLmpvaW4oJywgJyl9XG4gICAgICAgICAgICBUYXJnZXQgUm9sZXM6ICR7dXNlclByb2ZpbGUudGFyZ2V0Um9sZXM/LmpvaW4oJywgJyl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIENhbGN1bGF0ZSBhIHJlbGV2YW5jeSBzY29yZSBmcm9tIDAtMTAwIGJhc2VkIG9uOlxuICAgICAgICAgICAgMS4gU2tpbGxzIG1hdGNoICg0MCUgd2VpZ2h0KVxuICAgICAgICAgICAgMi4gUm9sZSBhbGlnbm1lbnQgKDMwJSB3ZWlnaHQpIFxuICAgICAgICAgICAgMy4gRXhwZXJpZW5jZSBsZXZlbCBtYXRjaCAoMjAlIHdlaWdodClcbiAgICAgICAgICAgIDQuIEpvYiByZXF1aXJlbWVudHMgbWF0Y2ggKDEwJSB3ZWlnaHQpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFJldHVybiBvbmx5IGEgbnVtYmVyIGJldHdlZW4gMC0xMDAuXG4gICAgICAgIGA7XG5cbiAgICAgICAgY29uc3QgY29tcGxldGlvbiA9IGF3YWl0IGNsaWVudC5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICAgICAgICBtb2RlbDogJ2dwdC0zNS10dXJibycsIC8vIFVzaW5nIHRoZSBkZXBsb3ltZW50IG5hbWVcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBbeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IHByb21wdCB9XSxcbiAgICAgICAgICAgIHRlbXBlcmF0dXJlOiAwLjEsXG4gICAgICAgICAgICBtYXhfdG9rZW5zOiA1MFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHNjb3JlVGV4dCA9IGNvbXBsZXRpb24uY2hvaWNlc1swXT8ubWVzc2FnZT8uY29udGVudD8udHJpbSgpIHx8ICcnO1xuICAgICAgICBjb25zdCBzY29yZSA9IHBhcnNlSW50KHNjb3JlVGV4dCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gaXNOYU4oc2NvcmUpID8gNTAgOiBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIHNjb3JlKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2FsY3VsYXRpbmcgam9iIHJlbGV2YW5jeSB3aXRoIEF6dXJlIE9wZW5BSTonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBjYWxjdWxhdGVGYWxsYmFja1JlbGV2YW5jeShqb2JMaXN0aW5nLCB1c2VyUHJvZmlsZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEZhbGxiYWNrIHJlbGV2YW5jeSBjYWxjdWxhdGlvbiB1c2luZyBrZXl3b3JkIG1hdGNoaW5nXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZUZhbGxiYWNrUmVsZXZhbmN5KGpvYkxpc3RpbmcsIHVzZXJQcm9maWxlKSB7XG4gICAgY29uc3Qgam9iVGV4dCA9IGAke2pvYkxpc3RpbmcudGl0bGV9ICR7am9iTGlzdGluZy5kZXNjcmlwdGlvbn0gJHtqb2JMaXN0aW5nLnJlcXVpcmVtZW50cz8uam9pbignICcpfWAudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBtYXRjaGVkU2tpbGxzID0gdXNlclByb2ZpbGUuc2tpbGxzPy5maWx0ZXIoc2tpbGwgPT4gam9iVGV4dC5pbmNsdWRlcyhza2lsbC50b0xvd2VyQ2FzZSgpKSkgfHwgW107XG4gICAgcmV0dXJuIE1hdGgubWluKDkwLCAobWF0Y2hlZFNraWxscy5sZW5ndGggLyAodXNlclByb2ZpbGUuc2tpbGxzPy5sZW5ndGggfHwgMSkpICogMTAwKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBBSS1wb3dlcmVkIGNvdmVyIGxldHRlclxuICovXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUNvdmVyTGV0dGVyKGpvYkxpc3RpbmcsIHVzZXJQcm9maWxlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgaW5pdGlhbGl6ZUF6dXJlT3BlbkFJKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWNsaWVudCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdBenVyZSBPcGVuQUkgY2xpZW50IG5vdCBhdmFpbGFibGUsIHVzaW5nIGZhbGxiYWNrIGNvdmVyIGxldHRlcicpO1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlRmFsbGJhY2tDb3ZlckxldHRlcihqb2JMaXN0aW5nLCB1c2VyUHJvZmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHByb21wdCA9IGBcbiAgICAgICAgICAgIEdlbmVyYXRlIGEgcHJvZmVzc2lvbmFsIGNvdmVyIGxldHRlciBmb3IgdGhpcyBqb2IgYXBwbGljYXRpb246XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEpPQiBERVRBSUxTOlxuICAgICAgICAgICAgUG9zaXRpb246ICR7am9iTGlzdGluZy50aXRsZX1cbiAgICAgICAgICAgIENvbXBhbnk6ICR7am9iTGlzdGluZy5jb21wYW55fVxuICAgICAgICAgICAgRGVzY3JpcHRpb246ICR7am9iTGlzdGluZy5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgIFJlcXVpcmVtZW50czogJHtqb2JMaXN0aW5nLnJlcXVpcmVtZW50cz8uam9pbignLCAnKX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgQ0FORElEQVRFIFBST0ZJTEU6XG4gICAgICAgICAgICBOYW1lOiAke3VzZXJQcm9maWxlLm5hbWV9XG4gICAgICAgICAgICBTa2lsbHM6ICR7dXNlclByb2ZpbGUuc2tpbGxzPy5qb2luKCcsICcpfVxuICAgICAgICAgICAgRXhwZXJpZW5jZTogJHt1c2VyUHJvZmlsZS5leHBlcmllbmNlPy5tYXAoZXhwID0+IGAke2V4cC5wb3NpdGlvbn0gYXQgJHtleHAuY29tcGFueX1gKS5qb2luKCcsICcpfVxuICAgICAgICAgICAgU3VtbWFyeTogJHt1c2VyUHJvZmlsZS5zdW1tYXJ5fVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBSZXF1aXJlbWVudHM6XG4gICAgICAgICAgICAxLiBQcm9mZXNzaW9uYWwgdG9uZSBhbmQgZm9ybWF0XG4gICAgICAgICAgICAyLiBIaWdobGlnaHQgcmVsZXZhbnQgc2tpbGxzIGFuZCBleHBlcmllbmNlXG4gICAgICAgICAgICAzLiBTaG93IGVudGh1c2lhc20gZm9yIHRoZSByb2xlIGFuZCBjb21wYW55XG4gICAgICAgICAgICA0LiBLZWVwIGl0IGNvbmNpc2UgKDMtNCBwYXJhZ3JhcGhzKVxuICAgICAgICAgICAgNS4gSW5jbHVkZSBzcGVjaWZpYyBleGFtcGxlcyB3aGVuIHBvc3NpYmxlXG4gICAgICAgICAgICA2LiBBZGRyZXNzIGFueSBza2lsbCBnYXBzIHBvc2l0aXZlbHlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgUmV0dXJuIG9ubHkgdGhlIGNvdmVyIGxldHRlciB0ZXh0LCBubyBhZGRpdGlvbmFsIGZvcm1hdHRpbmcgb3IgZXhwbGFuYXRpb25zLlxuICAgICAgICBgO1xuXG4gICAgICAgIGNvbnN0IGNvbXBsZXRpb24gPSBhd2FpdCBjbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgICAgICAgbW9kZWw6ICdncHQtNG8nLCAvLyBVc2luZyBncHQtNG8gZm9yIGJldHRlciBjb250ZW50IGdlbmVyYXRpb25cbiAgICAgICAgICAgIG1lc3NhZ2VzOiBbeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IHByb21wdCB9XSxcbiAgICAgICAgICAgIHRlbXBlcmF0dXJlOiAwLjcsXG4gICAgICAgICAgICBtYXhfdG9rZW5zOiAxMDAwXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRpb24uY2hvaWNlc1swXT8ubWVzc2FnZT8uY29udGVudD8udHJpbSgpIHx8IGdlbmVyYXRlRmFsbGJhY2tDb3ZlckxldHRlcihqb2JMaXN0aW5nLCB1c2VyUHJvZmlsZSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIGNvdmVyIGxldHRlciB3aXRoIEF6dXJlIE9wZW5BSTonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUZhbGxiYWNrQ292ZXJMZXR0ZXIoam9iTGlzdGluZywgdXNlclByb2ZpbGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBmYWxsYmFjayBjb3ZlciBsZXR0ZXJcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVGYWxsYmFja0NvdmVyTGV0dGVyKGpvYkxpc3RpbmcsIHVzZXJQcm9maWxlKSB7XG4gICAgcmV0dXJuIGBEZWFyIEhpcmluZyBNYW5hZ2VyLFxuXG5JIGFtIHdyaXRpbmcgdG8gZXhwcmVzcyBteSBzdHJvbmcgaW50ZXJlc3QgaW4gdGhlICR7am9iTGlzdGluZy50aXRsZX0gcG9zaXRpb24gYXQgJHtqb2JMaXN0aW5nLmNvbXBhbnl9LiBXaXRoIG15IGJhY2tncm91bmQgaW4gJHt1c2VyUHJvZmlsZS5za2lsbHM/LnNsaWNlKDAsIDMpLmpvaW4oJywgJyl9LCBJIGFtIGNvbmZpZGVudCB0aGF0IEkgd291bGQgYmUgYSB2YWx1YWJsZSBhZGRpdGlvbiB0byB5b3VyIHRlYW0uXG5cbkluIG15IHByZXZpb3VzIHJvbGVzLCBJIGhhdmUgZ2FpbmVkIGV4dGVuc2l2ZSBleHBlcmllbmNlIGluICR7dXNlclByb2ZpbGUuc2tpbGxzPy5zbGljZSgwLCAyKS5qb2luKCcgYW5kICcpfSwgd2hpY2ggZGlyZWN0bHkgYWxpZ25zIHdpdGggdGhlIHJlcXVpcmVtZW50cyBvdXRsaW5lZCBpbiB5b3VyIGpvYiBwb3N0aW5nLiBJIGFtIHBhcnRpY3VsYXJseSBleGNpdGVkIGFib3V0IHRoZSBvcHBvcnR1bml0eSB0byBjb250cmlidXRlIHRvICR7am9iTGlzdGluZy5jb21wYW55fSdzIGlubm92YXRpdmUgd29yayBpbiB0aGlzIHNwYWNlLlxuXG5JIHdvdWxkIHdlbGNvbWUgdGhlIG9wcG9ydHVuaXR5IHRvIGRpc2N1c3MgaG93IG15IHNraWxscyBhbmQgZW50aHVzaWFzbSBjYW4gY29udHJpYnV0ZSB0byB5b3VyIHRlYW0ncyBzdWNjZXNzLiBUaGFuayB5b3UgZm9yIGNvbnNpZGVyaW5nIG15IGFwcGxpY2F0aW9uLlxuXG5CZXN0IHJlZ2FyZHMsXG4ke3VzZXJQcm9maWxlLm5hbWV9YDtcbn1cblxuLyoqXG4gKiBUYWlsb3IgcmVzdW1lIGZvciBzcGVjaWZpYyBqb2JcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdGFpbG9yUmVzdW1lKG9yaWdpbmFsUmVzdW1lLCBqb2JMaXN0aW5nKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgaW5pdGlhbGl6ZUF6dXJlT3BlbkFJKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWNsaWVudCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdBenVyZSBPcGVuQUkgY2xpZW50IG5vdCBhdmFpbGFibGUsIHJldHVybmluZyBvcmlnaW5hbCByZXN1bWUnKTtcbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbFJlc3VtZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgcHJvbXB0ID0gYFxuICAgICAgICAgICAgVGFpbG9yIHRoaXMgcmVzdW1lIGZvciB0aGUgc3BlY2lmaWMgam9iIHBvc3RpbmcgdG8gbWF4aW1pemUgQVRTIGNvbXBhdGliaWxpdHkgYW5kIHJlbGV2YW5jZTpcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgSk9CIERFU0NSSVBUSU9OOlxuICAgICAgICAgICAgJHtqb2JMaXN0aW5nLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgUkVRVUlSRU1FTlRTOiAke2pvYkxpc3RpbmcucmVxdWlyZW1lbnRzPy5qb2luKCcsICcpfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBPUklHSU5BTCBSRVNVTUU6XG4gICAgICAgICAgICAke29yaWdpbmFsUmVzdW1lfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBJbnN0cnVjdGlvbnM6XG4gICAgICAgICAgICAxLiBPcHRpbWl6ZSBrZXl3b3JkcyBmb3IgQVRTIHN5c3RlbXNcbiAgICAgICAgICAgIDIuIEhpZ2hsaWdodCBtb3N0IHJlbGV2YW50IGV4cGVyaWVuY2UgZmlyc3RcbiAgICAgICAgICAgIDMuIEluY2x1ZGUgc3BlY2lmaWMgc2tpbGxzIG1lbnRpb25lZCBpbiBqb2IgZGVzY3JpcHRpb25cbiAgICAgICAgICAgIDQuIFF1YW50aWZ5IGFjaGlldmVtZW50cyB3aGVyZSBwb3NzaWJsZVxuICAgICAgICAgICAgNS4gTWFpbnRhaW4gcHJvZmVzc2lvbmFsIGZvcm1hdHRpbmdcbiAgICAgICAgICAgIDYuIEtlZXAgc2FtZSBvdmVyYWxsIHN0cnVjdHVyZSBhbmQgbGVuZ3RoXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFJldHVybiBvbmx5IHRoZSB0YWlsb3JlZCByZXN1bWUgY29udGVudC5cbiAgICAgICAgYDtcblxuICAgICAgICBjb25zdCBjb21wbGV0aW9uID0gYXdhaXQgY2xpZW50LmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcbiAgICAgICAgICAgIG1vZGVsOiAnZ3B0LTRvJywgLy8gVXNpbmcgZ3B0LTRvIGZvciBiZXR0ZXIgY29udGVudCBnZW5lcmF0aW9uXG4gICAgICAgICAgICBtZXNzYWdlczogW3sgcm9sZTogJ3VzZXInLCBjb250ZW50OiBwcm9tcHQgfV0sXG4gICAgICAgICAgICB0ZW1wZXJhdHVyZTogMC43LFxuICAgICAgICAgICAgbWF4X3Rva2VuczogMjAwMFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBjb21wbGV0aW9uLmNob2ljZXNbMF0/Lm1lc3NhZ2U/LmNvbnRlbnQ/LnRyaW0oKSB8fCBvcmlnaW5hbFJlc3VtZTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHRhaWxvcmluZyByZXN1bWUgd2l0aCBBenVyZSBPcGVuQUk6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gb3JpZ2luYWxSZXN1bWU7IC8vIFJldHVybiBvcmlnaW5hbCBpZiB0YWlsb3JpbmcgZmFpbHNcbiAgICB9XG59XG5cbi8qKlxuICogU3VibWl0IGpvYiBhcHBsaWNhdGlvbiB0byB0aGUgYXBwcm9wcmlhdGUgcG9ydGFsXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHN1Ym1pdEpvYkFwcGxpY2F0aW9uKGFwcGxpY2F0aW9uRGF0YSkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgdXNlcklkLCBqb2JJZCwgam9iTGlzdGluZywgdXNlclByb2ZpbGUsIGNvdmVyTGV0dGVyLCByZXN1bWUsIHJlbGV2YW5jeVNjb3JlIH0gPSBhcHBsaWNhdGlvbkRhdGE7XG4gICAgICAgIFxuICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgcG9ydGFsLXNwZWNpZmljIGFwcGxpY2F0aW9uIHN1Ym1pc3Npb25cbiAgICAgICAgLy8gVGhpcyB3b3VsZCBpbnZvbHZlOlxuICAgICAgICAvLyAxLiBQb3J0YWwtc3BlY2lmaWMgQVBJIGNhbGxzIChMaW5rZWRJbiwgSW5kZWVkLCBldGMuKVxuICAgICAgICAvLyAyLiBGb3JtIGZpbGxpbmcgYXV0b21hdGlvbiAoZm9yIHBvcnRhbHMgd2l0aG91dCBBUElzKVxuICAgICAgICAvLyAzLiBGaWxlIHVwbG9hZHMgKHJlc3VtZSwgY292ZXIgbGV0dGVyKVxuICAgICAgICAvLyA0LiBBcHBsaWNhdGlvbiB0cmFja2luZ1xuXG4gICAgICAgIGNvbnN0IGFwcGxpY2F0aW9uSWQgPSB1dWlkdjQoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpbXVsYXRlIGFwcGxpY2F0aW9uIHByb2Nlc3NpbmdcbiAgICAgICAgY29uc3Qgc3VjY2VzcyA9IE1hdGgucmFuZG9tKCkgPiAwLjE7IC8vIDkwJSBzdWNjZXNzIHJhdGVcbiAgICAgICAgXG4gICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAvLyBTdG9yZSBhcHBsaWNhdGlvbiBpbiBkYXRhYmFzZSAoVE9ETzogaW1wbGVtZW50IHByb3BlciBzdG9yYWdlKVxuICAgICAgICAgICAgYXdhaXQgc3RvcmVKb2JBcHBsaWNhdGlvbih7XG4gICAgICAgICAgICAgICAgaWQ6IGFwcGxpY2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICAgIGpvYklkLFxuICAgICAgICAgICAgICAgIHN0YXR1czogJ2FwcGxpZWQnLFxuICAgICAgICAgICAgICAgIGFwcGxpZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIGNvdmVyTGV0dGVyLFxuICAgICAgICAgICAgICAgIHRhaWxvcmVkUmVzdW1lOiByZXN1bWUsXG4gICAgICAgICAgICAgICAgcmVsZXZhbmN5U2NvcmUsXG4gICAgICAgICAgICAgICAgcG9ydGFsOiBqb2JMaXN0aW5nLmpvYlBvcnRhbD8ubmFtZSxcbiAgICAgICAgICAgICAgICBqb2JUaXRsZTogam9iTGlzdGluZy50aXRsZSxcbiAgICAgICAgICAgICAgICBjb21wYW55OiBqb2JMaXN0aW5nLmNvbXBhbnlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0FwcGxpY2F0aW9uIHN1Ym1pdHRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uSWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gc3VibWl0IGFwcGxpY2F0aW9uIHRvIGpvYiBwb3J0YWwnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdWJtaXR0aW5nIGpvYiBhcHBsaWNhdGlvbjonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfHwgJ0ludGVybmFsIGVycm9yIGR1cmluZyBhcHBsaWNhdGlvbiBzdWJtaXNzaW9uJ1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuLyoqXG4gKiBTY2hlZHVsZSBmb2xsb3ctdXAgcmVtaW5kZXJcbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2NoZWR1bGVGb2xsb3dVcCh1c2VySWQsIGFwcGxpY2F0aW9uSWQsIGZvbGxvd1VwU2NoZWR1bGUpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBmb2xsb3dVcE1lc3NhZ2UgPSB7XG4gICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICBhcHBsaWNhdGlvbklkLFxuICAgICAgICAgICAgdHlwZTogJ2luaXRpYWxfZm9sbG93X3VwJyxcbiAgICAgICAgICAgIHNjaGVkdWxlZERhdGU6IG5ldyBEYXRlKERhdGUubm93KCkgKyAoZm9sbG93VXBTY2hlZHVsZS5pbml0aWFsRGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfTtcblxuICAgICAgICBhd2FpdCBxdWV1ZVNlcnZpY2UuYWRkTWVzc2FnZShcbiAgICAgICAgICAgIHF1ZXVlU2VydmljZS5xdWV1ZXMuRk9MTE9XX1VQX1JFTUlOREVSUyxcbiAgICAgICAgICAgIGZvbGxvd1VwTWVzc2FnZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5VGltZW91dDogZm9sbG93VXBTY2hlZHVsZS5pbml0aWFsRGF5cyAqIDI0ICogNjAgKiA2MCAvLyBEZWxheSB1bnRpbCBmb2xsb3ctdXAgZGF0ZVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBGb2xsb3ctdXAgc2NoZWR1bGVkIGZvciBhcHBsaWNhdGlvbiAke2FwcGxpY2F0aW9uSWR9YCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2NoZWR1bGluZyBmb2xsb3ctdXA6JywgZXJyb3IpO1xuICAgIH1cbn1cblxuLy8gVXRpbGl0eSBmdW5jdGlvbnMgKFRPRE86IEltcGxlbWVudCB3aXRoIHByb3BlciBkYXRhIHN0b3JhZ2UpXG5cbmFzeW5jIGZ1bmN0aW9uIGdldFVzZXJQcm9maWxlKHVzZXJJZCkge1xuICAgIC8vIE1vY2sgdXNlciBwcm9maWxlXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHVzZXJJZCxcbiAgICAgICAgbmFtZTogJ0pvaG4gRG9lJyxcbiAgICAgICAgZW1haWw6ICdqb2huLmRvZUBleGFtcGxlLmNvbScsXG4gICAgICAgIHNraWxsczogWydKYXZhU2NyaXB0JywgJ1JlYWN0JywgJ1R5cGVTY3JpcHQnLCAnTm9kZS5qcycsICdQeXRob24nXSxcbiAgICAgICAgZXhwZXJpZW5jZTogW1xuICAgICAgICAgICAgeyBwb3NpdGlvbjogJ0Zyb250ZW5kIERldmVsb3BlcicsIGNvbXBhbnk6ICdUZWNoIENvcnAnLCB0ZWNobm9sb2dpZXM6IFsnUmVhY3QnLCAnVHlwZVNjcmlwdCddIH1cbiAgICAgICAgXSxcbiAgICAgICAgdGFyZ2V0Um9sZXM6IFsnRnJvbnRlbmQgRGV2ZWxvcGVyJywgJ0Z1bGwgU3RhY2sgRGV2ZWxvcGVyJ10sXG4gICAgICAgIHN1bW1hcnk6ICdFeHBlcmllbmNlZCBmcm9udGVuZCBkZXZlbG9wZXIgd2l0aCBleHBlcnRpc2UgaW4gUmVhY3QgYXBwbGljYXRpb25zJyxcbiAgICAgICAgcmVzdW1lOiAnRGV0YWlsZWQgcmVzdW1lIGNvbnRlbnQgd291bGQgYmUgc3RvcmVkIGhlcmUuLi4nXG4gICAgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckF1dG9BcHBseVNldHRpbmdzKHVzZXJJZCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGF1dG9BcHBseVRocmVzaG9sZDogNzUsXG4gICAgICAgIGRhaWx5QXBwbGljYXRpb25MaW1pdDogNSxcbiAgICAgICAgZm9sbG93VXBFbmFibGVkOiB0cnVlLFxuICAgICAgICBmb2xsb3dVcFNjaGVkdWxlOiB7XG4gICAgICAgICAgICBpbml0aWFsRGF5czogMyxcbiAgICAgICAgICAgIHNlY29uZERheXM6IDdcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNoZWNrRXhpc3RpbmdBcHBsaWNhdGlvbih1c2VySWQsIGpvYklkKSB7XG4gICAgLy8gVE9ETzogQ2hlY2sgZGF0YWJhc2UgZm9yIGV4aXN0aW5nIGFwcGxpY2F0aW9uc1xuICAgIHJldHVybiBudWxsOyAvLyBObyBleGlzdGluZyBhcHBsaWNhdGlvbiBmb3VuZFxufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRUb2RheUFwcGxpY2F0aW9uQ291bnQodXNlcklkKSB7XG4gICAgLy8gVE9ETzogUXVlcnkgZGF0YWJhc2UgZm9yIHRvZGF5J3MgYXBwbGljYXRpb25zXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpOyAvLyBNb2NrIGNvdW50XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHN0b3JlSm9iQXBwbGljYXRpb24oYXBwbGljYXRpb25EYXRhKSB7XG4gICAgLy8gVE9ETzogU3RvcmUgaW4gZGF0YWJhc2UgKEZpcmVzdG9yZSwgZXRjLilcbiAgICBjb25zb2xlLmxvZygnU3RvcmluZyBqb2IgYXBwbGljYXRpb246JywgYXBwbGljYXRpb25EYXRhKTtcbn1cblxuLyoqXG4gKiBTZW5kIGFwcGxpY2F0aW9uIHN1Ym1pdHRlZCBub3RpZmljYXRpb25cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2VuZEFwcGxpY2F0aW9uU3VibWl0dGVkTm90aWZpY2F0aW9uKHVzZXJJZCwgYXBwbGljYXRpb25EYXRhKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gSW1wb3J0IG5vdGlmaWNhdGlvbiBpbnRlZ3JhdGlvbiBzZXJ2aWNlXG4gICAgICAgIGNvbnN0IHsgam9iTm90aWZpY2F0aW9uSW50ZWdyYXRpb24gfSA9IHJlcXVpcmUoJy4uLy4uL2xpYi9zZXJ2aWNlcy9qb2Itbm90aWZpY2F0aW9uLWludGVncmF0aW9uJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBTZW5kIGFwcGxpY2F0aW9uIHN1Ym1pdHRlZCBub3RpZmljYXRpb25cbiAgICAgICAgYXdhaXQgam9iTm90aWZpY2F0aW9uSW50ZWdyYXRpb24ubm90aWZ5QXBwbGljYXRpb25TdWJtaXR0ZWQodXNlcklkLCBhcHBsaWNhdGlvbkRhdGEpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYEFwcGxpY2F0aW9uIHN1Ym1pdHRlZCBub3RpZmljYXRpb24gc2VudCBmb3IgdXNlciAke3VzZXJJZH0sIGFwcGxpY2F0aW9uICR7YXBwbGljYXRpb25EYXRhLmlkfWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgYXBwbGljYXRpb24gc3VibWl0dGVkIG5vdGlmaWNhdGlvbjonLCBlcnJvcik7XG4gICAgICAgIC8vIERvbid0IHRocm93IGVycm9yIGhlcmUgdG8gYXZvaWQgYnJlYWtpbmcgdGhlIGFwcGxpY2F0aW9uIHdvcmtmbG93XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWVZO0lBQUFBLGNBQUEsWUFBQUEs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LElBQUk7SUFDckJFLGdCQUFnQixFQUFFO01BQ2R3RCxXQUFXLEVBQUUsQ0FBQztNQUNkUSxVQUFVLEVBQUU7SUFDaEI7RUFDSixDQUFDO0FBQ0w7QUFFQSxlQUFlbEcsd0JBQXdCQSxDQUFDVixNQUFNLEVBQUVDLEtBQUssRUFBRTtFQUFBO0VBQUFyQyxjQUFBLEdBQUFhLENBQUE7RUFBQWIsY0FBQSxHQUFBRyxDQUFBO0VBQ25EO0VBQ0EsT0FBTyxJQUFJLENBQUMsQ0FBQztBQUNqQjtBQUVBLGVBQWVvRCx3QkFBd0JBLENBQUNuQixNQUFNLEVBQUU7RUFBQTtFQUFBcEMsY0FBQSxHQUFBYSxDQUFBO0VBQUFiLGNBQUEsR0FBQUcsQ0FBQTtFQUM1QztFQUNBLE9BQU80RyxJQUFJLENBQUNrQyxLQUFLLENBQUNsQyxJQUFJLENBQUNlLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMxQztBQUVBLGVBQWVDLG1CQUFtQkEsQ0FBQzlGLGVBQWUsRUFBRTtFQUFBO0VBQUFqQyxjQUFBLEdBQUFhLENBQUE7RUFBQWIsY0FBQSxHQUFBRyxDQUFBO0VBQ2hEO0VBQ0FlLE9BQU8sQ0FBQ08sR0FBRyxDQUFDLDBCQUEwQixFQUFFUSxlQUFlLENBQUM7QUFDNUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZWtDLG9DQUFvQ0EsQ0FBQy9CLE1BQU0sRUFBRUgsZUFBZSxFQUFFO0VBQUE7RUFBQWpDLGNBQUEsR0FBQWEsQ0FBQTtFQUFBYixjQUFBLEdBQUFHLENBQUE7RUFDekUsSUFBSTtJQUNBO0lBQ0EsTUFBTTtNQUFFK0k7SUFBMkIsQ0FBQztJQUFBO0lBQUEsQ0FBQWxKLGNBQUEsR0FBQUcsQ0FBQSxTQUFHQyxPQUFPLENBQUMsaURBQWlELENBQUM7O0lBRWpHO0lBQUE7SUFBQUosY0FBQSxHQUFBRyxDQUFBO0lBQ0EsTUFBTStJLDBCQUEwQixDQUFDQywwQkFBMEIsQ0FBQy9HLE1BQU0sRUFBRUgsZUFBZSxDQUFDO0lBQUM7SUFBQWpDLGNBQUEsR0FBQUcsQ0FBQTtJQUVyRmUsT0FBTyxDQUFDTyxHQUFHLENBQUMsb0RBQW9EVyxNQUFNLGlCQUFpQkgsZUFBZSxDQUFDbUMsRUFBRSxFQUFFLENBQUM7RUFDaEgsQ0FBQyxDQUFDLE9BQU8xQyxLQUFLLEVBQUU7SUFBQTtJQUFBMUIsY0FBQSxHQUFBRyxDQUFBO0lBQ1plLE9BQU8sQ0FBQ1EsS0FBSyxDQUFDLG1EQUFtRCxFQUFFQSxLQUFLLENBQUM7SUFDekU7RUFDSjtBQUNKIiwiaWdub3JlTGlzdCI6W119