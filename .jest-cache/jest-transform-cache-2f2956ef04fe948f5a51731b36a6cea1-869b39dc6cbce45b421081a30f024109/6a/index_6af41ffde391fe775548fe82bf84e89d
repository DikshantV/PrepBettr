28c07fcfbaa8515317acf1f4f53b439b
/* istanbul ignore next */
function cov_7v84alcm7() {
  var path = "/Users/dikshantvashistha/PrepBettr/azure/onUserPlanChange/index.js";
  var hash = "27663e2d4c2dd27eedb3c65e4c3533b83346e5fc";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/dikshantvashistha/PrepBettr/azure/onUserPlanChange/index.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 25
        },
        end: {
          line: 1,
          column: 49
        }
      },
      "1": {
        start: {
          line: 7,
          column: 2
        },
        end: {
          line: 10,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 29
        },
        end: {
          line: 8,
          column: 74
        }
      },
      "3": {
        start: {
          line: 9,
          column: 4
        },
        end: {
          line: 9,
          column: 54
        }
      },
      "4": {
        start: {
          line: 11,
          column: 2
        },
        end: {
          line: 11,
          column: 22
        }
      },
      "5": {
        start: {
          line: 15,
          column: 20
        },
        end: {
          line: 31,
          column: 1
        }
      },
      "6": {
        start: {
          line: 33,
          column: 0
        },
        end: {
          line: 140,
          column: 2
        }
      },
      "7": {
        start: {
          line: 34,
          column: 20
        },
        end: {
          line: 34,
          column: 30
        }
      },
      "8": {
        start: {
          line: 36,
          column: 2
        },
        end: {
          line: 39,
          column: 3
        }
      },
      "9": {
        start: {
          line: 37,
          column: 4
        },
        end: {
          line: 37,
          column: 43
        }
      },
      "10": {
        start: {
          line: 38,
          column: 4
        },
        end: {
          line: 38,
          column: 11
        }
      },
      "11": {
        start: {
          line: 41,
          column: 17
        },
        end: {
          line: 41,
          column: 34
        }
      },
      "12": {
        start: {
          line: 42,
          column: 19
        },
        end: {
          line: 42,
          column: 49
        }
      },
      "13": {
        start: {
          line: 43,
          column: 25
        },
        end: {
          line: 43,
          column: 52
        }
      },
      "14": {
        start: {
          line: 45,
          column: 25
        },
        end: {
          line: 45,
          column: 27
        }
      },
      "15": {
        start: {
          line: 47,
          column: 2
        },
        end: {
          line: 139,
          column: 3
        }
      },
      "16": {
        start: {
          line: 48,
          column: 4
        },
        end: {
          line: 121,
          column: 5
        }
      },
      "17": {
        start: {
          line: 50,
          column: 21
        },
        end: {
          line: 50,
          column: 32
        }
      },
      "18": {
        start: {
          line: 54,
          column: 6
        },
        end: {
          line: 120,
          column: 7
        }
      },
      "19": {
        start: {
          line: 55,
          column: 24
        },
        end: {
          line: 55,
          column: 37
        }
      },
      "20": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 119,
          column: 9
        }
      },
      "21": {
        start: {
          line: 59,
          column: 45
        },
        end: {
          line: 59,
          column: 93
        }
      },
      "22": {
        start: {
          line: 62,
          column: 10
        },
        end: {
          line: 88,
          column: 11
        }
      },
      "23": {
        start: {
          line: 63,
          column: 34
        },
        end: {
          line: 63,
          column: 74
        }
      },
      "24": {
        start: {
          line: 64,
          column: 30
        },
        end: {
          line: 64,
          column: 54
        }
      },
      "25": {
        start: {
          line: 66,
          column: 34
        },
        end: {
          line: 75,
          column: 13
        }
      },
      "26": {
        start: {
          line: 78,
          column: 12
        },
        end: {
          line: 78,
          column: 61
        }
      },
      "27": {
        start: {
          line: 80,
          column: 12
        },
        end: {
          line: 85,
          column: 15
        }
      },
      "28": {
        start: {
          line: 87,
          column: 12
        },
        end: {
          line: 87,
          column: 133
        }
      },
      "29": {
        start: {
          line: 91,
          column: 10
        },
        end: {
          line: 118,
          column: 11
        }
      },
      "30": {
        start: {
          line: 92,
          column: 34
        },
        end: {
          line: 92,
          column: 74
        }
      },
      "31": {
        start: {
          line: 93,
          column: 30
        },
        end: {
          line: 93,
          column: 54
        }
      },
      "32": {
        start: {
          line: 95,
          column: 34
        },
        end: {
          line: 104,
          column: 13
        }
      },
      "33": {
        start: {
          line: 106,
          column: 12
        },
        end: {
          line: 106,
          column: 61
        }
      },
      "34": {
        start: {
          line: 108,
          column: 12
        },
        end: {
          line: 113,
          column: 15
        }
      },
      "35": {
        start: {
          line: 115,
          column: 12
        },
        end: {
          line: 115,
          column: 96
        }
      },
      "36": {
        start: {
          line: 117,
          column: 12
        },
        end: {
          line: 117,
          column: 88
        }
      },
      "37": {
        start: {
          line: 123,
          column: 21
        },
        end: {
          line: 123,
          column: 43
        }
      },
      "38": {
        start: {
          line: 124,
          column: 4
        },
        end: {
          line: 125,
          column: 86
        }
      },
      "39": {
        start: {
          line: 125,
          column: 30
        },
        end: {
          line: 125,
          column: 72
        }
      },
      "40": {
        start: {
          line: 128,
          column: 4
        },
        end: {
          line: 133,
          column: 6
        }
      },
      "41": {
        start: {
          line: 136,
          column: 21
        },
        end: {
          line: 136,
          column: 43
        }
      },
      "42": {
        start: {
          line: 137,
          column: 4
        },
        end: {
          line: 137,
          column: 79
        }
      },
      "43": {
        start: {
          line: 138,
          column: 4
        },
        end: {
          line: 138,
          column: 16
        }
      }
    },
    fnMap: {
      "0": {
        name: "getCosmosClient",
        decl: {
          start: {
            line: 6,
            column: 9
          },
          end: {
            line: 6,
            column: 24
          }
        },
        loc: {
          start: {
            line: 6,
            column: 27
          },
          end: {
            line: 12,
            column: 1
          }
        },
        line: 6
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 33,
            column: 17
          },
          end: {
            line: 33,
            column: 18
          }
        },
        loc: {
          start: {
            line: 33,
            column: 53
          },
          end: {
            line: 140,
            column: 1
          }
        },
        line: 33
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 125,
            column: 25
          },
          end: {
            line: 125,
            column: 26
          }
        },
        loc: {
          start: {
            line: 125,
            column: 30
          },
          end: {
            line: 125,
            column: 72
          }
        },
        line: 125
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 7,
            column: 2
          },
          end: {
            line: 10,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 7,
            column: 2
          },
          end: {
            line: 10,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 7
      },
      "1": {
        loc: {
          start: {
            line: 36,
            column: 2
          },
          end: {
            line: 39,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 36,
            column: 2
          },
          end: {
            line: 39,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 36
      },
      "2": {
        loc: {
          start: {
            line: 36,
            column: 6
          },
          end: {
            line: 36,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 36,
            column: 6
          },
          end: {
            line: 36,
            column: 16
          }
        }, {
          start: {
            line: 36,
            column: 20
          },
          end: {
            line: 36,
            column: 42
          }
        }],
        line: 36
      },
      "3": {
        loc: {
          start: {
            line: 54,
            column: 6
          },
          end: {
            line: 120,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 54,
            column: 6
          },
          end: {
            line: 120,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 54
      },
      "4": {
        loc: {
          start: {
            line: 54,
            column: 10
          },
          end: {
            line: 54,
            column: 33
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 54,
            column: 10
          },
          end: {
            line: 54,
            column: 23
          }
        }, {
          start: {
            line: 54,
            column: 27
          },
          end: {
            line: 54,
            column: 33
          }
        }],
        line: 54
      },
      "5": {
        loc: {
          start: {
            line: 62,
            column: 10
          },
          end: {
            line: 88,
            column: 11
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 62,
            column: 10
          },
          end: {
            line: 88,
            column: 11
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 62
      },
      "6": {
        loc: {
          start: {
            line: 62,
            column: 14
          },
          end: {
            line: 62,
            column: 82
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 62,
            column: 14
          },
          end: {
            line: 62,
            column: 27
          }
        }, {
          start: {
            line: 62,
            column: 31
          },
          end: {
            line: 62,
            column: 49
          }
        }, {
          start: {
            line: 62,
            column: 53
          },
          end: {
            line: 62,
            column: 82
          }
        }],
        line: 62
      },
      "7": {
        loc: {
          start: {
            line: 63,
            column: 34
          },
          end: {
            line: 63,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 63,
            column: 34
          },
          end: {
            line: 63,
            column: 54
          }
        }, {
          start: {
            line: 63,
            column: 58
          },
          end: {
            line: 63,
            column: 74
          }
        }],
        line: 63
      },
      "8": {
        loc: {
          start: {
            line: 70,
            column: 28
          },
          end: {
            line: 70,
            column: 56
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 70,
            column: 28
          },
          end: {
            line: 70,
            column: 46
          }
        }, {
          start: {
            line: 70,
            column: 50
          },
          end: {
            line: 70,
            column: 56
          }
        }],
        line: 70
      },
      "9": {
        loc: {
          start: {
            line: 74,
            column: 25
          },
          end: {
            line: 74,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 74,
            column: 25
          },
          end: {
            line: 74,
            column: 48
          }
        }, {
          start: {
            line: 74,
            column: 52
          },
          end: {
            line: 74,
            column: 61
          }
        }],
        line: 74
      },
      "10": {
        loc: {
          start: {
            line: 82,
            column: 23
          },
          end: {
            line: 82,
            column: 51
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 82,
            column: 23
          },
          end: {
            line: 82,
            column: 41
          }
        }, {
          start: {
            line: 82,
            column: 45
          },
          end: {
            line: 82,
            column: 51
          }
        }],
        line: 82
      },
      "11": {
        loc: {
          start: {
            line: 87,
            column: 87
          },
          end: {
            line: 87,
            column: 115
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 87,
            column: 87
          },
          end: {
            line: 87,
            column: 105
          }
        }, {
          start: {
            line: 87,
            column: 109
          },
          end: {
            line: 87,
            column: 115
          }
        }],
        line: 87
      },
      "12": {
        loc: {
          start: {
            line: 91,
            column: 10
          },
          end: {
            line: 118,
            column: 11
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 91,
            column: 10
          },
          end: {
            line: 118,
            column: 11
          }
        }, {
          start: {
            line: 116,
            column: 17
          },
          end: {
            line: 118,
            column: 11
          }
        }],
        line: 91
      },
      "13": {
        loc: {
          start: {
            line: 92,
            column: 34
          },
          end: {
            line: 92,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 92,
            column: 34
          },
          end: {
            line: 92,
            column: 54
          }
        }, {
          start: {
            line: 92,
            column: 58
          },
          end: {
            line: 92,
            column: 74
          }
        }],
        line: 92
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0]
    },
    inputSourceMap: null,
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "27663e2d4c2dd27eedb3c65e4c3533b83346e5fc"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_7v84alcm7 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_7v84alcm7();
const {
  CosmosClient
} =
/* istanbul ignore next */
(cov_7v84alcm7().s[0]++, require('@azure/cosmos'));

// Initialize Cosmos client
let cosmosClient;
function getCosmosClient() {
  /* istanbul ignore next */
  cov_7v84alcm7().f[0]++;
  cov_7v84alcm7().s[1]++;
  if (!cosmosClient) {
    /* istanbul ignore next */
    cov_7v84alcm7().b[0][0]++;
    const connectionString =
    /* istanbul ignore next */
    (cov_7v84alcm7().s[2]++, process.env.AZURE_COSMOS_DB_CONNECTION_STRING);
    /* istanbul ignore next */
    cov_7v84alcm7().s[3]++;
    cosmosClient = new CosmosClient(connectionString);
  } else
  /* istanbul ignore next */
  {
    cov_7v84alcm7().b[0][1]++;
  }
  cov_7v84alcm7().s[4]++;
  return cosmosClient;
}

// Plan limits configuration
const PLAN_LIMITS =
/* istanbul ignore next */
(cov_7v84alcm7().s[5]++, {
  free: {
    interviews: {
      count: 0,
      limit: 3
    },
    resumeTailor: {
      count: 0,
      limit: 2
    },
    autoApply: {
      count: 0,
      limit: 1
    }
  },
  premium: {
    interviews: {
      count: 0,
      limit: -1
    },
    resumeTailor: {
      count: 0,
      limit: -1
    },
    autoApply: {
      count: 0,
      limit: -1
    }
  },
  pro: {
    interviews: {
      count: 0,
      limit: -1
    },
    resumeTailor: {
      count: 0,
      limit: -1
    },
    autoApply: {
      count: 0,
      limit: -1
    }
  }
});
/* istanbul ignore next */
cov_7v84alcm7().s[6]++;
module.exports = async function (context, documents) {
  /* istanbul ignore next */
  cov_7v84alcm7().f[1]++;
  const startTime =
  /* istanbul ignore next */
  (cov_7v84alcm7().s[7]++, Date.now());
  /* istanbul ignore next */
  cov_7v84alcm7().s[8]++;
  if (
  /* istanbul ignore next */
  (cov_7v84alcm7().b[2][0]++, !documents) ||
  /* istanbul ignore next */
  (cov_7v84alcm7().b[2][1]++, documents.length === 0)) {
    /* istanbul ignore next */
    cov_7v84alcm7().b[1][0]++;
    cov_7v84alcm7().s[9]++;
    context.log('No documents to process');
    /* istanbul ignore next */
    cov_7v84alcm7().s[10]++;
    return;
  } else
  /* istanbul ignore next */
  {
    cov_7v84alcm7().b[1][1]++;
  }
  const client =
  /* istanbul ignore next */
  (cov_7v84alcm7().s[11]++, getCosmosClient());
  const database =
  /* istanbul ignore next */
  (cov_7v84alcm7().s[12]++, client.database('PrepBettrDB'));
  const usageContainer =
  /* istanbul ignore next */
  (cov_7v84alcm7().s[13]++, database.container('usage'));
  const processedUsers =
  /* istanbul ignore next */
  (cov_7v84alcm7().s[14]++, []);
  /* istanbul ignore next */
  cov_7v84alcm7().s[15]++;
  try {
    /* istanbul ignore next */
    cov_7v84alcm7().s[16]++;
    for (const document of documents) {
      // Check if this is a plan change by looking at the operation type and changes
      const userId =
      /* istanbul ignore next */
      (cov_7v84alcm7().s[17]++, document.id);

      // Azure Cosmos DB doesn't provide "before/after" like Firestore
      // We need to detect plan changes differently
      /* istanbul ignore next */
      cov_7v84alcm7().s[18]++;
      if (
      /* istanbul ignore next */
      (cov_7v84alcm7().b[4][0]++, document.plan) &&
      /* istanbul ignore next */
      (cov_7v84alcm7().b[4][1]++, userId)) {
        /* istanbul ignore next */
        cov_7v84alcm7().b[3][0]++;
        const newPlan =
        /* istanbul ignore next */
        (cov_7v84alcm7().s[19]++, document.plan);

        // Get current usage data to check if plan actually changed
        /* istanbul ignore next */
        cov_7v84alcm7().s[20]++;
        try {
          const {
            resource: currentUsage
          } =
          /* istanbul ignore next */
          (cov_7v84alcm7().s[21]++, await usageContainer.item(userId, userId).read());

          // If user doesn't have usage record or plan is different, reset usage
          /* istanbul ignore next */
          cov_7v84alcm7().s[22]++;
          if (
          /* istanbul ignore next */
          (cov_7v84alcm7().b[6][0]++, !currentUsage) ||
          /* istanbul ignore next */
          (cov_7v84alcm7().b[6][1]++, !currentUsage.plan) ||
          /* istanbul ignore next */
          (cov_7v84alcm7().b[6][2]++, currentUsage.plan !== newPlan)) {
            /* istanbul ignore next */
            cov_7v84alcm7().b[5][0]++;
            const newPlanLimits =
            /* istanbul ignore next */
            (cov_7v84alcm7().s[23]++,
            /* istanbul ignore next */
            (cov_7v84alcm7().b[7][0]++, PLAN_LIMITS[newPlan]) ||
            /* istanbul ignore next */
            (cov_7v84alcm7().b[7][1]++, PLAN_LIMITS.free));
            const timestamp =
            /* istanbul ignore next */
            (cov_7v84alcm7().s[24]++, new Date().toISOString());
            const usageDocument =
            /* istanbul ignore next */
            (cov_7v84alcm7().s[25]++, {
              id: userId,
              userId: userId,
              plan: newPlan,
              previousPlan:
              /* istanbul ignore next */
              (cov_7v84alcm7().b[8][0]++, currentUsage?.plan) ||
              /* istanbul ignore next */
              (cov_7v84alcm7().b[8][1]++, 'free'),
              ...newPlanLimits,
              lastReset: timestamp,
              updatedAt: timestamp,
              createdAt:
              /* istanbul ignore next */
              (cov_7v84alcm7().b[9][0]++, currentUsage?.createdAt) ||
              /* istanbul ignore next */
              (cov_7v84alcm7().b[9][1]++, timestamp)
            });

            // Upsert the usage document
            /* istanbul ignore next */
            cov_7v84alcm7().s[26]++;
            await usageContainer.items.upsert(usageDocument);
            /* istanbul ignore next */
            cov_7v84alcm7().s[27]++;
            processedUsers.push({
              userId,
              oldPlan:
              /* istanbul ignore next */
              (cov_7v84alcm7().b[10][0]++, currentUsage?.plan) ||
              /* istanbul ignore next */
              (cov_7v84alcm7().b[10][1]++, 'free'),
              newPlan,
              resetAt: timestamp
            });
            /* istanbul ignore next */
            cov_7v84alcm7().s[28]++;
            context.log(`Usage counters reset for user: ${userId}, plan changed from ${
            /* istanbul ignore next */
            (cov_7v84alcm7().b[11][0]++, currentUsage?.plan) ||
            /* istanbul ignore next */
            (cov_7v84alcm7().b[11][1]++, 'free')} to ${newPlan}`);
          } else
          /* istanbul ignore next */
          {
            cov_7v84alcm7().b[5][1]++;
          }
        } catch (usageError) {
          /* istanbul ignore next */
          cov_7v84alcm7().s[29]++;
          // If usage document doesn't exist, create it
          if (usageError.code === 404) {
            /* istanbul ignore next */
            cov_7v84alcm7().b[12][0]++;
            const newPlanLimits =
            /* istanbul ignore next */
            (cov_7v84alcm7().s[30]++,
            /* istanbul ignore next */
            (cov_7v84alcm7().b[13][0]++, PLAN_LIMITS[newPlan]) ||
            /* istanbul ignore next */
            (cov_7v84alcm7().b[13][1]++, PLAN_LIMITS.free));
            const timestamp =
            /* istanbul ignore next */
            (cov_7v84alcm7().s[31]++, new Date().toISOString());
            const usageDocument =
            /* istanbul ignore next */
            (cov_7v84alcm7().s[32]++, {
              id: userId,
              userId: userId,
              plan: newPlan,
              previousPlan: 'free',
              ...newPlanLimits,
              lastReset: timestamp,
              updatedAt: timestamp,
              createdAt: timestamp
            });
            /* istanbul ignore next */
            cov_7v84alcm7().s[33]++;
            await usageContainer.items.create(usageDocument);
            /* istanbul ignore next */
            cov_7v84alcm7().s[34]++;
            processedUsers.push({
              userId,
              oldPlan: 'free',
              newPlan,
              resetAt: timestamp
            });
            /* istanbul ignore next */
            cov_7v84alcm7().s[35]++;
            context.log(`Initial usage counters created for user: ${userId}, plan: ${newPlan}`);
          } else {
            /* istanbul ignore next */
            cov_7v84alcm7().b[12][1]++;
            cov_7v84alcm7().s[36]++;
            context.log.error(`Error processing usage for user ${userId}:`, usageError);
          }
        }
      } else
      /* istanbul ignore next */
      {
        cov_7v84alcm7().b[3][1]++;
      }
    }
    const duration =
    /* istanbul ignore next */
    (cov_7v84alcm7().s[37]++, Date.now() - startTime);
    /* istanbul ignore next */
    cov_7v84alcm7().s[38]++;
    context.log(`Processed ${processedUsers.length} plan changes in ${duration}ms:`, processedUsers.map(u => {
      /* istanbul ignore next */
      cov_7v84alcm7().f[2]++;
      cov_7v84alcm7().s[39]++;
      return `${u.userId}: ${u.oldPlan} â†’ ${u.newPlan}`;
    }).join(', '));

    // Return summary for monitoring
    /* istanbul ignore next */
    cov_7v84alcm7().s[40]++;
    return {
      processedCount: processedUsers.length,
      totalDocuments: documents.length,
      duration,
      changes: processedUsers
    };
  } catch (error) {
    const duration =
    /* istanbul ignore next */
    (cov_7v84alcm7().s[41]++, Date.now() - startTime);
    /* istanbul ignore next */
    cov_7v84alcm7().s[42]++;
    context.log.error(`Error processing plan changes (${duration}ms):`, error);
    /* istanbul ignore next */
    cov_7v84alcm7().s[43]++;
    throw error;
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfN3Y4NGFsY203IiwiYWN0dWFsQ292ZXJhZ2UiLCJDb3Ntb3NDbGllbnQiLCJzIiwicmVxdWlyZSIsImNvc21vc0NsaWVudCIsImdldENvc21vc0NsaWVudCIsImYiLCJiIiwiY29ubmVjdGlvblN0cmluZyIsInByb2Nlc3MiLCJlbnYiLCJBWlVSRV9DT1NNT1NfREJfQ09OTkVDVElPTl9TVFJJTkciLCJQTEFOX0xJTUlUUyIsImZyZWUiLCJpbnRlcnZpZXdzIiwiY291bnQiLCJsaW1pdCIsInJlc3VtZVRhaWxvciIsImF1dG9BcHBseSIsInByZW1pdW0iLCJwcm8iLCJtb2R1bGUiLCJleHBvcnRzIiwiY29udGV4dCIsImRvY3VtZW50cyIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJsZW5ndGgiLCJsb2ciLCJjbGllbnQiLCJkYXRhYmFzZSIsInVzYWdlQ29udGFpbmVyIiwiY29udGFpbmVyIiwicHJvY2Vzc2VkVXNlcnMiLCJkb2N1bWVudCIsInVzZXJJZCIsImlkIiwicGxhbiIsIm5ld1BsYW4iLCJyZXNvdXJjZSIsImN1cnJlbnRVc2FnZSIsIml0ZW0iLCJyZWFkIiwibmV3UGxhbkxpbWl0cyIsInRpbWVzdGFtcCIsInRvSVNPU3RyaW5nIiwidXNhZ2VEb2N1bWVudCIsInByZXZpb3VzUGxhbiIsImxhc3RSZXNldCIsInVwZGF0ZWRBdCIsImNyZWF0ZWRBdCIsIml0ZW1zIiwidXBzZXJ0IiwicHVzaCIsIm9sZFBsYW4iLCJyZXNldEF0IiwidXNhZ2VFcnJvciIsImNvZGUiLCJjcmVhdGUiLCJlcnJvciIsImR1cmF0aW9uIiwibWFwIiwidSIsImpvaW4iLCJwcm9jZXNzZWRDb3VudCIsInRvdGFsRG9jdW1lbnRzIiwiY2hhbmdlcyJdLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgQ29zbW9zQ2xpZW50IH0gPSByZXF1aXJlKCdAYXp1cmUvY29zbW9zJyk7XG5cbi8vIEluaXRpYWxpemUgQ29zbW9zIGNsaWVudFxubGV0IGNvc21vc0NsaWVudDtcblxuZnVuY3Rpb24gZ2V0Q29zbW9zQ2xpZW50KCkge1xuICBpZiAoIWNvc21vc0NsaWVudCkge1xuICAgIGNvbnN0IGNvbm5lY3Rpb25TdHJpbmcgPSBwcm9jZXNzLmVudi5BWlVSRV9DT1NNT1NfREJfQ09OTkVDVElPTl9TVFJJTkc7XG4gICAgY29zbW9zQ2xpZW50ID0gbmV3IENvc21vc0NsaWVudChjb25uZWN0aW9uU3RyaW5nKTtcbiAgfVxuICByZXR1cm4gY29zbW9zQ2xpZW50O1xufVxuXG4vLyBQbGFuIGxpbWl0cyBjb25maWd1cmF0aW9uXG5jb25zdCBQTEFOX0xJTUlUUyA9IHtcbiAgZnJlZToge1xuICAgIGludGVydmlld3M6IHsgY291bnQ6IDAsIGxpbWl0OiAzIH0sXG4gICAgcmVzdW1lVGFpbG9yOiB7IGNvdW50OiAwLCBsaW1pdDogMiB9LFxuICAgIGF1dG9BcHBseTogeyBjb3VudDogMCwgbGltaXQ6IDEgfVxuICB9LFxuICBwcmVtaXVtOiB7XG4gICAgaW50ZXJ2aWV3czogeyBjb3VudDogMCwgbGltaXQ6IC0xIH0sXG4gICAgcmVzdW1lVGFpbG9yOiB7IGNvdW50OiAwLCBsaW1pdDogLTEgfSxcbiAgICBhdXRvQXBwbHk6IHsgY291bnQ6IDAsIGxpbWl0OiAtMSB9XG4gIH0sXG4gIHBybzoge1xuICAgIGludGVydmlld3M6IHsgY291bnQ6IDAsIGxpbWl0OiAtMSB9LFxuICAgIHJlc3VtZVRhaWxvcjogeyBjb3VudDogMCwgbGltaXQ6IC0xIH0sXG4gICAgYXV0b0FwcGx5OiB7IGNvdW50OiAwLCBsaW1pdDogLTEgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFzeW5jIGZ1bmN0aW9uIChjb250ZXh0LCBkb2N1bWVudHMpIHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgXG4gIGlmICghZG9jdW1lbnRzIHx8IGRvY3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBjb250ZXh0LmxvZygnTm8gZG9jdW1lbnRzIHRvIHByb2Nlc3MnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjbGllbnQgPSBnZXRDb3Ntb3NDbGllbnQoKTtcbiAgY29uc3QgZGF0YWJhc2UgPSBjbGllbnQuZGF0YWJhc2UoJ1ByZXBCZXR0ckRCJyk7XG4gIGNvbnN0IHVzYWdlQ29udGFpbmVyID0gZGF0YWJhc2UuY29udGFpbmVyKCd1c2FnZScpO1xuICBcbiAgY29uc3QgcHJvY2Vzc2VkVXNlcnMgPSBbXTtcblxuICB0cnkge1xuICAgIGZvciAoY29uc3QgZG9jdW1lbnQgb2YgZG9jdW1lbnRzKSB7XG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgcGxhbiBjaGFuZ2UgYnkgbG9va2luZyBhdCB0aGUgb3BlcmF0aW9uIHR5cGUgYW5kIGNoYW5nZXNcbiAgICAgIGNvbnN0IHVzZXJJZCA9IGRvY3VtZW50LmlkO1xuICAgICAgXG4gICAgICAvLyBBenVyZSBDb3Ntb3MgREIgZG9lc24ndCBwcm92aWRlIFwiYmVmb3JlL2FmdGVyXCIgbGlrZSBGaXJlc3RvcmVcbiAgICAgIC8vIFdlIG5lZWQgdG8gZGV0ZWN0IHBsYW4gY2hhbmdlcyBkaWZmZXJlbnRseVxuICAgICAgaWYgKGRvY3VtZW50LnBsYW4gJiYgdXNlcklkKSB7XG4gICAgICAgIGNvbnN0IG5ld1BsYW4gPSBkb2N1bWVudC5wbGFuO1xuICAgICAgICBcbiAgICAgICAgLy8gR2V0IGN1cnJlbnQgdXNhZ2UgZGF0YSB0byBjaGVjayBpZiBwbGFuIGFjdHVhbGx5IGNoYW5nZWRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB7IHJlc291cmNlOiBjdXJyZW50VXNhZ2UgfSA9IGF3YWl0IHVzYWdlQ29udGFpbmVyLml0ZW0odXNlcklkLCB1c2VySWQpLnJlYWQoKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiB1c2VyIGRvZXNuJ3QgaGF2ZSB1c2FnZSByZWNvcmQgb3IgcGxhbiBpcyBkaWZmZXJlbnQsIHJlc2V0IHVzYWdlXG4gICAgICAgICAgaWYgKCFjdXJyZW50VXNhZ2UgfHwgIWN1cnJlbnRVc2FnZS5wbGFuIHx8IGN1cnJlbnRVc2FnZS5wbGFuICE9PSBuZXdQbGFuKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdQbGFuTGltaXRzID0gUExBTl9MSU1JVFNbbmV3UGxhbl0gfHwgUExBTl9MSU1JVFMuZnJlZTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgdXNhZ2VEb2N1bWVudCA9IHtcbiAgICAgICAgICAgICAgaWQ6IHVzZXJJZCxcbiAgICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgICAgICAgIHBsYW46IG5ld1BsYW4sXG4gICAgICAgICAgICAgIHByZXZpb3VzUGxhbjogY3VycmVudFVzYWdlPy5wbGFuIHx8ICdmcmVlJyxcbiAgICAgICAgICAgICAgLi4ubmV3UGxhbkxpbWl0cyxcbiAgICAgICAgICAgICAgbGFzdFJlc2V0OiB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgIHVwZGF0ZWRBdDogdGltZXN0YW1wLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGN1cnJlbnRVc2FnZT8uY3JlYXRlZEF0IHx8IHRpbWVzdGFtcFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBzZXJ0IHRoZSB1c2FnZSBkb2N1bWVudFxuICAgICAgICAgICAgYXdhaXQgdXNhZ2VDb250YWluZXIuaXRlbXMudXBzZXJ0KHVzYWdlRG9jdW1lbnQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwcm9jZXNzZWRVc2Vycy5wdXNoKHtcbiAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICBvbGRQbGFuOiBjdXJyZW50VXNhZ2U/LnBsYW4gfHwgJ2ZyZWUnLFxuICAgICAgICAgICAgICBuZXdQbGFuLFxuICAgICAgICAgICAgICByZXNldEF0OiB0aW1lc3RhbXBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb250ZXh0LmxvZyhgVXNhZ2UgY291bnRlcnMgcmVzZXQgZm9yIHVzZXI6ICR7dXNlcklkfSwgcGxhbiBjaGFuZ2VkIGZyb20gJHtjdXJyZW50VXNhZ2U/LnBsYW4gfHwgJ2ZyZWUnfSB0byAke25ld1BsYW59YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoICh1c2FnZUVycm9yKSB7XG4gICAgICAgICAgLy8gSWYgdXNhZ2UgZG9jdW1lbnQgZG9lc24ndCBleGlzdCwgY3JlYXRlIGl0XG4gICAgICAgICAgaWYgKHVzYWdlRXJyb3IuY29kZSA9PT0gNDA0KSB7XG4gICAgICAgICAgICBjb25zdCBuZXdQbGFuTGltaXRzID0gUExBTl9MSU1JVFNbbmV3UGxhbl0gfHwgUExBTl9MSU1JVFMuZnJlZTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgdXNhZ2VEb2N1bWVudCA9IHtcbiAgICAgICAgICAgICAgaWQ6IHVzZXJJZCxcbiAgICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgICAgICAgIHBsYW46IG5ld1BsYW4sXG4gICAgICAgICAgICAgIHByZXZpb3VzUGxhbjogJ2ZyZWUnLFxuICAgICAgICAgICAgICAuLi5uZXdQbGFuTGltaXRzLFxuICAgICAgICAgICAgICBsYXN0UmVzZXQ6IHRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgdXBkYXRlZEF0OiB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgIGNyZWF0ZWRBdDogdGltZXN0YW1wXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBhd2FpdCB1c2FnZUNvbnRhaW5lci5pdGVtcy5jcmVhdGUodXNhZ2VEb2N1bWVudCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHByb2Nlc3NlZFVzZXJzLnB1c2goe1xuICAgICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAgIG9sZFBsYW46ICdmcmVlJyxcbiAgICAgICAgICAgICAgbmV3UGxhbixcbiAgICAgICAgICAgICAgcmVzZXRBdDogdGltZXN0YW1wXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29udGV4dC5sb2coYEluaXRpYWwgdXNhZ2UgY291bnRlcnMgY3JlYXRlZCBmb3IgdXNlcjogJHt1c2VySWR9LCBwbGFuOiAke25ld1BsYW59YCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQubG9nLmVycm9yKGBFcnJvciBwcm9jZXNzaW5nIHVzYWdlIGZvciB1c2VyICR7dXNlcklkfTpgLCB1c2FnZUVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgY29udGV4dC5sb2coYFByb2Nlc3NlZCAke3Byb2Nlc3NlZFVzZXJzLmxlbmd0aH0gcGxhbiBjaGFuZ2VzIGluICR7ZHVyYXRpb259bXM6YCwgXG4gICAgICBwcm9jZXNzZWRVc2Vycy5tYXAodSA9PiBgJHt1LnVzZXJJZH06ICR7dS5vbGRQbGFufSDihpIgJHt1Lm5ld1BsYW59YCkuam9pbignLCAnKSk7XG5cbiAgICAvLyBSZXR1cm4gc3VtbWFyeSBmb3IgbW9uaXRvcmluZ1xuICAgIHJldHVybiB7XG4gICAgICBwcm9jZXNzZWRDb3VudDogcHJvY2Vzc2VkVXNlcnMubGVuZ3RoLFxuICAgICAgdG90YWxEb2N1bWVudHM6IGRvY3VtZW50cy5sZW5ndGgsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIGNoYW5nZXM6IHByb2Nlc3NlZFVzZXJzXG4gICAgfTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICBjb250ZXh0LmxvZy5lcnJvcihgRXJyb3IgcHJvY2Vzc2luZyBwbGFuIGNoYW5nZXMgKCR7ZHVyYXRpb259bXMpOmAsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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