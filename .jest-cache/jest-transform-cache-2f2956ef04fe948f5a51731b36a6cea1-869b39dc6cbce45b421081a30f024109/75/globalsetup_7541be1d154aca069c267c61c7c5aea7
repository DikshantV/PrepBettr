227dc725a62752735d0228218f1b478a
"use strict";
/**
 * Global Jest Setup for PrepBettr Testing Suite
 *
 * Sets up global test environment, mocks, and shared utilities
 * that are needed across all test files.
 */
Object.defineProperty(exports, "__esModule", { value: true });
// import 'jest-extended';
// Mock Next.js environment variables
process.env.NODE_ENV = 'test';
process.env.NEXT_PUBLIC_APP_URL = 'http://localhost:3000';
process.env.NEXT_PUBLIC_ENVIRONMENT = 'test';
// Mock Azure environment variables
process.env.AZURE_OPENAI_KEY = 'test-azure-openai-key';
process.env.AZURE_OPENAI_ENDPOINT = 'https://test-openai.openai.azure.com';
process.env.AZURE_OPENAI_DEPLOYMENT = 'test-deployment';
process.env.AZURE_SPEECH_KEY = 'test-speech-key';
process.env.AZURE_SPEECH_REGION = 'eastus';
process.env.AZURE_KEY_VAULT_URI = 'https://test-keyvault.vault.azure.net/';
// Mock Firebase environment variables
process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID = 'test-project';
process.env.NEXT_PUBLIC_FIREBASE_API_KEY = 'test-api-key';
process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN = 'test-project.firebaseapp.com';
process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET = 'test-project.appspot.com';
process.env.FIREBASE_ADMIN_PRIVATE_KEY = 'test-private-key';
process.env.FIREBASE_ADMIN_CLIENT_EMAIL = 'test@test-project.iam.gserviceaccount.com';
// Mock Dodo Payments
process.env.DODO_API_KEY = 'test-dodo-api-key';
// Suppress console warnings in tests
const originalWarn = console.warn;
const originalError = console.error;
beforeAll(() => {
    console.warn = jest.fn((message) => {
        // Only suppress specific warnings we expect in tests
        if (typeof message === 'string' && (message.includes('Warning: ReactDOM.render is deprecated') ||
            message.includes('Warning: componentWillReceiveProps') ||
            message.includes('gRPC') ||
            message.includes('FIRESTORE_PREFER_REST'))) {
            return;
        }
        originalWarn(message);
    });
    console.error = jest.fn((message) => {
        // Only suppress specific errors we expect in tests
        if (typeof message === 'string' && (message.includes('Firebase Admin SDK') ||
            message.includes('GRPC_VERBOSITY'))) {
            return;
        }
        originalError(message);
    });
});
afterAll(() => {
    console.warn = originalWarn;
    console.error = originalError;
});
// Mock WebSocket for voice tests
global.WebSocket = jest.fn().mockImplementation(() => ({
    readyState: 1,
    send: jest.fn(),
    close: jest.fn(),
    addEventListener: jest.fn(),
    removeEventListener: jest.fn(),
}));
// Mock MediaDevices API for audio tests
Object.defineProperty(global.navigator, 'mediaDevices', {
    writable: true,
    value: {
        getUserMedia: jest.fn().mockResolvedValue({
            getAudioTracks: () => [{
                    stop: jest.fn(),
                    enabled: true
                }],
            getTracks: () => [{
                    stop: jest.fn(),
                    enabled: true
                }]
        })
    }
});
// Mock AudioContext
global.AudioContext = jest.fn().mockImplementation(() => ({
    createAnalyser: jest.fn(() => ({
        connect: jest.fn(),
        disconnect: jest.fn(),
        fftSize: 256,
        frequencyBinCount: 128,
        getByteFrequencyData: jest.fn(),
        getFloatFrequencyData: jest.fn(),
    })),
    createGain: jest.fn(() => ({
        connect: jest.fn(),
        disconnect: jest.fn(),
        gain: { value: 1 }
    })),
    createMediaStreamSource: jest.fn(() => ({
        connect: jest.fn(),
        disconnect: jest.fn()
    })),
    destination: {},
    close: jest.fn().mockResolvedValue(undefined),
    state: 'running'
}));
// Mock performance API
Object.defineProperty(global, 'performance', {
    writable: true,
    value: {
        now: jest.fn(() => Date.now()),
        mark: jest.fn(),
        measure: jest.fn(),
        getEntriesByName: jest.fn(() => []),
        getEntriesByType: jest.fn(() => []),
    }
});
// Setup global fetch mock
global.fetch = jest.fn();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2Rpa3NoYW50dmFzaGlzdGhhL1ByZXBCZXR0ci90ZXN0cy9zZXR1cC9nbG9iYWwtc2V0dXAudHMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7OztHQUtHOztBQUVILDBCQUEwQjtBQUUxQixxQ0FBcUM7QUFDckMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDO0FBQzlCLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEdBQUcsdUJBQXVCLENBQUM7QUFDMUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsR0FBRyxNQUFNLENBQUM7QUFFN0MsbUNBQW1DO0FBQ25DLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEdBQUcsdUJBQXVCLENBQUM7QUFDdkQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsR0FBRyxzQ0FBc0MsQ0FBQztBQUMzRSxPQUFPLENBQUMsR0FBRyxDQUFDLHVCQUF1QixHQUFHLGlCQUFpQixDQUFDO0FBQ3hELE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEdBQUcsaUJBQWlCLENBQUM7QUFDakQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsR0FBRyxRQUFRLENBQUM7QUFDM0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsR0FBRyx3Q0FBd0MsQ0FBQztBQUUzRSxzQ0FBc0M7QUFDdEMsT0FBTyxDQUFDLEdBQUcsQ0FBQywrQkFBK0IsR0FBRyxjQUFjLENBQUM7QUFDN0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyw0QkFBNEIsR0FBRyxjQUFjLENBQUM7QUFDMUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQ0FBZ0MsR0FBRyw4QkFBOEIsQ0FBQztBQUM5RSxPQUFPLENBQUMsR0FBRyxDQUFDLG1DQUFtQyxHQUFHLDBCQUEwQixDQUFDO0FBQzdFLE9BQU8sQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEdBQUcsa0JBQWtCLENBQUM7QUFDNUQsT0FBTyxDQUFDLEdBQUcsQ0FBQywyQkFBMkIsR0FBRywyQ0FBMkMsQ0FBQztBQUV0RixxQkFB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QUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQztRQUNuQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQztLQUNwQztDQUNGLENBQUMsQ0FBQztBQUVILDBCQUEwQjtBQUMxQixNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvZGlrc2hhbnR2YXNoaXN0aGEvUHJlcEJldHRyL3Rlc3RzL3NldHVwL2dsb2JhbC1zZXR1cC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdsb2JhbCBKZXN0IFNldHVwIGZvciBQcmVwQmV0dHIgVGVzdGluZyBTdWl0ZVxuICogXG4gKiBTZXRzIHVwIGdsb2JhbCB0ZXN0IGVudmlyb25tZW50LCBtb2NrcywgYW5kIHNoYXJlZCB1dGlsaXRpZXNcbiAqIHRoYXQgYXJlIG5lZWRlZCBhY3Jvc3MgYWxsIHRlc3QgZmlsZXMuXG4gKi9cblxuLy8gaW1wb3J0ICdqZXN0LWV4dGVuZGVkJztcblxuLy8gTW9jayBOZXh0LmpzIGVudmlyb25tZW50IHZhcmlhYmxlc1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgPSAndGVzdCc7XG5wcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBfVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCc7XG5wcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19FTlZJUk9OTUVOVCA9ICd0ZXN0JztcblxuLy8gTW9jayBBenVyZSBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbnByb2Nlc3MuZW52LkFaVVJFX09QRU5BSV9LRVkgPSAndGVzdC1henVyZS1vcGVuYWkta2V5JztcbnByb2Nlc3MuZW52LkFaVVJFX09QRU5BSV9FTkRQT0lOVCA9ICdodHRwczovL3Rlc3Qtb3BlbmFpLm9wZW5haS5henVyZS5jb20nO1xucHJvY2Vzcy5lbnYuQVpVUkVfT1BFTkFJX0RFUExPWU1FTlQgPSAndGVzdC1kZXBsb3ltZW50JztcbnByb2Nlc3MuZW52LkFaVVJFX1NQRUVDSF9LRVkgPSAndGVzdC1zcGVlY2gta2V5JztcbnByb2Nlc3MuZW52LkFaVVJFX1NQRUVDSF9SRUdJT04gPSAnZWFzdHVzJztcbnByb2Nlc3MuZW52LkFaVVJFX0tFWV9WQVVMVF9VUkkgPSAnaHR0cHM6Ly90ZXN0LWtleXZhdWx0LnZhdWx0LmF6dXJlLm5ldC8nO1xuXG4vLyBNb2NrIEZpcmViYXNlIGVudmlyb25tZW50IHZhcmlhYmxlc1xucHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRCA9ICd0ZXN0LXByb2plY3QnO1xucHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWSA9ICd0ZXN0LWFwaS1rZXknO1xucHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVVUSF9ET01BSU4gPSAndGVzdC1wcm9qZWN0LmZpcmViYXNlYXBwLmNvbSc7XG5wcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9TVE9SQUdFX0JVQ0tFVCA9ICd0ZXN0LXByb2plY3QuYXBwc3BvdC5jb20nO1xucHJvY2Vzcy5lbnYuRklSRUJBU0VfQURNSU5fUFJJVkFURV9LRVkgPSAndGVzdC1wcml2YXRlLWtleSc7XG5wcm9jZXNzLmVudi5GSVJFQkFTRV9BRE1JTl9DTElFTlRfRU1BSUwgPSAndGVzdEB0ZXN0LXByb2plY3QuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20nO1xuXG4vLyBNb2NrIERvZG8gUGF5bWVudHNcbnByb2Nlc3MuZW52LkRPRE9fQVBJX0tFWSA9ICd0ZXN0LWRvZG8tYXBpLWtleSc7XG5cbi8vIFN1cHByZXNzIGNvbnNvbGUgd2FybmluZ3MgaW4gdGVzdHNcbmNvbnN0IG9yaWdpbmFsV2FybiA9IGNvbnNvbGUud2FybjtcbmNvbnN0IG9yaWdpbmFsRXJyb3IgPSBjb25zb2xlLmVycm9yO1xuXG5iZWZvcmVBbGwoKCkgPT4ge1xuICBjb25zb2xlLndhcm4gPSBqZXN0LmZuKChtZXNzYWdlKSA9PiB7XG4gICAgLy8gT25seSBzdXBwcmVzcyBzcGVjaWZpYyB3YXJuaW5ncyB3ZSBleHBlY3QgaW4gdGVzdHNcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycgJiYgKFxuICAgICAgICBtZXNzYWdlLmluY2x1ZGVzKCdXYXJuaW5nOiBSZWFjdERPTS5yZW5kZXIgaXMgZGVwcmVjYXRlZCcpIHx8XG4gICAgICAgIG1lc3NhZ2UuaW5jbHVkZXMoJ1dhcm5pbmc6IGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnKSB8fFxuICAgICAgICBtZXNzYWdlLmluY2x1ZGVzKCdnUlBDJykgfHxcbiAgICAgICAgbWVzc2FnZS5pbmNsdWRlcygnRklSRVNUT1JFX1BSRUZFUl9SRVNUJylcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgb3JpZ2luYWxXYXJuKG1lc3NhZ2UpO1xuICB9KTtcblxuICBjb25zb2xlLmVycm9yID0gamVzdC5mbigobWVzc2FnZSkgPT4ge1xuICAgIC8vIE9ubHkgc3VwcHJlc3Mgc3BlY2lmaWMgZXJyb3JzIHdlIGV4cGVjdCBpbiB0ZXN0c1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJyAmJiAoXG4gICAgICAgIG1lc3NhZ2UuaW5jbHVkZXMoJ0ZpcmViYXNlIEFkbWluIFNESycpIHx8XG4gICAgICAgIG1lc3NhZ2UuaW5jbHVkZXMoJ0dSUENfVkVSQk9TSVRZJylcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgb3JpZ2luYWxFcnJvcihtZXNzYWdlKTtcbiAgfSk7XG59KTtcblxuYWZ0ZXJBbGwoKCkgPT4ge1xuICBjb25zb2xlLndhcm4gPSBvcmlnaW5hbFdhcm47XG4gIGNvbnNvbGUuZXJyb3IgPSBvcmlnaW5hbEVycm9yO1xufSk7XG5cbi8vIE1vY2sgV2ViU29ja2V0IGZvciB2b2ljZSB0ZXN0c1xuZ2xvYmFsLldlYlNvY2tldCA9IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcbiAgcmVhZHlTdGF0ZTogMSxcbiAgc2VuZDogamVzdC5mbigpLFxuICBjbG9zZTogamVzdC5mbigpLFxuICBhZGRFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gTW9jayBNZWRpYURldmljZXMgQVBJIGZvciBhdWRpbyB0ZXN0c1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbC5uYXZpZ2F0b3IsICdtZWRpYURldmljZXMnLCB7XG4gIHdyaXRhYmxlOiB0cnVlLFxuICB2YWx1ZToge1xuICAgIGdldFVzZXJNZWRpYTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGdldEF1ZGlvVHJhY2tzOiAoKSA9PiBbe1xuICAgICAgICBzdG9wOiBqZXN0LmZuKCksXG4gICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgIH1dLFxuICAgICAgZ2V0VHJhY2tzOiAoKSA9PiBbe1xuICAgICAgICBzdG9wOiBqZXN0LmZuKCksXG4gICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgIH1dXG4gICAgfSlcbiAgfVxufSk7XG5cbi8vIE1vY2sgQXVkaW9Db250ZXh0XG5nbG9iYWwuQXVkaW9Db250ZXh0ID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICBjcmVhdGVBbmFseXNlcjogamVzdC5mbigoKSA9PiAoe1xuICAgIGNvbm5lY3Q6IGplc3QuZm4oKSxcbiAgICBkaXNjb25uZWN0OiBqZXN0LmZuKCksXG4gICAgZmZ0U2l6ZTogMjU2LFxuICAgIGZyZXF1ZW5jeUJpbkNvdW50OiAxMjgsXG4gICAgZ2V0Qnl0ZUZyZXF1ZW5jeURhdGE6IGplc3QuZm4oKSxcbiAgICBnZXRGbG9hdEZyZXF1ZW5jeURhdGE6IGplc3QuZm4oKSxcbiAgfSkpLFxuICBjcmVhdGVHYWluOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgY29ubmVjdDogamVzdC5mbigpLFxuICAgIGRpc2Nvbm5lY3Q6IGplc3QuZm4oKSxcbiAgICBnYWluOiB7IHZhbHVlOiAxIH1cbiAgfSkpLFxuICBjcmVhdGVNZWRpYVN0cmVhbVNvdXJjZTogamVzdC5mbigoKSA9PiAoe1xuICAgIGNvbm5lY3Q6IGplc3QuZm4oKSxcbiAgICBkaXNjb25uZWN0OiBqZXN0LmZuKClcbiAgfSkpLFxuICBkZXN0aW5hdGlvbjoge30sXG4gIGNsb3NlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcbiAgc3RhdGU6ICdydW5uaW5nJ1xufSkpO1xuXG4vLyBNb2NrIHBlcmZvcm1hbmNlIEFQSVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbCwgJ3BlcmZvcm1hbmNlJywge1xuICB3cml0YWJsZTogdHJ1ZSxcbiAgdmFsdWU6IHtcbiAgICBub3c6IGplc3QuZm4oKCkgPT4gRGF0ZS5ub3coKSksXG4gICAgbWFyazogamVzdC5mbigpLFxuICAgIG1lYXN1cmU6IGplc3QuZm4oKSxcbiAgICBnZXRFbnRyaWVzQnlOYW1lOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgICBnZXRFbnRyaWVzQnlUeXBlOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgfVxufSk7XG5cbi8vIFNldHVwIGdsb2JhbCBmZXRjaCBtb2NrXG5nbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCk7XG5cbmV4cG9ydCB7fTtcbiJdLCJ2ZXJzaW9uIjozfQ==