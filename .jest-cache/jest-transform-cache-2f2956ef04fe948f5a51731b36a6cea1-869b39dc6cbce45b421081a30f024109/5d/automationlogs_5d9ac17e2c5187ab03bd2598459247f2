8e4ab9a7fe97480b948a4a6b947ce9ef
/* istanbul ignore next */
function cov_10y9upgzjz() {
  var path = "/Users/dikshantvashistha/PrepBettr/azure/lib/services/automation-logs.js";
  var hash = "5a2857d4661f97f88c7af34bfed17f8d962d1a7b";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/dikshantvashistha/PrepBettr/azure/lib/services/automation-logs.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 21
        },
        end: {
          line: 1,
          column: 47
        }
      },
      "1": {
        start: {
          line: 2,
          column: 23
        },
        end: {
          line: 2,
          column: 38
        }
      },
      "2": {
        start: {
          line: 6,
          column: 8
        },
        end: {
          line: 6,
          column: 42
        }
      },
      "3": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 22,
          column: 10
        }
      },
      "4": {
        start: {
          line: 29,
          column: 22
        },
        end: {
          line: 41,
          column: 9
        }
      },
      "5": {
        start: {
          line: 43,
          column: 8
        },
        end: {
          line: 43,
          column: 35
        }
      },
      "6": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 44,
          column: 21
        }
      },
      "7": {
        start: {
          line: 51,
          column: 22
        },
        end: {
          line: 61,
          column: 9
        }
      },
      "8": {
        start: {
          line: 63,
          column: 8
        },
        end: {
          line: 63,
          column: 35
        }
      },
      "9": {
        start: {
          line: 64,
          column: 8
        },
        end: {
          line: 64,
          column: 21
        }
      },
      "10": {
        start: {
          line: 71,
          column: 22
        },
        end: {
          line: 81,
          column: 9
        }
      },
      "11": {
        start: {
          line: 83,
          column: 8
        },
        end: {
          line: 83,
          column: 35
        }
      },
      "12": {
        start: {
          line: 84,
          column: 8
        },
        end: {
          line: 84,
          column: 21
        }
      },
      "13": {
        start: {
          line: 91,
          column: 22
        },
        end: {
          line: 100,
          column: 9
        }
      },
      "14": {
        start: {
          line: 102,
          column: 8
        },
        end: {
          line: 102,
          column: 35
        }
      },
      "15": {
        start: {
          line: 103,
          column: 8
        },
        end: {
          line: 103,
          column: 21
        }
      },
      "16": {
        start: {
          line: 110,
          column: 22
        },
        end: {
          line: 120,
          column: 9
        }
      },
      "17": {
        start: {
          line: 122,
          column: 8
        },
        end: {
          line: 122,
          column: 35
        }
      },
      "18": {
        start: {
          line: 123,
          column: 8
        },
        end: {
          line: 123,
          column: 21
        }
      },
      "19": {
        start: {
          line: 130,
          column: 22
        },
        end: {
          line: 135,
          column: 9
        }
      },
      "20": {
        start: {
          line: 137,
          column: 8
        },
        end: {
          line: 137,
          column: 35
        }
      },
      "21": {
        start: {
          line: 138,
          column: 8
        },
        end: {
          line: 138,
          column: 21
        }
      },
      "22": {
        start: {
          line: 145,
          column: 22
        },
        end: {
          line: 150,
          column: 9
        }
      },
      "23": {
        start: {
          line: 152,
          column: 8
        },
        end: {
          line: 152,
          column: 35
        }
      },
      "24": {
        start: {
          line: 153,
          column: 8
        },
        end: {
          line: 153,
          column: 21
        }
      },
      "25": {
        start: {
          line: 160,
          column: 8
        },
        end: {
          line: 178,
          column: 9
        }
      },
      "26": {
        start: {
          line: 161,
          column: 12
        },
        end: {
          line: 163,
          column: 15
        }
      },
      "27": {
        start: {
          line: 166,
          column: 26
        },
        end: {
          line: 166,
          column: 66
        }
      },
      "28": {
        start: {
          line: 167,
          column: 12
        },
        end: {
          line: 167,
          column: 112
        }
      },
      "29": {
        start: {
          line: 170,
          column: 12
        },
        end: {
          line: 172,
          column: 13
        }
      },
      "30": {
        start: {
          line: 171,
          column: 16
        },
        end: {
          line: 171,
          column: 57
        }
      },
      "31": {
        start: {
          line: 175,
          column: 12
        },
        end: {
          line: 175,
          column: 68
        }
      },
      "32": {
        start: {
          line: 177,
          column: 12
        },
        end: {
          line: 177,
          column: 111
        }
      },
      "33": {
        start: {
          line: 185,
          column: 8
        },
        end: {
          line: 194,
          column: 9
        }
      },
      "34": {
        start: {
          line: 187,
          column: 16
        },
        end: {
          line: 187,
          column: 31
        }
      },
      "35": {
        start: {
          line: 189,
          column: 16
        },
        end: {
          line: 189,
          column: 30
        }
      },
      "36": {
        start: {
          line: 193,
          column: 16
        },
        end: {
          line: 193,
          column: 29
        }
      },
      "37": {
        start: {
          line: 201,
          column: 8
        },
        end: {
          line: 223,
          column: 9
        }
      },
      "38": {
        start: {
          line: 203,
          column: 30
        },
        end: {
          line: 213,
          column: 13
        }
      },
      "39": {
        start: {
          line: 216,
          column: 12
        },
        end: {
          line: 220,
          column: 13
        }
      },
      "40": {
        start: {
          line: 217,
          column: 16
        },
        end: {
          line: 217,
          column: 75
        }
      },
      "41": {
        start: {
          line: 219,
          column: 16
        },
        end: {
          line: 219,
          column: 73
        }
      },
      "42": {
        start: {
          line: 222,
          column: 12
        },
        end: {
          line: 222,
          column: 76
        }
      },
      "43": {
        start: {
          line: 230,
          column: 8
        },
        end: {
          line: 238,
          column: 9
        }
      },
      "44": {
        start: {
          line: 233,
          column: 12
        },
        end: {
          line: 233,
          column: 69
        }
      },
      "45": {
        start: {
          line: 234,
          column: 12
        },
        end: {
          line: 234,
          column: 22
        }
      },
      "46": {
        start: {
          line: 236,
          column: 12
        },
        end: {
          line: 236,
          column: 68
        }
      },
      "47": {
        start: {
          line: 237,
          column: 12
        },
        end: {
          line: 237,
          column: 22
        }
      },
      "48": {
        start: {
          line: 245,
          column: 8
        },
        end: {
          line: 258,
          column: 9
        }
      },
      "49": {
        start: {
          line: 246,
          column: 12
        },
        end: {
          line: 246,
          column: 84
        }
      },
      "50": {
        start: {
          line: 248,
          column: 12
        },
        end: {
          line: 254,
          column: 14
        }
      },
      "51": {
        start: {
          line: 256,
          column: 12
        },
        end: {
          line: 256,
          column: 66
        }
      },
      "52": {
        start: {
          line: 257,
          column: 12
        },
        end: {
          line: 257,
          column: 24
        }
      },
      "53": {
        start: {
          line: 262,
          column: 0
        },
        end: {
          line: 262,
          column: 40
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 5,
            column: 4
          },
          end: {
            line: 5,
            column: 5
          }
        },
        loc: {
          start: {
            line: 5,
            column: 18
          },
          end: {
            line: 7,
            column: 5
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 58
          },
          end: {
            line: 23,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 28,
            column: 4
          },
          end: {
            line: 28,
            column: 5
          }
        },
        loc: {
          start: {
            line: 28,
            column: 54
          },
          end: {
            line: 45,
            column: 5
          }
        },
        line: 28
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 50,
            column: 4
          },
          end: {
            line: 50,
            column: 5
          }
        },
        loc: {
          start: {
            line: 50,
            column: 49
          },
          end: {
            line: 65,
            column: 5
          }
        },
        line: 50
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 70,
            column: 4
          },
          end: {
            line: 70,
            column: 5
          }
        },
        loc: {
          start: {
            line: 70,
            column: 68
          },
          end: {
            line: 85,
            column: 5
          }
        },
        line: 70
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 90,
            column: 4
          },
          end: {
            line: 90,
            column: 5
          }
        },
        loc: {
          start: {
            line: 90,
            column: 63
          },
          end: {
            line: 104,
            column: 5
          }
        },
        line: 90
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 109,
            column: 4
          },
          end: {
            line: 109,
            column: 5
          }
        },
        loc: {
          start: {
            line: 109,
            column: 48
          },
          end: {
            line: 124,
            column: 5
          }
        },
        line: 109
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 129,
            column: 4
          },
          end: {
            line: 129,
            column: 5
          }
        },
        loc: {
          start: {
            line: 129,
            column: 52
          },
          end: {
            line: 139,
            column: 5
          }
        },
        line: 129
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 144,
            column: 4
          },
          end: {
            line: 144,
            column: 5
          }
        },
        loc: {
          start: {
            line: 144,
            column: 49
          },
          end: {
            line: 154,
            column: 5
          }
        },
        line: 144
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 159,
            column: 4
          },
          end: {
            line: 159,
            column: 5
          }
        },
        loc: {
          start: {
            line: 159,
            column: 29
          },
          end: {
            line: 179,
            column: 5
          }
        },
        line: 159
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 184,
            column: 4
          },
          end: {
            line: 184,
            column: 5
          }
        },
        loc: {
          start: {
            line: 184,
            column: 31
          },
          end: {
            line: 195,
            column: 5
          }
        },
        line: 184
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 200,
            column: 4
          },
          end: {
            line: 200,
            column: 5
          }
        },
        loc: {
          start: {
            line: 200,
            column: 40
          },
          end: {
            line: 224,
            column: 5
          }
        },
        line: 200
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 229,
            column: 4
          },
          end: {
            line: 229,
            column: 5
          }
        },
        loc: {
          start: {
            line: 229,
            column: 44
          },
          end: {
            line: 239,
            column: 5
          }
        },
        line: 229
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 244,
            column: 4
          },
          end: {
            line: 244,
            column: 5
          }
        },
        loc: {
          start: {
            line: 244,
            column: 49
          },
          end: {
            line: 259,
            column: 5
          }
        },
        line: 244
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 12,
            column: 44
          },
          end: {
            line: 12,
            column: 56
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 12,
            column: 54
          },
          end: {
            line: 12,
            column: 56
          }
        }],
        line: 12
      },
      "1": {
        loc: {
          start: {
            line: 20,
            column: 26
          },
          end: {
            line: 20,
            column: 71
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 20,
            column: 26
          },
          end: {
            line: 20,
            column: 58
          }
        }, {
          start: {
            line: 20,
            column: 62
          },
          end: {
            line: 20,
            column: 71
          }
        }],
        line: 20
      },
      "2": {
        loc: {
          start: {
            line: 21,
            column: 26
          },
          end: {
            line: 21,
            column: 63
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 21,
            column: 26
          },
          end: {
            line: 21,
            column: 51
          }
        }, {
          start: {
            line: 21,
            column: 55
          },
          end: {
            line: 21,
            column: 63
          }
        }],
        line: 21
      },
      "3": {
        loc: {
          start: {
            line: 73,
            column: 12
          },
          end: {
            line: 73,
            column: 59
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 73,
            column: 40
          },
          end: {
            line: 73,
            column: 49
          }
        }, {
          start: {
            line: 73,
            column: 52
          },
          end: {
            line: 73,
            column: 59
          }
        }],
        line: 73
      },
      "4": {
        loc: {
          start: {
            line: 74,
            column: 12
          },
          end: {
            line: 74,
            column: 75
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 74,
            column: 12
          },
          end: {
            line: 74,
            column: 37
          }
        }, {
          start: {
            line: 74,
            column: 41
          },
          end: {
            line: 74,
            column: 75
          }
        }],
        line: 74
      },
      "5": {
        loc: {
          start: {
            line: 109,
            column: 34
          },
          end: {
            line: 109,
            column: 46
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 109,
            column: 44
          },
          end: {
            line: 109,
            column: 46
          }
        }],
        line: 109
      },
      "6": {
        loc: {
          start: {
            line: 113,
            column: 12
          },
          end: {
            line: 113,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 113,
            column: 12
          },
          end: {
            line: 113,
            column: 25
          }
        }, {
          start: {
            line: 113,
            column: 29
          },
          end: {
            line: 113,
            column: 48
          }
        }],
        line: 113
      },
      "7": {
        loc: {
          start: {
            line: 129,
            column: 38
          },
          end: {
            line: 129,
            column: 50
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 129,
            column: 48
          },
          end: {
            line: 129,
            column: 50
          }
        }],
        line: 129
      },
      "8": {
        loc: {
          start: {
            line: 144,
            column: 35
          },
          end: {
            line: 144,
            column: 47
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 144,
            column: 45
          },
          end: {
            line: 144,
            column: 47
          }
        }],
        line: 144
      },
      "9": {
        loc: {
          start: {
            line: 170,
            column: 12
          },
          end: {
            line: 172,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 170,
            column: 12
          },
          end: {
            line: 172,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 170
      },
      "10": {
        loc: {
          start: {
            line: 185,
            column: 8
          },
          end: {
            line: 194,
            column: 9
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 186,
            column: 12
          },
          end: {
            line: 187,
            column: 31
          }
        }, {
          start: {
            line: 188,
            column: 12
          },
          end: {
            line: 189,
            column: 30
          }
        }, {
          start: {
            line: 190,
            column: 12
          },
          end: {
            line: 190,
            column: 24
          }
        }, {
          start: {
            line: 191,
            column: 12
          },
          end: {
            line: 191,
            column: 27
          }
        }, {
          start: {
            line: 192,
            column: 12
          },
          end: {
            line: 193,
            column: 29
          }
        }],
        line: 185
      },
      "11": {
        loc: {
          start: {
            line: 216,
            column: 12
          },
          end: {
            line: 220,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 216,
            column: 12
          },
          end: {
            line: 220,
            column: 13
          }
        }, {
          start: {
            line: 218,
            column: 19
          },
          end: {
            line: 220,
            column: 13
          }
        }],
        line: 216
      },
      "12": {
        loc: {
          start: {
            line: 229,
            column: 32
          },
          end: {
            line: 229,
            column: 42
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 229,
            column: 40
          },
          end: {
            line: 229,
            column: 42
          }
        }],
        line: 229
      },
      "13": {
        loc: {
          start: {
            line: 244,
            column: 30
          },
          end: {
            line: 244,
            column: 47
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 244,
            column: 42
          },
          end: {
            line: 244,
            column: 47
          }
        }],
        line: 244
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0],
      "6": [0, 0],
      "7": [0],
      "8": [0],
      "9": [0, 0],
      "10": [0, 0, 0, 0, 0],
      "11": [0, 0],
      "12": [0],
      "13": [0]
    },
    inputSourceMap: null,
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "5a2857d4661f97f88c7af34bfed17f8d962d1a7b"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_10y9upgzjz = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_10y9upgzjz();
const queueService =
/* istanbul ignore next */
(cov_10y9upgzjz().s[0]++, require('./queue-service'));
const {
  v4: uuidv4
} =
/* istanbul ignore next */
(cov_10y9upgzjz().s[1]++, require('uuid'));
class AutomationLogger {
  constructor() {
    /* istanbul ignore next */
    cov_10y9upgzjz().f[0]++;
    cov_10y9upgzjz().s[2]++;
    this.logQueue = 'automation-logs';
  }

  /**
   * Create a new automation log entry
   */
  createLogEntry(action, status, message, details =
  /* istanbul ignore next */
  (cov_10y9upgzjz().b[0][0]++, {})) {
    /* istanbul ignore next */
    cov_10y9upgzjz().f[1]++;
    cov_10y9upgzjz().s[3]++;
    return {
      id: uuidv4(),
      timestamp: new Date().toISOString(),
      action: action,
      status: status,
      message: message,
      details: details,
      functionName:
      /* istanbul ignore next */
      (cov_10y9upgzjz().b[1][0]++, process.env.AZURE_FUNCTIONS_NAME) ||
      /* istanbul ignore next */
      (cov_10y9upgzjz().b[1][1]++, 'unknown'),
      invocationId:
      /* istanbul ignore next */
      (cov_10y9upgzjz().b[2][0]++, process.env.INVOCATION_ID) ||
      /* istanbul ignore next */
      (cov_10y9upgzjz().b[2][1]++, uuidv4())
    };
  }

  /**
   * Log a job discovery event
   */
  async logJobDiscovered(userId, jobId, jobDetails) {
    /* istanbul ignore next */
    cov_10y9upgzjz().f[2]++;
    const entry =
    /* istanbul ignore next */
    (cov_10y9upgzjz().s[4]++, this.createLogEntry('job_discovered', 'info', `New job discovered: ${jobDetails.title} at ${jobDetails.company}`, {
      userId,
      jobId,
      company: jobDetails.company,
      title: jobDetails.title,
      portal: jobDetails.jobPortal?.name,
      relevancyScore: jobDetails.relevancyScore
    }));
    /* istanbul ignore next */
    cov_10y9upgzjz().s[5]++;
    await this.writeLog(entry);
    /* istanbul ignore next */
    cov_10y9upgzjz().s[6]++;
    return entry;
  }

  /**
   * Log a job search operation
   */
  async logJobSearch(userId, filters, results) {
    /* istanbul ignore next */
    cov_10y9upgzjz().f[3]++;
    const entry =
    /* istanbul ignore next */
    (cov_10y9upgzjz().s[7]++, this.createLogEntry('job_search_completed', 'success', `Job search completed: Found ${results.jobs.length} jobs`, {
      userId,
      filters,
      resultsCount: results.jobs.length,
      searchedPortals: filters.portals
    }));
    /* istanbul ignore next */
    cov_10y9upgzjz().s[8]++;
    await this.writeLog(entry);
    /* istanbul ignore next */
    cov_10y9upgzjz().s[9]++;
    return entry;
  }

  /**
   * Log an application submission
   */
  async logApplicationSubmitted(userId, jobId, applicationResult) {
    /* istanbul ignore next */
    cov_10y9upgzjz().f[4]++;
    const entry =
    /* istanbul ignore next */
    (cov_10y9upgzjz().s[10]++, this.createLogEntry('application_submitted', applicationResult.success ?
    /* istanbul ignore next */
    (cov_10y9upgzjz().b[3][0]++, 'success') :
    /* istanbul ignore next */
    (cov_10y9upgzjz().b[3][1]++, 'error'),
    /* istanbul ignore next */
    (cov_10y9upgzjz().b[4][0]++, applicationResult.message) ||
    /* istanbul ignore next */
    (cov_10y9upgzjz().b[4][1]++, 'Application processing completed'), {
      userId,
      jobId,
      applicationId: applicationResult.applicationId,
      success: applicationResult.success
    }));
    /* istanbul ignore next */
    cov_10y9upgzjz().s[11]++;
    await this.writeLog(entry);
    /* istanbul ignore next */
    cov_10y9upgzjz().s[12]++;
    return entry;
  }

  /**
   * Log a follow-up action
   */
  async logFollowUpSent(userId, applicationId, followUpType) {
    /* istanbul ignore next */
    cov_10y9upgzjz().f[5]++;
    const entry =
    /* istanbul ignore next */
    (cov_10y9upgzjz().s[13]++, this.createLogEntry('follow_up_sent', 'success', `Follow-up sent: ${followUpType}`, {
      userId,
      applicationId,
      followUpType
    }));
    /* istanbul ignore next */
    cov_10y9upgzjz().s[14]++;
    await this.writeLog(entry);
    /* istanbul ignore next */
    cov_10y9upgzjz().s[15]++;
    return entry;
  }

  /**
   * Log an error
   */
  async logError(action, error, details =
  /* istanbul ignore next */
  (cov_10y9upgzjz().b[5][0]++, {})) {
    /* istanbul ignore next */
    cov_10y9upgzjz().f[6]++;
    const entry =
    /* istanbul ignore next */
    (cov_10y9upgzjz().s[16]++, this.createLogEntry(action, 'error',
    /* istanbul ignore next */
    (cov_10y9upgzjz().b[6][0]++, error.message) ||
    /* istanbul ignore next */
    (cov_10y9upgzjz().b[6][1]++, 'An error occurred'), {
      ...details,
      errorName: error.name,
      errorStack: error.stack,
      errorCode: error.code
    }));
    /* istanbul ignore next */
    cov_10y9upgzjz().s[17]++;
    await this.writeLog(entry);
    /* istanbul ignore next */
    cov_10y9upgzjz().s[18]++;
    return entry;
  }

  /**
   * Log a warning
   */
  async logWarning(action, message, details =
  /* istanbul ignore next */
  (cov_10y9upgzjz().b[7][0]++, {})) {
    /* istanbul ignore next */
    cov_10y9upgzjz().f[7]++;
    const entry =
    /* istanbul ignore next */
    (cov_10y9upgzjz().s[19]++, this.createLogEntry(action, 'warning', message, details));
    /* istanbul ignore next */
    cov_10y9upgzjz().s[20]++;
    await this.writeLog(entry);
    /* istanbul ignore next */
    cov_10y9upgzjz().s[21]++;
    return entry;
  }

  /**
   * Log general information
   */
  async logInfo(action, message, details =
  /* istanbul ignore next */
  (cov_10y9upgzjz().b[8][0]++, {})) {
    /* istanbul ignore next */
    cov_10y9upgzjz().f[8]++;
    const entry =
    /* istanbul ignore next */
    (cov_10y9upgzjz().s[22]++, this.createLogEntry(action, 'info', message, details));
    /* istanbul ignore next */
    cov_10y9upgzjz().s[23]++;
    await this.writeLog(entry);
    /* istanbul ignore next */
    cov_10y9upgzjz().s[24]++;
    return entry;
  }

  /**
   * Write log entry to queue
   */
  async writeLog(logEntry) {
    /* istanbul ignore next */
    cov_10y9upgzjz().f[9]++;
    cov_10y9upgzjz().s[25]++;
    try {
      /* istanbul ignore next */
      cov_10y9upgzjz().s[26]++;
      await queueService.addMessage(this.logQueue, logEntry, {
        timeToLive: 2592000 // 30 days
      });

      // Also write to console for immediate visibility
      const level =
      /* istanbul ignore next */
      (cov_10y9upgzjz().s[27]++, this.getConsoleLogLevel(logEntry.status));
      /* istanbul ignore next */
      cov_10y9upgzjz().s[28]++;
      console[level](`[${logEntry.timestamp}] ${logEntry.action}: ${logEntry.message}`, logEntry.details);

      // Send to Application Insights if available
      /* istanbul ignore next */
      cov_10y9upgzjz().s[29]++;
      if (process.env.APPINSIGHTS_INSTRUMENTATIONKEY) {
        /* istanbul ignore next */
        cov_10y9upgzjz().b[9][0]++;
        cov_10y9upgzjz().s[30]++;
        this.sendToApplicationInsights(logEntry);
      } else
      /* istanbul ignore next */
      {
        cov_10y9upgzjz().b[9][1]++;
      }
    } catch (error) {
      /* istanbul ignore next */
      cov_10y9upgzjz().s[31]++;
      console.error('Failed to write automation log:', error);
      // Fallback to console only
      /* istanbul ignore next */
      cov_10y9upgzjz().s[32]++;
      console.error(`[${logEntry.timestamp}] ${logEntry.action}: ${logEntry.message}`, logEntry.details);
    }
  }

  /**
   * Get appropriate console log level
   */
  getConsoleLogLevel(status) {
    /* istanbul ignore next */
    cov_10y9upgzjz().f[10]++;
    cov_10y9upgzjz().s[33]++;
    switch (status) {
      case 'error':
        /* istanbul ignore next */
        cov_10y9upgzjz().b[10][0]++;
        cov_10y9upgzjz().s[34]++;
        return 'error';
      case 'warning':
        /* istanbul ignore next */
        cov_10y9upgzjz().b[10][1]++;
        cov_10y9upgzjz().s[35]++;
        return 'warn';
      case 'info':
        /* istanbul ignore next */
        cov_10y9upgzjz().b[10][2]++;
      case 'success':
        /* istanbul ignore next */
        cov_10y9upgzjz().b[10][3]++;
      default:
        /* istanbul ignore next */
        cov_10y9upgzjz().b[10][4]++;
        cov_10y9upgzjz().s[36]++;
        return 'log';
    }
  }

  /**
   * Send log entry to Application Insights
   */
  sendToApplicationInsights(logEntry) {
    /* istanbul ignore next */
    cov_10y9upgzjz().f[11]++;
    cov_10y9upgzjz().s[37]++;
    try {
      // Using console methods that Application Insights can capture
      const telemetry =
      /* istanbul ignore next */
      (cov_10y9upgzjz().s[38]++, {
        name: logEntry.action,
        properties: {
          status: logEntry.status,
          message: logEntry.message,
          functionName: logEntry.functionName,
          invocationId: logEntry.invocationId,
          ...logEntry.details
        },
        timestamp: logEntry.timestamp
      });

      // Application Insights will automatically capture console output
      /* istanbul ignore next */
      cov_10y9upgzjz().s[39]++;
      if (logEntry.status === 'error') {
        /* istanbul ignore next */
        cov_10y9upgzjz().b[11][0]++;
        cov_10y9upgzjz().s[40]++;
        console.error('AUTOMATION_LOG', JSON.stringify(telemetry));
      } else {
        /* istanbul ignore next */
        cov_10y9upgzjz().b[11][1]++;
        cov_10y9upgzjz().s[41]++;
        console.log('AUTOMATION_LOG', JSON.stringify(telemetry));
      }
    } catch (error) {
      /* istanbul ignore next */
      cov_10y9upgzjz().s[42]++;
      console.error('Failed to send to Application Insights:', error);
    }
  }

  /**
   * Retrieve recent logs for a user
   */
  async getRecentLogs(userId, limit =
  /* istanbul ignore next */
  (cov_10y9upgzjz().b[12][0]++, 50)) {
    /* istanbul ignore next */
    cov_10y9upgzjz().f[12]++;
    cov_10y9upgzjz().s[43]++;
    try {
      /* istanbul ignore next */
      cov_10y9upgzjz().s[44]++;
      // This would typically query a database or storage
      // For now, we'll return empty array as queue messages are consumed
      console.log(`Retrieving recent logs for user ${userId}`);
      /* istanbul ignore next */
      cov_10y9upgzjz().s[45]++;
      return [];
    } catch (error) {
      /* istanbul ignore next */
      cov_10y9upgzjz().s[46]++;
      console.error('Failed to retrieve recent logs:', error);
      /* istanbul ignore next */
      cov_10y9upgzjz().s[47]++;
      return [];
    }
  }

  /**
   * Get log statistics
   */
  async getLogStats(userId, timeRange =
  /* istanbul ignore next */
  (cov_10y9upgzjz().b[13][0]++, '24h')) {
    /* istanbul ignore next */
    cov_10y9upgzjz().f[13]++;
    cov_10y9upgzjz().s[48]++;
    try {
      /* istanbul ignore next */
      cov_10y9upgzjz().s[49]++;
      console.log(`Getting log statistics for user ${userId} (${timeRange})`);
      // This would typically aggregate from stored logs
      /* istanbul ignore next */
      cov_10y9upgzjz().s[50]++;
      return {
        totalLogs: 0,
        errorCount: 0,
        successCount: 0,
        warningCount: 0,
        topActions: []
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_10y9upgzjz().s[51]++;
      console.error('Failed to get log statistics:', error);
      /* istanbul ignore next */
      cov_10y9upgzjz().s[52]++;
      return null;
    }
  }
}
/* istanbul ignore next */
cov_10y9upgzjz().s[53]++;
module.exports = new AutomationLogger();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTB5OXVwZ3pqeiIsImFjdHVhbENvdmVyYWdlIiwicXVldWVTZXJ2aWNlIiwicyIsInJlcXVpcmUiLCJ2NCIsInV1aWR2NCIsIkF1dG9tYXRpb25Mb2dnZXIiLCJjb25zdHJ1Y3RvciIsImYiLCJsb2dRdWV1ZSIsImNyZWF0ZUxvZ0VudHJ5IiwiYWN0aW9uIiwic3RhdHVzIiwibWVzc2FnZSIsImRldGFpbHMiLCJiIiwiaWQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJmdW5jdGlvbk5hbWUiLCJwcm9jZXNzIiwiZW52IiwiQVpVUkVfRlVOQ1RJT05TX05BTUUiLCJpbnZvY2F0aW9uSWQiLCJJTlZPQ0FUSU9OX0lEIiwibG9nSm9iRGlzY292ZXJlZCIsInVzZXJJZCIsImpvYklkIiwiam9iRGV0YWlscyIsImVudHJ5IiwidGl0bGUiLCJjb21wYW55IiwicG9ydGFsIiwiam9iUG9ydGFsIiwibmFtZSIsInJlbGV2YW5jeVNjb3JlIiwid3JpdGVMb2ciLCJsb2dKb2JTZWFyY2giLCJmaWx0ZXJzIiwicmVzdWx0cyIsImpvYnMiLCJsZW5ndGgiLCJyZXN1bHRzQ291bnQiLCJzZWFyY2hlZFBvcnRhbHMiLCJwb3J0YWxzIiwibG9nQXBwbGljYXRpb25TdWJtaXR0ZWQiLCJhcHBsaWNhdGlvblJlc3VsdCIsInN1Y2Nlc3MiLCJhcHBsaWNhdGlvbklkIiwibG9nRm9sbG93VXBTZW50IiwiZm9sbG93VXBUeXBlIiwibG9nRXJyb3IiLCJlcnJvciIsImVycm9yTmFtZSIsImVycm9yU3RhY2siLCJzdGFjayIsImVycm9yQ29kZSIsImNvZGUiLCJsb2dXYXJuaW5nIiwibG9nSW5mbyIsImxvZ0VudHJ5IiwiYWRkTWVzc2FnZSIsInRpbWVUb0xpdmUiLCJsZXZlbCIsImdldENvbnNvbGVMb2dMZXZlbCIsImNvbnNvbGUiLCJBUFBJTlNJR0hUU19JTlNUUlVNRU5UQVRJT05LRVkiLCJzZW5kVG9BcHBsaWNhdGlvbkluc2lnaHRzIiwidGVsZW1ldHJ5IiwicHJvcGVydGllcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJsb2ciLCJnZXRSZWNlbnRMb2dzIiwibGltaXQiLCJnZXRMb2dTdGF0cyIsInRpbWVSYW5nZSIsInRvdGFsTG9ncyIsImVycm9yQ291bnQiLCJzdWNjZXNzQ291bnQiLCJ3YXJuaW5nQ291bnQiLCJ0b3BBY3Rpb25zIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImF1dG9tYXRpb24tbG9ncy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBxdWV1ZVNlcnZpY2UgPSByZXF1aXJlKCcuL3F1ZXVlLXNlcnZpY2UnKTtcbmNvbnN0IHsgdjQ6IHV1aWR2NCB9ID0gcmVxdWlyZSgndXVpZCcpO1xuXG5jbGFzcyBBdXRvbWF0aW9uTG9nZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5sb2dRdWV1ZSA9ICdhdXRvbWF0aW9uLWxvZ3MnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBhdXRvbWF0aW9uIGxvZyBlbnRyeVxuICAgICAqL1xuICAgIGNyZWF0ZUxvZ0VudHJ5KGFjdGlvbiwgc3RhdHVzLCBtZXNzYWdlLCBkZXRhaWxzID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICBkZXRhaWxzOiBkZXRhaWxzLFxuICAgICAgICAgICAgZnVuY3Rpb25OYW1lOiBwcm9jZXNzLmVudi5BWlVSRV9GVU5DVElPTlNfTkFNRSB8fCAndW5rbm93bicsXG4gICAgICAgICAgICBpbnZvY2F0aW9uSWQ6IHByb2Nlc3MuZW52LklOVk9DQVRJT05fSUQgfHwgdXVpZHY0KClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2cgYSBqb2IgZGlzY292ZXJ5IGV2ZW50XG4gICAgICovXG4gICAgYXN5bmMgbG9nSm9iRGlzY292ZXJlZCh1c2VySWQsIGpvYklkLCBqb2JEZXRhaWxzKSB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5jcmVhdGVMb2dFbnRyeShcbiAgICAgICAgICAgICdqb2JfZGlzY292ZXJlZCcsXG4gICAgICAgICAgICAnaW5mbycsXG4gICAgICAgICAgICBgTmV3IGpvYiBkaXNjb3ZlcmVkOiAke2pvYkRldGFpbHMudGl0bGV9IGF0ICR7am9iRGV0YWlscy5jb21wYW55fWAsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICAgIGpvYklkLFxuICAgICAgICAgICAgICAgIGNvbXBhbnk6IGpvYkRldGFpbHMuY29tcGFueSxcbiAgICAgICAgICAgICAgICB0aXRsZTogam9iRGV0YWlscy50aXRsZSxcbiAgICAgICAgICAgICAgICBwb3J0YWw6IGpvYkRldGFpbHMuam9iUG9ydGFsPy5uYW1lLFxuICAgICAgICAgICAgICAgIHJlbGV2YW5jeVNjb3JlOiBqb2JEZXRhaWxzLnJlbGV2YW5jeVNjb3JlXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy53cml0ZUxvZyhlbnRyeSk7XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2cgYSBqb2Igc2VhcmNoIG9wZXJhdGlvblxuICAgICAqL1xuICAgIGFzeW5jIGxvZ0pvYlNlYXJjaCh1c2VySWQsIGZpbHRlcnMsIHJlc3VsdHMpIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSB0aGlzLmNyZWF0ZUxvZ0VudHJ5KFxuICAgICAgICAgICAgJ2pvYl9zZWFyY2hfY29tcGxldGVkJyxcbiAgICAgICAgICAgICdzdWNjZXNzJyxcbiAgICAgICAgICAgIGBKb2Igc2VhcmNoIGNvbXBsZXRlZDogRm91bmQgJHtyZXN1bHRzLmpvYnMubGVuZ3RofSBqb2JzYCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAgICAgZmlsdGVycyxcbiAgICAgICAgICAgICAgICByZXN1bHRzQ291bnQ6IHJlc3VsdHMuam9icy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgc2VhcmNoZWRQb3J0YWxzOiBmaWx0ZXJzLnBvcnRhbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBhd2FpdCB0aGlzLndyaXRlTG9nKGVudHJ5KTtcbiAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvZyBhbiBhcHBsaWNhdGlvbiBzdWJtaXNzaW9uXG4gICAgICovXG4gICAgYXN5bmMgbG9nQXBwbGljYXRpb25TdWJtaXR0ZWQodXNlcklkLCBqb2JJZCwgYXBwbGljYXRpb25SZXN1bHQpIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSB0aGlzLmNyZWF0ZUxvZ0VudHJ5KFxuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uX3N1Ym1pdHRlZCcsXG4gICAgICAgICAgICBhcHBsaWNhdGlvblJlc3VsdC5zdWNjZXNzID8gJ3N1Y2Nlc3MnIDogJ2Vycm9yJyxcbiAgICAgICAgICAgIGFwcGxpY2F0aW9uUmVzdWx0Lm1lc3NhZ2UgfHwgJ0FwcGxpY2F0aW9uIHByb2Nlc3NpbmcgY29tcGxldGVkJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAgICAgam9iSWQsXG4gICAgICAgICAgICAgICAgYXBwbGljYXRpb25JZDogYXBwbGljYXRpb25SZXN1bHQuYXBwbGljYXRpb25JZCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBhcHBsaWNhdGlvblJlc3VsdC5zdWNjZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy53cml0ZUxvZyhlbnRyeSk7XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2cgYSBmb2xsb3ctdXAgYWN0aW9uXG4gICAgICovXG4gICAgYXN5bmMgbG9nRm9sbG93VXBTZW50KHVzZXJJZCwgYXBwbGljYXRpb25JZCwgZm9sbG93VXBUeXBlKSB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5jcmVhdGVMb2dFbnRyeShcbiAgICAgICAgICAgICdmb2xsb3dfdXBfc2VudCcsXG4gICAgICAgICAgICAnc3VjY2VzcycsXG4gICAgICAgICAgICBgRm9sbG93LXVwIHNlbnQ6ICR7Zm9sbG93VXBUeXBlfWAsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgZm9sbG93VXBUeXBlXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy53cml0ZUxvZyhlbnRyeSk7XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2cgYW4gZXJyb3JcbiAgICAgKi9cbiAgICBhc3luYyBsb2dFcnJvcihhY3Rpb24sIGVycm9yLCBkZXRhaWxzID0ge30pIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSB0aGlzLmNyZWF0ZUxvZ0VudHJ5KFxuICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgfHwgJ0FuIGVycm9yIG9jY3VycmVkJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAuLi5kZXRhaWxzLFxuICAgICAgICAgICAgICAgIGVycm9yTmFtZTogZXJyb3IubmFtZSxcbiAgICAgICAgICAgICAgICBlcnJvclN0YWNrOiBlcnJvci5zdGFjayxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGU6IGVycm9yLmNvZGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBhd2FpdCB0aGlzLndyaXRlTG9nKGVudHJ5KTtcbiAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvZyBhIHdhcm5pbmdcbiAgICAgKi9cbiAgICBhc3luYyBsb2dXYXJuaW5nKGFjdGlvbiwgbWVzc2FnZSwgZGV0YWlscyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5jcmVhdGVMb2dFbnRyeShcbiAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICd3YXJuaW5nJyxcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICBkZXRhaWxzXG4gICAgICAgICk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy53cml0ZUxvZyhlbnRyeSk7XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2cgZ2VuZXJhbCBpbmZvcm1hdGlvblxuICAgICAqL1xuICAgIGFzeW5jIGxvZ0luZm8oYWN0aW9uLCBtZXNzYWdlLCBkZXRhaWxzID0ge30pIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSB0aGlzLmNyZWF0ZUxvZ0VudHJ5KFxuICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgJ2luZm8nLFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIGRldGFpbHNcbiAgICAgICAgKTtcblxuICAgICAgICBhd2FpdCB0aGlzLndyaXRlTG9nKGVudHJ5KTtcbiAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyaXRlIGxvZyBlbnRyeSB0byBxdWV1ZVxuICAgICAqL1xuICAgIGFzeW5jIHdyaXRlTG9nKGxvZ0VudHJ5KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBxdWV1ZVNlcnZpY2UuYWRkTWVzc2FnZSh0aGlzLmxvZ1F1ZXVlLCBsb2dFbnRyeSwge1xuICAgICAgICAgICAgICAgIHRpbWVUb0xpdmU6IDI1OTIwMDAgLy8gMzAgZGF5c1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEFsc28gd3JpdGUgdG8gY29uc29sZSBmb3IgaW1tZWRpYXRlIHZpc2liaWxpdHlcbiAgICAgICAgICAgIGNvbnN0IGxldmVsID0gdGhpcy5nZXRDb25zb2xlTG9nTGV2ZWwobG9nRW50cnkuc3RhdHVzKTtcbiAgICAgICAgICAgIGNvbnNvbGVbbGV2ZWxdKGBbJHtsb2dFbnRyeS50aW1lc3RhbXB9XSAke2xvZ0VudHJ5LmFjdGlvbn06ICR7bG9nRW50cnkubWVzc2FnZX1gLCBsb2dFbnRyeS5kZXRhaWxzKTtcblxuICAgICAgICAgICAgLy8gU2VuZCB0byBBcHBsaWNhdGlvbiBJbnNpZ2h0cyBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5BUFBJTlNJR0hUU19JTlNUUlVNRU5UQVRJT05LRVkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRUb0FwcGxpY2F0aW9uSW5zaWdodHMobG9nRW50cnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gd3JpdGUgYXV0b21hdGlvbiBsb2c6JywgZXJyb3IpO1xuICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gY29uc29sZSBvbmx5XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbJHtsb2dFbnRyeS50aW1lc3RhbXB9XSAke2xvZ0VudHJ5LmFjdGlvbn06ICR7bG9nRW50cnkubWVzc2FnZX1gLCBsb2dFbnRyeS5kZXRhaWxzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhcHByb3ByaWF0ZSBjb25zb2xlIGxvZyBsZXZlbFxuICAgICAqL1xuICAgIGdldENvbnNvbGVMb2dMZXZlbChzdGF0dXMpIHtcbiAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2Vycm9yJztcbiAgICAgICAgICAgIGNhc2UgJ3dhcm5pbmcnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnd2Fybic7XG4gICAgICAgICAgICBjYXNlICdpbmZvJzpcbiAgICAgICAgICAgIGNhc2UgJ3N1Y2Nlc3MnOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2xvZyc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGxvZyBlbnRyeSB0byBBcHBsaWNhdGlvbiBJbnNpZ2h0c1xuICAgICAqL1xuICAgIHNlbmRUb0FwcGxpY2F0aW9uSW5zaWdodHMobG9nRW50cnkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFVzaW5nIGNvbnNvbGUgbWV0aG9kcyB0aGF0IEFwcGxpY2F0aW9uIEluc2lnaHRzIGNhbiBjYXB0dXJlXG4gICAgICAgICAgICBjb25zdCB0ZWxlbWV0cnkgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogbG9nRW50cnkuYWN0aW9uLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBsb2dFbnRyeS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvZ0VudHJ5Lm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uTmFtZTogbG9nRW50cnkuZnVuY3Rpb25OYW1lLFxuICAgICAgICAgICAgICAgICAgICBpbnZvY2F0aW9uSWQ6IGxvZ0VudHJ5Lmludm9jYXRpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgLi4ubG9nRW50cnkuZGV0YWlsc1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBsb2dFbnRyeS50aW1lc3RhbXBcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIEFwcGxpY2F0aW9uIEluc2lnaHRzIHdpbGwgYXV0b21hdGljYWxseSBjYXB0dXJlIGNvbnNvbGUgb3V0cHV0XG4gICAgICAgICAgICBpZiAobG9nRW50cnkuc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQVVUT01BVElPTl9MT0cnLCBKU09OLnN0cmluZ2lmeSh0ZWxlbWV0cnkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FVVE9NQVRJT05fTE9HJywgSlNPTi5zdHJpbmdpZnkodGVsZW1ldHJ5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VuZCB0byBBcHBsaWNhdGlvbiBJbnNpZ2h0czonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSByZWNlbnQgbG9ncyBmb3IgYSB1c2VyXG4gICAgICovXG4gICAgYXN5bmMgZ2V0UmVjZW50TG9ncyh1c2VySWQsIGxpbWl0ID0gNTApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFRoaXMgd291bGQgdHlwaWNhbGx5IHF1ZXJ5IGEgZGF0YWJhc2Ugb3Igc3RvcmFnZVxuICAgICAgICAgICAgLy8gRm9yIG5vdywgd2UnbGwgcmV0dXJuIGVtcHR5IGFycmF5IGFzIHF1ZXVlIG1lc3NhZ2VzIGFyZSBjb25zdW1lZFxuICAgICAgICAgICAgY29uc29sZS5sb2coYFJldHJpZXZpbmcgcmVjZW50IGxvZ3MgZm9yIHVzZXIgJHt1c2VySWR9YCk7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmV0cmlldmUgcmVjZW50IGxvZ3M6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGxvZyBzdGF0aXN0aWNzXG4gICAgICovXG4gICAgYXN5bmMgZ2V0TG9nU3RhdHModXNlcklkLCB0aW1lUmFuZ2UgPSAnMjRoJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEdldHRpbmcgbG9nIHN0YXRpc3RpY3MgZm9yIHVzZXIgJHt1c2VySWR9ICgke3RpbWVSYW5nZX0pYCk7XG4gICAgICAgICAgICAvLyBUaGlzIHdvdWxkIHR5cGljYWxseSBhZ2dyZWdhdGUgZnJvbSBzdG9yZWQgbG9nc1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b3RhbExvZ3M6IDAsXG4gICAgICAgICAgICAgICAgZXJyb3JDb3VudDogMCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQ6IDAsXG4gICAgICAgICAgICAgICAgd2FybmluZ0NvdW50OiAwLFxuICAgICAgICAgICAgICAgIHRvcEFjdGlvbnM6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBsb2cgc3RhdGlzdGljczonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgQXV0b21hdGlvbkxvZ2dlcigpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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