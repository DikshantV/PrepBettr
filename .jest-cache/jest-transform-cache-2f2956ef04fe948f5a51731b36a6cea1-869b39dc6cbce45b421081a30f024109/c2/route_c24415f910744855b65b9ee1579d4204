0d7c7a23e5b4f5a03de395916fae5edc
"use strict";

/* istanbul ignore next */
function cov_2istgqfku() {
  var path = "/Users/dikshantvashistha/PrepBettr/app/api/auth/verify/route.ts";
  var hash = "481d1d563a7b52c2e9bea0d5b1a2d2a94cf60b8a";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/dikshantvashistha/PrepBettr/app/api/auth/verify/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 2,
          column: 62
        }
      },
      "1": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 3,
          column: 18
        }
      },
      "2": {
        start: {
          line: 4,
          column: 0
        },
        end: {
          line: 4,
          column: 20
        }
      },
      "3": {
        start: {
          line: 5,
          column: 17
        },
        end: {
          line: 5,
          column: 39
        }
      },
      "4": {
        start: {
          line: 6,
          column: 25
        },
        end: {
          line: 6,
          column: 67
        }
      },
      "5": {
        start: {
          line: 9,
          column: 22
        },
        end: {
          line: 9,
          column: 46
        }
      },
      "6": {
        start: {
          line: 10,
          column: 4
        },
        end: {
          line: 10,
          column: 175
        }
      },
      "7": {
        start: {
          line: 11,
          column: 4
        },
        end: {
          line: 67,
          column: 5
        }
      },
      "8": {
        start: {
          line: 12,
          column: 27
        },
        end: {
          line: 12,
          column: 63
        }
      },
      "9": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 17,
          column: 11
        }
      },
      "10": {
        start: {
          line: 18,
          column: 8
        },
        end: {
          line: 21,
          column: 9
        }
      },
      "11": {
        start: {
          line: 19,
          column: 12
        },
        end: {
          line: 19,
          column: 87
        }
      },
      "12": {
        start: {
          line: 20,
          column: 12
        },
        end: {
          line: 20,
          column: 117
        }
      },
      "13": {
        start: {
          line: 22,
          column: 22
        },
        end: {
          line: 22,
          column: 45
        }
      },
      "14": {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 28,
          column: 11
        }
      },
      "15": {
        start: {
          line: 29,
          column: 8
        },
        end: {
          line: 29,
          column: 72
        }
      },
      "16": {
        start: {
          line: 30,
          column: 27
        },
        end: {
          line: 30,
          column: 81
        }
      },
      "17": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 37,
          column: 11
        }
      },
      "18": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 57,
          column: 9
        }
      },
      "19": {
        start: {
          line: 39,
          column: 12
        },
        end: {
          line: 43,
          column: 15
        }
      },
      "20": {
        start: {
          line: 45,
          column: 33
        },
        end: {
          line: 45,
          column: 79
        }
      },
      "21": {
        start: {
          line: 46,
          column: 31
        },
        end: {
          line: 46,
          column: 34
        }
      },
      "22": {
        start: {
          line: 47,
          column: 32
        },
        end: {
          line: 47,
          column: 37
        }
      },
      "23": {
        start: {
          line: 49,
          column: 12
        },
        end: {
          line: 51,
          column: 13
        }
      },
      "24": {
        start: {
          line: 50,
          column: 16
        },
        end: {
          line: 50,
          column: 37
        }
      },
      "25": {
        start: {
          line: 52,
          column: 12
        },
        end: {
          line: 56,
          column: 39
        }
      },
      "26": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 58,
          column: 103
        }
      },
      "27": {
        start: {
          line: 59,
          column: 8
        },
        end: {
          line: 62,
          column: 11
        }
      },
      "28": {
        start: {
          line: 65,
          column: 8
        },
        end: {
          line: 65,
          column: 76
        }
      },
      "29": {
        start: {
          line: 66,
          column: 8
        },
        end: {
          line: 66,
          column: 160
        }
      },
      "30": {
        start: {
          line: 71,
          column: 4
        },
        end: {
          line: 71,
          column: 24
        }
      }
    },
    fnMap: {
      "0": {
        name: "GET",
        decl: {
          start: {
            line: 7,
            column: 15
          },
          end: {
            line: 7,
            column: 18
          }
        },
        loc: {
          start: {
            line: 7,
            column: 28
          },
          end: {
            line: 68,
            column: 1
          }
        },
        line: 7
      },
      "1": {
        name: "POST",
        decl: {
          start: {
            line: 69,
            column: 15
          },
          end: {
            line: 69,
            column: 19
          }
        },
        loc: {
          start: {
            line: 69,
            column: 29
          },
          end: {
            line: 72,
            column: 1
          }
        },
        line: 69
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 10,
            column: 74
          },
          end: {
            line: 10,
            column: 171
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 10,
            column: 143
          },
          end: {
            line: 10,
            column: 149
          }
        }, {
          start: {
            line: 10,
            column: 152
          },
          end: {
            line: 10,
            column: 171
          }
        }],
        line: 10
      },
      "1": {
        loc: {
          start: {
            line: 10,
            column: 74
          },
          end: {
            line: 10,
            column: 140
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 10,
            column: 74
          },
          end: {
            line: 10,
            column: 123
          }
        }, {
          start: {
            line: 10,
            column: 127
          },
          end: {
            line: 10,
            column: 140
          }
        }],
        line: 10
      },
      "2": {
        loc: {
          start: {
            line: 15,
            column: 30
          },
          end: {
            line: 15,
            column: 129
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 15,
            column: 31
          },
          end: {
            line: 15,
            column: 119
          }
        }, {
          start: {
            line: 15,
            column: 124
          },
          end: {
            line: 15,
            column: 129
          }
        }],
        line: 15
      },
      "3": {
        loc: {
          start: {
            line: 15,
            column: 31
          },
          end: {
            line: 15,
            column: 119
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 15,
            column: 78
          },
          end: {
            line: 15,
            column: 84
          }
        }, {
          start: {
            line: 15,
            column: 87
          },
          end: {
            line: 15,
            column: 119
          }
        }],
        line: 15
      },
      "4": {
        loc: {
          start: {
            line: 15,
            column: 31
          },
          end: {
            line: 15,
            column: 75
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 15,
            column: 31
          },
          end: {
            line: 15,
            column: 50
          }
        }, {
          start: {
            line: 15,
            column: 54
          },
          end: {
            line: 15,
            column: 75
          }
        }],
        line: 15
      },
      "5": {
        loc: {
          start: {
            line: 16,
            column: 27
          },
          end: {
            line: 16,
            column: 84
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 16,
            column: 40
          },
          end: {
            line: 16,
            column: 75
          }
        }, {
          start: {
            line: 16,
            column: 78
          },
          end: {
            line: 16,
            column: 84
          }
        }],
        line: 16
      },
      "6": {
        loc: {
          start: {
            line: 18,
            column: 8
          },
          end: {
            line: 21,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 18,
            column: 8
          },
          end: {
            line: 21,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 18
      },
      "7": {
        loc: {
          start: {
            line: 18,
            column: 12
          },
          end: {
            line: 18,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 18,
            column: 12
          },
          end: {
            line: 18,
            column: 23
          }
        }, {
          start: {
            line: 18,
            column: 27
          },
          end: {
            line: 18,
            column: 60
          }
        }],
        line: 18
      },
      "8": {
        loc: {
          start: {
            line: 34,
            column: 17
          },
          end: {
            line: 34,
            column: 83
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 34,
            column: 68
          },
          end: {
            line: 34,
            column: 74
          }
        }, {
          start: {
            line: 34,
            column: 77
          },
          end: {
            line: 34,
            column: 83
          }
        }],
        line: 34
      },
      "9": {
        loc: {
          start: {
            line: 34,
            column: 17
          },
          end: {
            line: 34,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 34,
            column: 17
          },
          end: {
            line: 34,
            column: 48
          }
        }, {
          start: {
            line: 34,
            column: 52
          },
          end: {
            line: 34,
            column: 65
          }
        }],
        line: 34
      },
      "10": {
        loc: {
          start: {
            line: 35,
            column: 19
          },
          end: {
            line: 35,
            column: 87
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 35,
            column: 70
          },
          end: {
            line: 35,
            column: 76
          }
        }, {
          start: {
            line: 35,
            column: 79
          },
          end: {
            line: 35,
            column: 87
          }
        }],
        line: 35
      },
      "11": {
        loc: {
          start: {
            line: 35,
            column: 19
          },
          end: {
            line: 35,
            column: 67
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 35,
            column: 19
          },
          end: {
            line: 35,
            column: 50
          }
        }, {
          start: {
            line: 35,
            column: 54
          },
          end: {
            line: 35,
            column: 67
          }
        }],
        line: 35
      },
      "12": {
        loc: {
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 57,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 57,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 38
      },
      "13": {
        loc: {
          start: {
            line: 38,
            column: 12
          },
          end: {
            line: 38,
            column: 51
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 38,
            column: 12
          },
          end: {
            line: 38,
            column: 31
          }
        }, {
          start: {
            line: 38,
            column: 35
          },
          end: {
            line: 38,
            column: 51
          }
        }],
        line: 38
      },
      "14": {
        loc: {
          start: {
            line: 45,
            column: 33
          },
          end: {
            line: 45,
            column: 79
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 45,
            column: 33
          },
          end: {
            line: 45,
            column: 49
          }
        }, {
          start: {
            line: 45,
            column: 53
          },
          end: {
            line: 45,
            column: 79
          }
        }],
        line: 45
      },
      "15": {
        loc: {
          start: {
            line: 49,
            column: 12
          },
          end: {
            line: 51,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 49,
            column: 12
          },
          end: {
            line: 51,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 49
      },
      "16": {
        loc: {
          start: {
            line: 49,
            column: 16
          },
          end: {
            line: 49,
            column: 80
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 49,
            column: 16
          },
          end: {
            line: 49,
            column: 48
          }
        }, {
          start: {
            line: 49,
            column: 52
          },
          end: {
            line: 49,
            column: 80
          }
        }],
        line: 49
      },
      "17": {
        loc: {
          start: {
            line: 66,
            column: 81
          },
          end: {
            line: 66,
            column: 137
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 66,
            column: 106
          },
          end: {
            line: 66,
            column: 119
          }
        }, {
          start: {
            line: 66,
            column: 122
          },
          end: {
            line: 66,
            column: 137
          }
        }],
        line: 66
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0
    },
    f: {
      "0": 0,
      "1": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0]
    },
    inputSourceMap: {
      file: "/Users/dikshantvashistha/PrepBettr/app/api/auth/verify/route.ts",
      mappings: ";;AAGA,kBAgFC;AAED,oBAGC;AAxFD,wCAAwD;AACxD,oEAAsE;AAE/D,KAAK,UAAU,GAAG,CAAC,OAAoB;;IAC5C,MAAM,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;IAC3C,OAAO,CAAC,GAAG,CAAC,OAAO,SAAS,0CAA0C,MAAA,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,0CAAE,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;IAC7H,IAAI,CAAC;QACH,MAAM,UAAU,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QAExD,OAAO,CAAC,GAAG,CAAC,OAAO,SAAS,+BAA+B,EAAE;YAC3D,aAAa,EAAE,CAAC,CAAC,UAAU;YAC3B,gBAAgB,EAAE,CAAA,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,UAAU,CAAC,SAAS,CAAC,KAAI,KAAK;YAC5D,aAAa,EAAE,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM;SACzE,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;YACrD,OAAO,CAAC,KAAK,CAAC,OAAO,SAAS,2CAA2C,CAAC,CAAC;YAC3E,OAAO,qBAAY,CAAC,IAAI,CACtB,EAAE,KAAK,EAAE,yCAAyC,EAAE,EACpD,EAAE,MAAM,EAAE,GAAG,EAAE,CAChB,CAAC;QACJ,CAAC;QAED,MAAM,KAAK,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,0BAA0B;QAEjE,OAAO,CAAC,GAAG,CAAC,OAAO,SAAS,kBAAkB,EAAE;YAC9C,WAAW,EAAE,KAAK,CAAC,MAAM;YACzB,UAAU,EAAE,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM;YACnC,WAAW,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,KAAK;YAC3C,KAAK,EAAE,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC;SAC3B,CAAC,CAAC;QAEH,OAAO,CAAC,GAAG,CAAC,OAAO,SAAS,kCAAkC,CAAC,CAAC;QAChE,MAAM,UAAU,GAAG,MAAM,IAAA,oCAAmB,EAAC,KAAK,CAAC,CAAC;QAEpD,OAAO,CAAC,GAAG,CAAC,OAAO,SAAS,uCAAuC,EAAE;YACnE,OAAO,EAAE,UAAU,CAAC,OAAO;YAC3B,OAAO,EAAE,CAAC,CAAC,UAAU,CAAC,IAAI;YAC1B,GAAG,EAAE,MAAA,UAAU,CAAC,IAAI,0CAAE,GAAG;YACzB,KAAK,EAAE,MAAA,UAAU,CAAC,IAAI,0CAAE,KAAK;YAC7B,KAAK,EAAE,UAAU,CAAC,KAAK;SACxB,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,CAAC,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;YAC5C,OAAO,CAAC,KAAK,CAAC,OAAO,SAAS,8BAA8B,EAAE;gBAC5D,OAAO,EAAE,UAAU,CAAC,OAAO;gBAC3B,OAAO,EAAE,CAAC,CAAC,UAAU,CAAC,IAAI;gBAC1B,KAAK,EAAE,UAAU,CAAC,KAAK;aACxB,CAAC,CAAC;YAEH,+DAA+D;YAC/D,MAAM,YAAY,GAAG,UAAU,CAAC,KAAK,IAAI,0BAA0B,CAAC;YACpE,MAAM,UAAU,GAAG,GAAG,CAAC;YACvB,IAAI,aAAa,GAAG,KAAK,CAAC;YAE1B,4CAA4C;YAC5C,IAAI,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC;gBACrE,aAAa,GAAG,IAAI,CAAC;YACvB,CAAC;YAED,OAAO,qBAAY,CAAC,IAAI,CACtB;gBACE,KAAK,EAAE,YAAY;gBACnB,aAAa;gBACb,IAAI,EAAE,2BAA2B;aAClC,EACD,EAAE,MAAM,EAAE,UAAU,EAAE,CACvB,CAAC;QACJ,CAAC;QAED,OAAO,CAAC,GAAG,CAAC,OAAO,SAAS,4CAA4C,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;QAC/F,OAAO,qBAAY,CAAC,IAAI,CAAC;YACvB,OAAO,EAAE,IAAI;YACb,IAAI,EAAE,UAAU,CAAC,IAAI;SACtB,CAAC,CAAC;IAEL,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,OAAO,SAAS,6BAA6B,EAAE,KAAK,CAAC,CAAC;QACpE,OAAO,qBAAY,CAAC,IAAI,CACtB,EAAE,KAAK,EAAE,8BAA8B,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,eAAe,EAAE,EAAE,EACnG,EAAE,MAAM,EAAE,GAAG,EAAE,CAChB,CAAC;IACJ,CAAC;AACH,CAAC;AAEM,KAAK,UAAU,IAAI,CAAC,OAAoB;IAC7C,4CAA4C;IAC5C,OAAO,GAAG,CAAC,OAAO,CAAC,CAAC;AACtB,CAAC",
      names: [],
      sources: ["/Users/dikshantvashistha/PrepBettr/app/api/auth/verify/route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server';\nimport { verifyFirebaseToken } from '@/lib/middleware/authMiddleware';\n\nexport async function GET(request: NextRequest) {\n  const timestamp = new Date().toISOString();\n  console.log(`\uD83D\uDD0D [${timestamp}] AUTH VERIFY GET called - User-Agent: ${request.headers.get('user-agent')?.substring(0, 50)}`);\n  try {\n    const authHeader = request.headers.get('authorization');\n    \n    console.log(`\uD83D\uDD0D [${timestamp}] Authorization header check:`, {\n      hasAuthHeader: !!authHeader,\n      startsWithBearer: authHeader?.startsWith('Bearer ') || false,\n      headerPreview: authHeader ? authHeader.substring(0, 20) + '...' : 'none'\n    });\n    \n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\n      console.error(`\uD83D\uDD0D [${timestamp}] Missing or invalid authorization header`);\n      return NextResponse.json(\n        { error: 'Missing or invalid authorization header' },\n        { status: 401 }\n      );\n    }\n\n    const token = authHeader.substring(7); // Remove 'Bearer ' prefix\n    \n    console.log(`\uD83D\uDD0D [${timestamp}] Token details:`, {\n      tokenLength: token.length,\n      tokenParts: token.split('.').length,\n      tokenPrefix: token.substring(0, 50) + '...',\n      isJWT: token.includes('.')\n    });\n    \n    console.log(`\uD83D\uDD0D [${timestamp}] Calling verifyFirebaseToken...`);\n    const authResult = await verifyFirebaseToken(token);\n    \n    console.log(`\uD83D\uDD0D [${timestamp}] Firebase token verification result:`, {\n      success: authResult.success,\n      hasUser: !!authResult.user,\n      uid: authResult.user?.uid,\n      email: authResult.user?.email,\n      error: authResult.error\n    });\n    \n    if (!authResult.success || !authResult.user) {\n      console.error(`\uD83D\uDD0D [${timestamp}] Token verification failed:`, {\n        success: authResult.success,\n        hasUser: !!authResult.user,\n        error: authResult.error\n      });\n      \n      // Provide specific error responses for different failure types\n      const errorMessage = authResult.error || 'Invalid or expired token';\n      const statusCode = 401;\n      let shouldRefresh = false;\n      \n      // Check if this is a token expiration issue\n      if (errorMessage.includes('expired') || errorMessage.includes('kid')) {\n        shouldRefresh = true;\n      }\n      \n      return NextResponse.json(\n        { \n          error: errorMessage,\n          shouldRefresh,\n          code: 'TOKEN_VERIFICATION_FAILED'\n        },\n        { status: statusCode }\n      );\n    }\n\n    console.log(`\uD83D\uDD0D [${timestamp}] Token verification successful for uid: ${authResult.user.uid}`);\n    return NextResponse.json({\n      success: true,\n      user: authResult.user\n    });\n\n  } catch (error) {\n    console.error(`\uD83D\uDD0D [${timestamp}] Token verification error:`, error);\n    return NextResponse.json(\n      { error: `Token verification failed: ${error instanceof Error ? error.message : 'Unknown error'}` },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  // Support both GET and POST for flexibility\n  return GET(request);\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "481d1d563a7b52c2e9bea0d5b1a2d2a94cf60b8a"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2istgqfku = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2istgqfku();
cov_2istgqfku().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_2istgqfku().s[1]++;
exports.GET = GET;
/* istanbul ignore next */
cov_2istgqfku().s[2]++;
exports.POST = POST;
const server_1 =
/* istanbul ignore next */
(cov_2istgqfku().s[3]++, require("next/server"));
const authMiddleware_1 =
/* istanbul ignore next */
(cov_2istgqfku().s[4]++, require("@/lib/middleware/authMiddleware"));
async function GET(request) {
  /* istanbul ignore next */
  cov_2istgqfku().f[0]++;
  var _a, _b, _c;
  const timestamp =
  /* istanbul ignore next */
  (cov_2istgqfku().s[5]++, new Date().toISOString());
  /* istanbul ignore next */
  cov_2istgqfku().s[6]++;
  console.log(`🔍 [${timestamp}] AUTH VERIFY GET called - User-Agent: ${
  /* istanbul ignore next */
  (cov_2istgqfku().b[1][0]++, (_a = request.headers.get('user-agent')) === null) ||
  /* istanbul ignore next */
  (cov_2istgqfku().b[1][1]++, _a === void 0) ?
  /* istanbul ignore next */
  (cov_2istgqfku().b[0][0]++, void 0) :
  /* istanbul ignore next */
  (cov_2istgqfku().b[0][1]++, _a.substring(0, 50))}`);
  /* istanbul ignore next */
  cov_2istgqfku().s[7]++;
  try {
    const authHeader =
    /* istanbul ignore next */
    (cov_2istgqfku().s[8]++, request.headers.get('authorization'));
    /* istanbul ignore next */
    cov_2istgqfku().s[9]++;
    console.log(`🔍 [${timestamp}] Authorization header check:`, {
      hasAuthHeader: !!authHeader,
      startsWithBearer:
      /* istanbul ignore next */
      (cov_2istgqfku().b[2][0]++,
      /* istanbul ignore next */
      (cov_2istgqfku().b[4][0]++, authHeader === null) ||
      /* istanbul ignore next */
      (cov_2istgqfku().b[4][1]++, authHeader === void 0) ?
      /* istanbul ignore next */
      (cov_2istgqfku().b[3][0]++, void 0) :
      /* istanbul ignore next */
      (cov_2istgqfku().b[3][1]++, authHeader.startsWith('Bearer '))) ||
      /* istanbul ignore next */
      (cov_2istgqfku().b[2][1]++, false),
      headerPreview: authHeader ?
      /* istanbul ignore next */
      (cov_2istgqfku().b[5][0]++, authHeader.substring(0, 20) + '...') :
      /* istanbul ignore next */
      (cov_2istgqfku().b[5][1]++, 'none')
    });
    /* istanbul ignore next */
    cov_2istgqfku().s[10]++;
    if (
    /* istanbul ignore next */
    (cov_2istgqfku().b[7][0]++, !authHeader) ||
    /* istanbul ignore next */
    (cov_2istgqfku().b[7][1]++, !authHeader.startsWith('Bearer '))) {
      /* istanbul ignore next */
      cov_2istgqfku().b[6][0]++;
      cov_2istgqfku().s[11]++;
      console.error(`🔍 [${timestamp}] Missing or invalid authorization header`);
      /* istanbul ignore next */
      cov_2istgqfku().s[12]++;
      return server_1.NextResponse.json({
        error: 'Missing or invalid authorization header'
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_2istgqfku().b[6][1]++;
    }
    const token =
    /* istanbul ignore next */
    (cov_2istgqfku().s[13]++, authHeader.substring(7)); // Remove 'Bearer ' prefix
    /* istanbul ignore next */
    cov_2istgqfku().s[14]++;
    console.log(`🔍 [${timestamp}] Token details:`, {
      tokenLength: token.length,
      tokenParts: token.split('.').length,
      tokenPrefix: token.substring(0, 50) + '...',
      isJWT: token.includes('.')
    });
    /* istanbul ignore next */
    cov_2istgqfku().s[15]++;
    console.log(`🔍 [${timestamp}] Calling verifyFirebaseToken...`);
    const authResult =
    /* istanbul ignore next */
    (cov_2istgqfku().s[16]++, await (0, authMiddleware_1.verifyFirebaseToken)(token));
    /* istanbul ignore next */
    cov_2istgqfku().s[17]++;
    console.log(`🔍 [${timestamp}] Firebase token verification result:`, {
      success: authResult.success,
      hasUser: !!authResult.user,
      uid:
      /* istanbul ignore next */
      (cov_2istgqfku().b[9][0]++, (_b = authResult.user) === null) ||
      /* istanbul ignore next */
      (cov_2istgqfku().b[9][1]++, _b === void 0) ?
      /* istanbul ignore next */
      (cov_2istgqfku().b[8][0]++, void 0) :
      /* istanbul ignore next */
      (cov_2istgqfku().b[8][1]++, _b.uid),
      email:
      /* istanbul ignore next */
      (cov_2istgqfku().b[11][0]++, (_c = authResult.user) === null) ||
      /* istanbul ignore next */
      (cov_2istgqfku().b[11][1]++, _c === void 0) ?
      /* istanbul ignore next */
      (cov_2istgqfku().b[10][0]++, void 0) :
      /* istanbul ignore next */
      (cov_2istgqfku().b[10][1]++, _c.email),
      error: authResult.error
    });
    /* istanbul ignore next */
    cov_2istgqfku().s[18]++;
    if (
    /* istanbul ignore next */
    (cov_2istgqfku().b[13][0]++, !authResult.success) ||
    /* istanbul ignore next */
    (cov_2istgqfku().b[13][1]++, !authResult.user)) {
      /* istanbul ignore next */
      cov_2istgqfku().b[12][0]++;
      cov_2istgqfku().s[19]++;
      console.error(`🔍 [${timestamp}] Token verification failed:`, {
        success: authResult.success,
        hasUser: !!authResult.user,
        error: authResult.error
      });
      // Provide specific error responses for different failure types
      const errorMessage =
      /* istanbul ignore next */
      (cov_2istgqfku().s[20]++,
      /* istanbul ignore next */
      (cov_2istgqfku().b[14][0]++, authResult.error) ||
      /* istanbul ignore next */
      (cov_2istgqfku().b[14][1]++, 'Invalid or expired token'));
      const statusCode =
      /* istanbul ignore next */
      (cov_2istgqfku().s[21]++, 401);
      let shouldRefresh =
      /* istanbul ignore next */
      (cov_2istgqfku().s[22]++, false);
      // Check if this is a token expiration issue
      /* istanbul ignore next */
      cov_2istgqfku().s[23]++;
      if (
      /* istanbul ignore next */
      (cov_2istgqfku().b[16][0]++, errorMessage.includes('expired')) ||
      /* istanbul ignore next */
      (cov_2istgqfku().b[16][1]++, errorMessage.includes('kid'))) {
        /* istanbul ignore next */
        cov_2istgqfku().b[15][0]++;
        cov_2istgqfku().s[24]++;
        shouldRefresh = true;
      } else
      /* istanbul ignore next */
      {
        cov_2istgqfku().b[15][1]++;
      }
      cov_2istgqfku().s[25]++;
      return server_1.NextResponse.json({
        error: errorMessage,
        shouldRefresh,
        code: 'TOKEN_VERIFICATION_FAILED'
      }, {
        status: statusCode
      });
    } else
    /* istanbul ignore next */
    {
      cov_2istgqfku().b[12][1]++;
    }
    cov_2istgqfku().s[26]++;
    console.log(`🔍 [${timestamp}] Token verification successful for uid: ${authResult.user.uid}`);
    /* istanbul ignore next */
    cov_2istgqfku().s[27]++;
    return server_1.NextResponse.json({
      success: true,
      user: authResult.user
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2istgqfku().s[28]++;
    console.error(`🔍 [${timestamp}] Token verification error:`, error);
    /* istanbul ignore next */
    cov_2istgqfku().s[29]++;
    return server_1.NextResponse.json({
      error: `Token verification failed: ${error instanceof Error ?
      /* istanbul ignore next */
      (cov_2istgqfku().b[17][0]++, error.message) :
      /* istanbul ignore next */
      (cov_2istgqfku().b[17][1]++, 'Unknown error')}`
    }, {
      status: 500
    });
  }
}
async function POST(request) {
  /* istanbul ignore next */
  cov_2istgqfku().f[1]++;
  cov_2istgqfku().s[30]++;
  // Support both GET and POST for flexibility
  return GET(request);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmlzdGdxZmt1IiwiYWN0dWFsQ292ZXJhZ2UiLCJzIiwiZXhwb3J0cyIsIkdFVCIsIlBPU1QiLCJzZXJ2ZXJfMSIsInJlcXVpcmUiLCJhdXRoTWlkZGxld2FyZV8xIiwicmVxdWVzdCIsImYiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJjb25zb2xlIiwibG9nIiwiYiIsIl9hIiwiaGVhZGVycyIsImdldCIsInN1YnN0cmluZyIsImF1dGhIZWFkZXIiLCJoYXNBdXRoSGVhZGVyIiwic3RhcnRzV2l0aEJlYXJlciIsInN0YXJ0c1dpdGgiLCJoZWFkZXJQcmV2aWV3IiwiZXJyb3IiLCJOZXh0UmVzcG9uc2UiLCJqc29uIiwic3RhdHVzIiwidG9rZW4iLCJ0b2tlbkxlbmd0aCIsImxlbmd0aCIsInRva2VuUGFydHMiLCJzcGxpdCIsInRva2VuUHJlZml4IiwiaXNKV1QiLCJpbmNsdWRlcyIsImF1dGhSZXN1bHQiLCJ2ZXJpZnlGaXJlYmFzZVRva2VuIiwic3VjY2VzcyIsImhhc1VzZXIiLCJ1c2VyIiwidWlkIiwiX2IiLCJlbWFpbCIsIl9jIiwiZXJyb3JNZXNzYWdlIiwic3RhdHVzQ29kZSIsInNob3VsZFJlZnJlc2giLCJjb2RlIiwiRXJyb3IiLCJtZXNzYWdlIl0sInNvdXJjZXMiOlsiL1VzZXJzL2Rpa3NoYW50dmFzaGlzdGhhL1ByZXBCZXR0ci9hcHAvYXBpL2F1dGgvdmVyaWZ5L3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyB2ZXJpZnlGaXJlYmFzZVRva2VuIH0gZnJvbSAnQC9saWIvbWlkZGxld2FyZS9hdXRoTWlkZGxld2FyZSc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICBjb25zb2xlLmxvZyhg8J+UjSBbJHt0aW1lc3RhbXB9XSBBVVRIIFZFUklGWSBHRVQgY2FsbGVkIC0gVXNlci1BZ2VudDogJHtyZXF1ZXN0LmhlYWRlcnMuZ2V0KCd1c2VyLWFnZW50Jyk/LnN1YnN0cmluZygwLCA1MCl9YCk7XG4gIHRyeSB7XG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ2F1dGhvcml6YXRpb24nKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhg8J+UjSBbJHt0aW1lc3RhbXB9XSBBdXRob3JpemF0aW9uIGhlYWRlciBjaGVjazpgLCB7XG4gICAgICBoYXNBdXRoSGVhZGVyOiAhIWF1dGhIZWFkZXIsXG4gICAgICBzdGFydHNXaXRoQmVhcmVyOiBhdXRoSGVhZGVyPy5zdGFydHNXaXRoKCdCZWFyZXIgJykgfHwgZmFsc2UsXG4gICAgICBoZWFkZXJQcmV2aWV3OiBhdXRoSGVhZGVyID8gYXV0aEhlYWRlci5zdWJzdHJpbmcoMCwgMjApICsgJy4uLicgOiAnbm9uZSdcbiAgICB9KTtcbiAgICBcbiAgICBpZiAoIWF1dGhIZWFkZXIgfHwgIWF1dGhIZWFkZXIuc3RhcnRzV2l0aCgnQmVhcmVyICcpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGDwn5SNIFske3RpbWVzdGFtcH1dIE1pc3Npbmcgb3IgaW52YWxpZCBhdXRob3JpemF0aW9uIGhlYWRlcmApO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnTWlzc2luZyBvciBpbnZhbGlkIGF1dGhvcml6YXRpb24gaGVhZGVyJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyLnN1YnN0cmluZyg3KTsgLy8gUmVtb3ZlICdCZWFyZXIgJyBwcmVmaXhcbiAgICBcbiAgICBjb25zb2xlLmxvZyhg8J+UjSBbJHt0aW1lc3RhbXB9XSBUb2tlbiBkZXRhaWxzOmAsIHtcbiAgICAgIHRva2VuTGVuZ3RoOiB0b2tlbi5sZW5ndGgsXG4gICAgICB0b2tlblBhcnRzOiB0b2tlbi5zcGxpdCgnLicpLmxlbmd0aCxcbiAgICAgIHRva2VuUHJlZml4OiB0b2tlbi5zdWJzdHJpbmcoMCwgNTApICsgJy4uLicsXG4gICAgICBpc0pXVDogdG9rZW4uaW5jbHVkZXMoJy4nKVxuICAgIH0pO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGDwn5SNIFske3RpbWVzdGFtcH1dIENhbGxpbmcgdmVyaWZ5RmlyZWJhc2VUb2tlbi4uLmApO1xuICAgIGNvbnN0IGF1dGhSZXN1bHQgPSBhd2FpdCB2ZXJpZnlGaXJlYmFzZVRva2VuKHRva2VuKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhg8J+UjSBbJHt0aW1lc3RhbXB9XSBGaXJlYmFzZSB0b2tlbiB2ZXJpZmljYXRpb24gcmVzdWx0OmAsIHtcbiAgICAgIHN1Y2Nlc3M6IGF1dGhSZXN1bHQuc3VjY2VzcyxcbiAgICAgIGhhc1VzZXI6ICEhYXV0aFJlc3VsdC51c2VyLFxuICAgICAgdWlkOiBhdXRoUmVzdWx0LnVzZXI/LnVpZCxcbiAgICAgIGVtYWlsOiBhdXRoUmVzdWx0LnVzZXI/LmVtYWlsLFxuICAgICAgZXJyb3I6IGF1dGhSZXN1bHQuZXJyb3JcbiAgICB9KTtcbiAgICBcbiAgICBpZiAoIWF1dGhSZXN1bHQuc3VjY2VzcyB8fCAhYXV0aFJlc3VsdC51c2VyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGDwn5SNIFske3RpbWVzdGFtcH1dIFRva2VuIHZlcmlmaWNhdGlvbiBmYWlsZWQ6YCwge1xuICAgICAgICBzdWNjZXNzOiBhdXRoUmVzdWx0LnN1Y2Nlc3MsXG4gICAgICAgIGhhc1VzZXI6ICEhYXV0aFJlc3VsdC51c2VyLFxuICAgICAgICBlcnJvcjogYXV0aFJlc3VsdC5lcnJvclxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFByb3ZpZGUgc3BlY2lmaWMgZXJyb3IgcmVzcG9uc2VzIGZvciBkaWZmZXJlbnQgZmFpbHVyZSB0eXBlc1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYXV0aFJlc3VsdC5lcnJvciB8fCAnSW52YWxpZCBvciBleHBpcmVkIHRva2VuJztcbiAgICAgIGNvbnN0IHN0YXR1c0NvZGUgPSA0MDE7XG4gICAgICBsZXQgc2hvdWxkUmVmcmVzaCA9IGZhbHNlO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgdG9rZW4gZXhwaXJhdGlvbiBpc3N1ZVxuICAgICAgaWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygnZXhwaXJlZCcpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygna2lkJykpIHtcbiAgICAgICAgc2hvdWxkUmVmcmVzaCA9IHRydWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBcbiAgICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgIHNob3VsZFJlZnJlc2gsXG4gICAgICAgICAgY29kZTogJ1RPS0VOX1ZFUklGSUNBVElPTl9GQUlMRUQnXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiBzdGF0dXNDb2RlIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYPCflI0gWyR7dGltZXN0YW1wfV0gVG9rZW4gdmVyaWZpY2F0aW9uIHN1Y2Nlc3NmdWwgZm9yIHVpZDogJHthdXRoUmVzdWx0LnVzZXIudWlkfWApO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgdXNlcjogYXV0aFJlc3VsdC51c2VyXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGDwn5SNIFske3RpbWVzdGFtcH1dIFRva2VuIHZlcmlmaWNhdGlvbiBlcnJvcjpgLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogYFRva2VuIHZlcmlmaWNhdGlvbiBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICAvLyBTdXBwb3J0IGJvdGggR0VUIGFuZCBQT1NUIGZvciBmbGV4aWJpbGl0eVxuICByZXR1cm4gR0VUKHJlcXVlc3QpO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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