{"version":3,"names":["cov_25q5mvesoh","actualCoverage","migration_wrapper_1","s","require","azure_config_1","template_engine_1","text_preprocessing_1","path_1","__importDefault","structured_errors_1","errors_1","AzureOpenAIServiceServer","constructor","f","client","isInitialized","modelDeployment","conversationHistory","interviewContext","type","preliminaryCollected","currentQuestionCount","maxQuestions","prelimQuestions","prelimIndex","candidateProfile","initialize","console","log","secrets","fetchAzureSecrets","b","azureOpenAIKey","azureOpenAIEndpoint","azureOpenAIDeployment","warn","error","createStructuredError","ErrorCode","SERVICE_NOT_CONFIGURED","service","missingCredentials","logServerError","Error","message","errorCode","code","category","details","MigrationOpenAIClient","init","structuredError","toStructuredError","CONFIGURATION_ERROR","String","isReady","setInterviewContext","context","Object","assign","_b","_a","_d","_c","_f","_e","buildSystemContext","templatePath","default","resolve","process","cwd","template","templateEngine","loadTemplate","candidate","name","currentRole","role","company","interview_type","experience_level","yearsExperience","tech_stack","techStack","split","map","trim","custom_instructions","buildCustomInstructions","sample_questions","getSampleQuestions","duration","tone","renderFromConfig","buildSystemContextLegacy","join","keySkills","position","difficulty","systemPrompt","startInterviewConversation","SERVICE_UNAVAILABLE","greeting","firstQuestion","openingMessage","cleanedOpeningMessage","prepareConversationForTTS","content","questionNumber","isComplete","getOpeningMessage","question","generateInterviewQuestion","getFallbackQuestion","processUserResponse","userResponse","responseLength","length","questionKeys","nextQuestion","cleanedResponse","systemContext","requestedQuestions","parseInt","questionCount","Math","min","max","push","cleanedQuestion","extractQuestionForTTS","cleanedIntro","cleanedContent","model","messagesCount","completion","chat","completions","create","messages","temperature","max_tokens","top_p","frequency_penalty","presence_penalty","assistantResponse","choices","tokensUsed","usage","total_tokens","originalLength","cleanedLength","removedFormatting","followUpSuggestions","generateFollowUpSuggestions","apiError","status","RATE_LIMIT_EXCEEDED","apiStatus","apiCode","AUTH_TOKEN_INVALID","deployment","AZURE_OPENAI_ERROR","apiType","getDifficultyLevel","count","custom_requirements","undefined","questionPrompt","generateInterviewQuestionLegacy","experience","generateInterviewSummary","summaryPrompt","msg","getConversationHistory","reset","exports","azureOpenAIServiceServer"],"sources":["/Users/dikshantvashistha/PrepBettr/azure/lib/services/azure-openai-service-server.ts"],"sourcesContent":["import { MigrationOpenAIClient } from '@/lib/azure-ai-foundry/clients/migration-wrapper';\nimport { fetchAzureSecrets } from '../azure-config';\nimport { templateEngine } from '@/lib/utils/template-engine';\nimport { prepareConversationForTTS, extractQuestionForTTS } from '@/lib/utils/text-preprocessing';\nimport path from 'path';\nimport { \n  ErrorCode, \n  createStructuredError, \n  toStructuredError,\n  StructuredError \n} from '@/lib/utils/structured-errors';\nimport { logServerError } from '@/lib/errors';\n\nexport interface ConversationMessage {\n  role: 'system' | 'user' | 'assistant';\n  content: string;\n}\n\nexport interface CandidateProfile {\n  currentRole?: string;\n  techStack?: string;\n  yearsExperience?: string;\n  keySkills?: string;\n  questionCount?: string;\n}\n\nexport interface InterviewContext {\n  type: 'technical' | 'behavioral' | 'general';\n  position?: string;\n  company?: string;\n  difficulty?: 'easy' | 'medium' | 'hard';\n  preliminaryCollected?: boolean; // Default: false - Indicates if preliminary info has been collected\n  currentQuestionCount?: number; // Current number of questions asked in the interview\n  maxQuestions?: number; // Default: 10 - Maximum number of questions for the interview\n}\n\nexport interface GenerationResponse {\n  content: string;\n  questionNumber?: number;\n  isComplete?: boolean;\n  followUpSuggestions?: string[];\n}\n\nexport class AzureOpenAIServiceServer {\n  private client: MigrationOpenAIClient | null = null;\n  private isInitialized = false;\n  private modelDeployment: string = 'gpt-4o'; // Store the deployment name as model\n  private conversationHistory: ConversationMessage[] = [];\n  private interviewContext: InterviewContext = { \n    type: 'general',\n    preliminaryCollected: false,\n    currentQuestionCount: 0,\n    maxQuestions: 10\n  };\n  \n  // Preliminary questions for gathering candidate profile\n  private prelimQuestions = [\n    'What is your current role?',\n    'What primary tech stack do you use?',\n    'How many years of experience do you have?',\n    'What are your key skills?',\n    'How many interview questions would you like?'\n  ];\n  private prelimIndex = 0;\n  private candidateProfile: Record<string, string> = {};\n\n  /**\n   * Initialize the Azure OpenAI service using server-side credential loading\n   */\n  async initialize(): Promise<boolean> {\n    try {\n      console.log('üîë Initializing Azure OpenAI service on server...');\n      const secrets = await fetchAzureSecrets();\n      \n      if (!secrets.azureOpenAIKey || !secrets.azureOpenAIEndpoint || !secrets.azureOpenAIDeployment) {\n        console.warn('‚ö†Ô∏è Azure OpenAI credentials not available');\n        const error = createStructuredError(\n          ErrorCode.SERVICE_NOT_CONFIGURED,\n          { service: 'azure-openai', missingCredentials: ['key', 'endpoint', 'deployment'] },\n          'Azure OpenAI credentials not available'\n        );\n        logServerError(new Error(error.message), {\n          errorCode: error.code,\n          category: error.category,\n          details: error.details\n        });\n        return false;\n      }\n\n      this.client = new MigrationOpenAIClient();\n      await this.client.init(); // Initialize the migration client\n      \n      // Store the deployment name for use as model in API calls\n      this.modelDeployment = secrets.azureOpenAIDeployment;\n\n      this.isInitialized = true;\n      console.log('‚úÖ Azure OpenAI Service (server-side) initialized successfully');\n      return true;\n    } catch (error) {\n      console.error('‚ùå Failed to initialize Azure OpenAI Service (server-side):', error);\n      const structuredError = toStructuredError(error, ErrorCode.CONFIGURATION_ERROR);\n      logServerError(error instanceof Error ? error : new Error(String(error)), {\n        errorCode: structuredError.code,\n        category: structuredError.category,\n        details: structuredError.details\n      });\n      return false;\n    }\n  }\n\n  /**\n   * Check if the service is ready to use\n   */\n  isReady(): boolean {\n    return this.isInitialized && this.client !== null;\n  }\n\n  /**\n   * Set interview context for conversation management\n   */\n  setInterviewContext(context: Partial<InterviewContext>): void {\n    // Merge context while preserving defaults\n    this.interviewContext = { \n      ...this.interviewContext, \n      ...context,\n      // Ensure defaults are set if not provided\n      preliminaryCollected: context.preliminaryCollected ?? this.interviewContext.preliminaryCollected ?? false,\n      currentQuestionCount: context.currentQuestionCount ?? this.interviewContext.currentQuestionCount ?? 0,\n      maxQuestions: context.maxQuestions ?? this.interviewContext.maxQuestions ?? 10\n    };\n    console.log('üìã Interview context updated:', this.interviewContext);\n  }\n\n  /**\n   * Build system context from candidate profile using template engine\n   */\n  private buildSystemContext(): string {\n    try {\n      // Load the interview prompts template\n      const templatePath = path.resolve(process.cwd(), 'config/templates/interview-prompts.yaml');\n      const template = templateEngine.loadTemplate(templatePath);\n      \n      // Build context for template rendering\n      const context = {\n        candidate: {\n          name: this.candidateProfile.currentRole || 'candidate'\n        },\n        role: this.candidateProfile.currentRole,\n        company: this.interviewContext.company,\n        interview_type: this.interviewContext.type,\n        experience_level: this.candidateProfile.yearsExperience,\n        tech_stack: this.candidateProfile.techStack ? this.candidateProfile.techStack.split(',').map(s => s.trim()) : [],\n        custom_instructions: this.buildCustomInstructions(),\n        sample_questions: this.getSampleQuestions(),\n        duration: '45-60 minutes',\n        tone: 'professional and encouraging'\n      };\n      \n      return templateEngine.renderFromConfig(template, context);\n    } catch (error) {\n      console.warn('‚ö†Ô∏è Template engine failed, falling back to legacy prompt building:', error);\n      return this.buildSystemContextLegacy();\n    }\n  }\n\n  /**\n   * Build custom instructions based on interview context\n   */\n  private buildCustomInstructions(): string {\n    const { currentQuestionCount, maxQuestions } = this.interviewContext;\n    return [\n      'Preliminary questions have already been collected - do NOT ask them again',\n      `You are currently on interview question ${(currentQuestionCount || 0) + 1} of ${maxQuestions}`,\n      'Continue with interview questions based on the candidate\\'s profile',\n      `After question ${maxQuestions}, conclude the interview and thank the candidate`,\n      `Do NOT exceed ${maxQuestions} interview questions`,\n      'Keep your responses under 100 words and ask one question at a time'\n    ].join('\\n');\n  }\n\n  /**\n   * Get sample questions based on interview type\n   */\n  private getSampleQuestions(): string[] {\n    const { type } = this.interviewContext;\n    const { techStack, yearsExperience, currentRole } = this.candidateProfile;\n    \n    switch (type) {\n      case 'technical':\n        return [\n          `Tell me about a challenging technical problem you've solved using ${techStack}`,\n          'How do you approach debugging complex issues?',\n          'Describe your experience with system design and scalability',\n          'What are your thoughts on code review and best practices?'\n        ];\n      case 'behavioral':\n        return [\n          'Tell me about a time when you had to work with a difficult team member',\n          'Describe a situation where you had to learn a new technology quickly',\n          'How do you handle conflicting priorities and tight deadlines?',\n          'Give me an example of when you mentored or helped a colleague'\n        ];\n      default:\n        return [\n          'What interests you most about this position?',\n          `How has your experience in ${currentRole} prepared you for this role?`,\n          'What are your career goals for the next few years?',\n          'What motivates you in your work?'\n        ];\n    }\n  }\n\n  /**\n   * Legacy system context builder (fallback)\n   */\n  private buildSystemContextLegacy(): string {\n    const { currentRole, techStack, yearsExperience, keySkills } = this.candidateProfile;\n    const { type, position, company, difficulty, currentQuestionCount, maxQuestions } = this.interviewContext;\n    \n    let systemPrompt = `You are an AI interviewer conducting a ${type} interview with a candidate.\\n\\n`;\n    systemPrompt += `Candidate Profile:\\n`;\n    systemPrompt += `- Current Role: ${currentRole}\\n`;\n    systemPrompt += `- Tech Stack: ${techStack}\\n`;\n    systemPrompt += `- Years of Experience: ${yearsExperience}\\n`;\n    systemPrompt += `- Key Skills: ${keySkills}\\n\\n`;\n    \n    systemPrompt += `Interview Guidelines:\\n`;\n    systemPrompt += `1. Ask relevant, engaging questions tailored to their experience level\\n`;\n    systemPrompt += `2. Follow up on answers with clarifying questions\\n`;\n    systemPrompt += `3. Maintain a professional but friendly tone\\n`;\n    systemPrompt += `4. Keep responses concise and focused\\n`;\n    systemPrompt += `5. Adapt difficulty based on their experience and responses\\n\\n`;\n    \n    systemPrompt += `Interview Flow Control:\\n`;\n    systemPrompt += `‚Ä¢ Preliminary questions have already been collected - do NOT ask them again\\n`;\n    systemPrompt += `‚Ä¢ You are currently on interview question ${(currentQuestionCount || 0) + 1} of ${maxQuestions}\\n`;\n    systemPrompt += `‚Ä¢ Continue with interview questions based on the candidate's profile\\n`;\n    systemPrompt += `‚Ä¢ After question ${maxQuestions}, conclude the interview and thank the candidate\\n`;\n    systemPrompt += `‚Ä¢ Do NOT exceed ${maxQuestions} interview questions\\n\\n`;\n    \n    if (position) {\n      systemPrompt += `Position: ${position}\\n`;\n    }\n    if (company) {\n      systemPrompt += `Company: ${company}\\n`;\n    }\n    if (difficulty) {\n      systemPrompt += `Difficulty Level: ${difficulty}\\n`;\n    }\n    \n    switch (type) {\n      case 'technical':\n        systemPrompt += `\\nFocus on technical skills relevant to their tech stack (${techStack}), problem-solving, coding concepts, and system design appropriate for someone with ${yearsExperience} years of experience.`;\n        break;\n      case 'behavioral':\n        systemPrompt += `\\nFocus on behavioral questions about teamwork, leadership, conflict resolution, and past experiences relevant to someone in a ${currentRole} role.`;\n        break;\n      default:\n        systemPrompt += `\\nAsk a mix of questions about background, experience, goals, and general fit for the role, considering their ${yearsExperience} years of experience in ${currentRole}.`;\n    }\n    \n    systemPrompt += `\\n\\nKeep your responses under 100 words and ask one question at a time.`;\n    return systemPrompt;\n  }\n\n  /**\n   * Start a new interview conversation\n   */\n  async startInterviewConversation(): Promise<GenerationResponse> {\n    if (!this.isInitialized || !this.client) {\n      const error = createStructuredError(\n        ErrorCode.SERVICE_UNAVAILABLE,\n        { service: 'azure-openai' },\n        'Azure OpenAI Service not initialized'\n      );\n      throw error;\n    }\n\n    // Reset conversation history and preliminary questions state\n    this.conversationHistory = [];\n    this.prelimIndex = 0;\n    this.candidateProfile = {};\n    // Reset interview context flags\n    this.interviewContext.preliminaryCollected = false;\n    this.interviewContext.currentQuestionCount = 0;\n\n    // Send greeting + first preliminary question\n    const greeting = \"Hello! Welcome to your interview practice session. Before we begin, I'd like to learn a bit about you.\";\n    const firstQuestion = this.prelimQuestions[0];\n    const openingMessage = `${greeting}\\n\\n${firstQuestion}`;\n\n    // Clean the opening message for TTS\n    const cleanedOpeningMessage = prepareConversationForTTS(openingMessage);\n    \n    return {\n      content: cleanedOpeningMessage,\n      questionNumber: 0, // 0 indicates preliminary questions\n      isComplete: false\n    };\n  }\n\n  /**\n   * Get opening message based on interview type\n   * Uses generateInterviewQuestion helper for domain-specific questions\n   */\n  private async getOpeningMessage(): Promise<string> {\n    const { position } = this.interviewContext;\n    \n    let greeting = \"\";\n    \n    if (position) {\n      greeting += `Let's discuss the ${position} position. `;\n    }\n    \n    try {\n      // Use the helper to generate a domain-specific opening question\n      const question = await this.generateInterviewQuestion();\n      return greeting + question;\n    } catch (error) {\n      console.warn('‚ö†Ô∏è Falling back to default opening question');\n      // Fallback to a simpler approach if generation fails\n      return greeting + this.getFallbackQuestion();\n    }\n  }\n\n  /**\n   * Process user response and generate next question or comment\n   */\n  async processUserResponse(userResponse: string): Promise<GenerationResponse> {\n    console.log('üß™ [AZURE OPENAI] Processing user response', { \n      responseLength: userResponse.length, \n      preliminaryCollected: this.interviewContext.preliminaryCollected,\n      currentQuestionCount: this.interviewContext.currentQuestionCount\n    });\n    \n    if (!this.isInitialized || !this.client) {\n      console.error('‚ùå [AZURE OPENAI] Service not initialized');\n      const error = createStructuredError(\n        ErrorCode.SERVICE_UNAVAILABLE,\n        { service: 'azure-openai', context: 'process-user-response' },\n        'Azure OpenAI Service not initialized'\n      );\n      throw error;\n    }\n\n    // Check if we're still collecting preliminary information\n    if (!this.interviewContext.preliminaryCollected) {\n      // We're in preliminary phase - check if we still have questions to ask\n      if (this.prelimIndex < this.prelimQuestions.length) {\n        // Store the user's answer to the current preliminary question\n        const questionKeys = ['currentRole', 'techStack', 'yearsExperience', 'keySkills', 'questionCount'];\n        this.candidateProfile[questionKeys[this.prelimIndex]] = userResponse;\n        \n        // Increment to next preliminary question\n        this.prelimIndex++;\n        \n        // If there are more preliminary questions, return the next one\n        if (this.prelimIndex < this.prelimQuestions.length) {\n          const nextQuestion = this.prelimQuestions[this.prelimIndex];\n          const cleanedResponse = prepareConversationForTTS(`Thank you! ${nextQuestion}`);\n          return {\n            content: cleanedResponse,\n            questionNumber: 0, // Still in preliminary phase - keep at 0\n            isComplete: false\n          };\n        } else {\n          // All preliminary questions collected - mark as complete\n          this.interviewContext.preliminaryCollected = true;\n          // Keep currentQuestionCount at 0 as we haven't asked real questions yet\n          this.interviewContext.currentQuestionCount = 0;\n          \n          // Build system context from collected profile\n          const systemContext = this.buildSystemContext();\n          \n          // Initialize conversation history with system context\n          this.conversationHistory = [\n            { role: 'system', content: systemContext }\n          ];\n          \n          // Set max questions from user's response\n          const requestedQuestions = parseInt(this.candidateProfile.questionCount) || 10;\n          this.interviewContext.maxQuestions = Math.min(Math.max(requestedQuestions, 5), 20); // Between 5 and 20\n          \n          // Generate the first real interview question\n          const openingMessage = await this.getOpeningMessage();\n          this.conversationHistory.push({ role: 'assistant', content: openingMessage });\n          \n          // Increment question count for the first real question\n          this.interviewContext.currentQuestionCount = 1;\n          \n          // Clean the content for TTS - extract just the question part and remove formatting\n          const cleanedQuestion = extractQuestionForTTS(openingMessage);\n          const cleanedIntro = prepareConversationForTTS(\"Great! I now have a better understanding of your background. Let's begin the interview.\");\n          const cleanedContent = `${cleanedIntro} ${cleanedQuestion}`;\n          \n          return {\n            content: cleanedContent,\n            questionNumber: 1, // First real question\n            isComplete: false\n          };\n        }\n      }\n    }\n\n    // Normal interview flow - preliminary info has been collected\n    // Add user response to conversation history\n    this.conversationHistory.push({ role: 'user', content: userResponse });\n\n    try {\n      console.log('üß™ [AZURE OPENAI] Calling OpenAI API with', {\n        model: this.modelDeployment,\n        messagesCount: this.conversationHistory.length,\n        currentQuestionCount: this.interviewContext.currentQuestionCount\n      });\n      \n      if (!this.client) {\n        throw new Error('OpenAI client not initialized');\n      }\n      const completion = await this.client.chat.completions.create({\n        model: this.modelDeployment,\n        messages: this.conversationHistory,\n        temperature: 0.5, // Reduced from 0.7 for faster, more focused responses\n        max_tokens: 80,    // Reduced from 200 for shorter, quicker responses\n        top_p: 0.8,       // Slightly reduced for more deterministic responses\n        frequency_penalty: 0.0, // Removed penalties for faster processing\n        presence_penalty: 0.0,\n      });\n\n      const assistantResponse = completion.choices[0]?.message?.content || 'I\\'m sorry, I didn\\'t catch that. Could you repeat your answer?';\n      \n      console.log('‚úÖ [AZURE OPENAI] Got response from OpenAI', {\n        responseLength: assistantResponse.length,\n        tokensUsed: completion.usage?.total_tokens || 'unknown'\n      });\n      \n      // Add assistant response to conversation history\n      this.conversationHistory.push({ role: 'assistant', content: assistantResponse });\n\n      // Increment question count for the next question\n      const currentQuestionCount = (this.interviewContext.currentQuestionCount || 0) + 1;\n      const maxQuestions = this.interviewContext.maxQuestions || 10;\n      \n      // Update question count in context\n      this.interviewContext.currentQuestionCount = currentQuestionCount;\n      \n      // Clean the content for TTS - remove markdown formatting and extract meaningful text\n      const cleanedContent = prepareConversationForTTS(assistantResponse);\n      \n      console.log('üßπ [TTS PREPROCESSING] Cleaned response for speech', {\n        originalLength: assistantResponse.length,\n        cleanedLength: cleanedContent.length,\n        removedFormatting: assistantResponse !== cleanedContent\n      });\n\n      return {\n        content: cleanedContent,\n        questionNumber: currentQuestionCount,\n        isComplete: currentQuestionCount >= maxQuestions,\n        followUpSuggestions: this.generateFollowUpSuggestions()\n      };\n    } catch (error) {\n      console.error('‚ùå [AZURE OPENAI] Error generating OpenAI response:', error);\n      \n      // Map to structured error codes\n      let structuredError: StructuredError;\n      \n      if (error && typeof error === 'object' && 'status' in error) {\n        const apiError = error as any;\n        console.error('‚ùå [AZURE OPENAI] API Error Details:', {\n          status: apiError.status,\n          code: apiError.code,\n          type: apiError.type,\n          message: apiError.message\n        });\n        \n        if (apiError.status === 429) {\n          structuredError = createStructuredError(\n            ErrorCode.RATE_LIMIT_EXCEEDED,\n            { service: 'azure-openai', apiStatus: apiError.status, apiCode: apiError.code },\n            'Rate limit exceeded - please try again in a moment'\n          );\n        } else if (apiError.status === 401 || apiError.status === 403) {\n          structuredError = createStructuredError(\n            ErrorCode.AUTH_TOKEN_INVALID,\n            { service: 'azure-openai', apiStatus: apiError.status },\n            'Authentication failed - please check Azure OpenAI credentials'\n          );\n        } else if (apiError.status === 404) {\n          structuredError = createStructuredError(\n            ErrorCode.CONFIGURATION_ERROR,\n            { service: 'azure-openai', deployment: this.modelDeployment, apiStatus: apiError.status },\n            `Model deployment '${this.modelDeployment}' not found`\n          );\n        } else if (apiError.status >= 500) {\n          structuredError = createStructuredError(\n            ErrorCode.AZURE_OPENAI_ERROR,\n            { service: 'azure-openai', apiStatus: apiError.status, apiType: apiError.type },\n            'Azure OpenAI service error'\n          );\n        } else {\n          structuredError = toStructuredError(error, ErrorCode.AZURE_OPENAI_ERROR);\n        }\n      } else {\n        structuredError = toStructuredError(error, ErrorCode.AZURE_OPENAI_ERROR);\n      }\n      \n      // Log the error for monitoring\n      logServerError(error instanceof Error ? error : new Error(String(error)), {\n        errorCode: structuredError.code,\n        category: structuredError.category,\n        details: structuredError.details,\n        context: 'azure-openai-process-response'\n      });\n      \n      throw structuredError;\n    }\n  }\n\n  /**\n   * Generate follow-up suggestions based on conversation\n   */\n  private generateFollowUpSuggestions(): string[] {\n    const { type } = this.interviewContext;\n    \n    switch (type) {\n      case 'technical':\n        return [\n          \"Can you explain your thought process?\",\n          \"What would you do differently?\",\n          \"How would this scale?\"\n        ];\n      case 'behavioral':\n        return [\n          \"What was the outcome?\",\n          \"What did you learn?\",\n          \"How would you handle it now?\"\n        ];\n      default:\n        return [\n          \"Can you elaborate on that?\",\n          \"What was your biggest challenge?\",\n          \"What motivates you?\"\n        ];\n    }\n  }\n\n  /**\n   * Generate a domain-specific interview question using template engine\n   */\n  async generateInterviewQuestion(): Promise<string> {\n    if (!this.isInitialized || !this.client) {\n      const error = createStructuredError(\n        ErrorCode.SERVICE_UNAVAILABLE,\n        { service: 'azure-openai', context: 'generate-interview-question' },\n        'Azure OpenAI Service not initialized'\n      );\n      throw error;\n    }\n\n    try {\n      // Load the question generation template\n      const templatePath = path.resolve(process.cwd(), 'config/templates/question-templates.yaml');\n      const template = templateEngine.loadTemplate(templatePath);\n      \n      // Build context for template rendering\n      const context = {\n        role: this.candidateProfile.currentRole || 'Software Developer',\n        category: this.interviewContext.type || 'general',\n        difficulty: this.getDifficultyLevel(),\n        count: 1,\n        tech_stack: this.candidateProfile.techStack ? this.candidateProfile.techStack.split(',').map(s => s.trim()) : [],\n        experience_level: this.candidateProfile.yearsExperience || 'mid-level',\n        custom_requirements: this.interviewContext.position ? `Focus on requirements for ${this.interviewContext.position} position` : undefined\n      };\n      \n      const questionPrompt = templateEngine.renderFromConfig(template, context);\n      \n      if (!this.client) {\n        throw new Error('OpenAI client not initialized');\n      }\n      const completion = await this.client.chat.completions.create({\n        model: this.modelDeployment,\n        messages: [{ role: 'user', content: questionPrompt }],\n        temperature: 0.8,\n        max_tokens: 100,\n        top_p: 0.9,\n      });\n\n      const question = completion.choices[0]?.message?.content?.trim() || this.getFallbackQuestion();\n      return question;\n    } catch (error) {\n      console.warn('‚ö†Ô∏è Template-based question generation failed, using legacy method:', error);\n      // Log but don't throw - fallback to legacy method\n      const structuredError = toStructuredError(error, ErrorCode.AZURE_OPENAI_ERROR);\n      logServerError(error instanceof Error ? error : new Error(String(error)), {\n        errorCode: structuredError.code,\n        category: structuredError.category,\n        details: { ...structuredError.details, context: 'template-question-generation' },\n        context: 'azure-openai-question-template-fallback'\n      });\n      return this.generateInterviewQuestionLegacy();\n    }\n  }\n\n  /**\n   * Get difficulty level mapping\n   */\n  private getDifficultyLevel(): string {\n    const experience = parseInt(this.candidateProfile.yearsExperience || '3');\n    if (experience <= 2) return 'junior';\n    if (experience <= 5) return 'mid';\n    if (experience <= 10) return 'senior';\n    return 'principal';\n  }\n\n  /**\n   * Legacy question generation method (fallback)\n   */\n  private async generateInterviewQuestionLegacy(): Promise<string> {\n    const { type, difficulty, position } = this.interviewContext;\n    const { currentRole, techStack, yearsExperience, keySkills } = this.candidateProfile;\n    \n    let questionPrompt = `Generate one concise interview question. `;\n    \n    // Add context-specific instructions based on interview type\n    switch (type) {\n      case 'technical':\n        questionPrompt += `Focus on technical skills and problem-solving.\\n`;\n        questionPrompt += `Consider the candidate's tech stack: ${techStack || 'various technologies'}.\\n`;\n        questionPrompt += `Experience level: ${yearsExperience || 'mid-level'} years.\\n`;\n        questionPrompt += `Include specific technical scenarios such as:\\n`;\n        questionPrompt += `- Code/architecture design challenges\\n`;\n        questionPrompt += `- Debugging or optimization problems\\n`;\n        questionPrompt += `- Technology-specific best practices\\n`;\n        questionPrompt += `- System scalability considerations\\n`;\n        break;\n        \n      case 'behavioral':\n        questionPrompt += `Focus on behavioral assessment using STAR method.\\n`;\n        questionPrompt += `Consider the candidate's role: ${currentRole || 'general position'}.\\n`;\n        questionPrompt += `Ask about situations involving:\\n`;\n        questionPrompt += `- Leadership and teamwork\\n`;\n        questionPrompt += `- Conflict resolution\\n`;\n        questionPrompt += `- Problem-solving under pressure\\n`;\n        questionPrompt += `- Learning from failures\\n`;\n        break;\n        \n      default:\n        questionPrompt += `Ask a general interview question.\\n`;\n        questionPrompt += `Consider the candidate's background: ${currentRole || 'various roles'} with ${yearsExperience || 'some'} years experience.\\n`;\n        questionPrompt += `Focus on motivation, goals, and cultural fit.\\n`;\n    }\n\n    if (difficulty) {\n      questionPrompt += `Difficulty level: ${difficulty}.\\n`;\n    }\n    \n    if (position) {\n      questionPrompt += `Position being interviewed for: ${position}.\\n`;\n    }\n\n    questionPrompt += `\\nReturn only the question text, no additional formatting or explanations.`;\n\n    try {\n      if (!this.client) {\n        throw new Error('OpenAI client not initialized');\n      }\n      const completion = await this.client.chat.completions.create({\n        model: this.modelDeployment,\n        messages: [{ role: 'user', content: questionPrompt }],\n        temperature: 0.8,\n        max_tokens: 100,\n        top_p: 0.9,\n      });\n\n      const question = completion.choices[0]?.message?.content?.trim() || this.getFallbackQuestion();\n      return question;\n    } catch (error) {\n      console.warn('‚ö†Ô∏è Failed to generate interview question, using fallback');\n      // Log the error for monitoring but return fallback instead of throwing\n      const structuredError = toStructuredError(error, ErrorCode.AZURE_OPENAI_ERROR);\n      logServerError(error instanceof Error ? error : new Error(String(error)), {\n        errorCode: structuredError.code,\n        category: structuredError.category,\n        details: { ...structuredError.details, context: 'legacy-question-generation' },\n        context: 'azure-openai-question-legacy-fallback'\n      });\n      return this.getFallbackQuestion();\n    }\n  }\n\n  /**\n   * Get fallback question when generation fails\n   */\n  private getFallbackQuestion(): string {\n    const { type } = this.interviewContext;\n    \n    switch (type) {\n      case 'technical':\n        return \"Tell me about a challenging technical problem you've solved recently.\";\n      case 'behavioral':\n        return \"Can you describe a time when you had to work with a difficult team member?\";\n      default:\n        return \"What interests you most about this role?\";\n    }\n  }\n\n  /**\n   * Generate interview summary\n   */\n  async generateInterviewSummary(): Promise<string | null> {\n    if (!this.isInitialized || !this.client || this.conversationHistory.length === 0) {\n      return null;\n    }\n\n    const summaryPrompt = `Based on the following interview conversation, provide a brief summary of the candidate's performance, strengths, and areas for improvement. Keep it concise and professional.\\n\\nConversation:\\n${this.conversationHistory.map(msg => `${msg.role}: ${msg.content}`).join('\\n')}`;\n\n    try {\n      if (!this.client) {\n        throw new Error('OpenAI client not initialized');\n      }\n      const completion = await this.client.chat.completions.create({\n        model: this.modelDeployment,\n        messages: [{ role: 'user', content: summaryPrompt }],\n        temperature: 0.5,\n        max_tokens: 300,\n      });\n\n      return completion.choices[0]?.message?.content?.trim() || null;\n    } catch (error) {\n      console.error('‚ùå Error generating interview summary:', error);\n      // Log the error for monitoring but return null instead of throwing\n      const structuredError = toStructuredError(error, ErrorCode.AZURE_OPENAI_ERROR);\n      logServerError(error instanceof Error ? error : new Error(String(error)), {\n        errorCode: structuredError.code,\n        category: structuredError.category,\n        details: { ...structuredError.details, context: 'interview-summary-generation' },\n        context: 'azure-openai-summary-generation'\n      });\n      return null;\n    }\n  }\n\n  /**\n   * Get conversation history\n   */\n  getConversationHistory(): ConversationMessage[] {\n    return this.conversationHistory;\n  }\n\n  /**\n   * Reset the service state\n   */\n  reset(): void {\n    this.conversationHistory = [];\n    this.prelimIndex = 0;\n    this.candidateProfile = {};\n    this.interviewContext = { \n      type: 'general',\n      preliminaryCollected: false,\n      currentQuestionCount: 0,\n      maxQuestions: 10\n    };\n    console.log('üîÑ Azure OpenAI Service state reset');\n  }\n}\n\n// Create and export a singleton instance for use across the application\nexport const azureOpenAIServiceServer = new AzureOpenAIServiceServer();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}