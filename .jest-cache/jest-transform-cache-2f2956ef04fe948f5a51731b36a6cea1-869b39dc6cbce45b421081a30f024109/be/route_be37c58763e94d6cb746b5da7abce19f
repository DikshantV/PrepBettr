4cc2182201d8c932e1792d866024f7c1
"use strict";

/* istanbul ignore next */
function cov_2ia6v754lj() {
  var path = "/Users/dikshantvashistha/PrepBettr/app/api/auth/firebase-proxy/route.ts";
  var hash = "1186c19a71ba4753df83579db30d39768155e9ca";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/dikshantvashistha/PrepBettr/app/api/auth/firebase-proxy/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 2,
          column: 62
        }
      },
      "1": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 3,
          column: 20
        }
      },
      "2": {
        start: {
          line: 4,
          column: 17
        },
        end: {
          line: 4,
          column: 39
        }
      },
      "3": {
        start: {
          line: 14,
          column: 22
        },
        end: {
          line: 14,
          column: 46
        }
      },
      "4": {
        start: {
          line: 15,
          column: 4
        },
        end: {
          line: 15,
          column: 64
        }
      },
      "5": {
        start: {
          line: 16,
          column: 4
        },
        end: {
          line: 32,
          column: 5
        }
      },
      "6": {
        start: {
          line: 17,
          column: 33
        },
        end: {
          line: 17,
          column: 53
        }
      },
      "7": {
        start: {
          line: 18,
          column: 8
        },
        end: {
          line: 27,
          column: 9
        }
      },
      "8": {
        start: {
          line: 20,
          column: 16
        },
        end: {
          line: 20,
          column: 57
        }
      },
      "9": {
        start: {
          line: 22,
          column: 16
        },
        end: {
          line: 22,
          column: 54
        }
      },
      "10": {
        start: {
          line: 24,
          column: 16
        },
        end: {
          line: 24,
          column: 54
        }
      },
      "11": {
        start: {
          line: 26,
          column: 16
        },
        end: {
          line: 26,
          column: 96
        }
      },
      "12": {
        start: {
          line: 30,
          column: 8
        },
        end: {
          line: 30,
          column: 56
        }
      },
      "13": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 31,
          column: 94
        }
      },
      "14": {
        start: {
          line: 38,
          column: 4
        },
        end: {
          line: 64,
          column: 5
        }
      },
      "15": {
        start: {
          line: 40,
          column: 25
        },
        end: {
          line: 41,
          column: 96
        }
      },
      "16": {
        start: {
          line: 42,
          column: 24
        },
        end: {
          line: 42,
          column: 46
        }
      },
      "17": {
        start: {
          line: 43,
          column: 28
        },
        end: {
          line: 43,
          column: 73
        }
      },
      "18": {
        start: {
          line: 44,
          column: 22
        },
        end: {
          line: 44,
          column: 64
        }
      },
      "19": {
        start: {
          line: 45,
          column: 22
        },
        end: {
          line: 45,
          column: 65
        }
      },
      "20": {
        start: {
          line: 47,
          column: 24
        },
        end: {
          line: 53,
          column: 35
        }
      },
      "21": {
        start: {
          line: 54,
          column: 8
        },
        end: {
          line: 54,
          column: 52
        }
      },
      "22": {
        start: {
          line: 55,
          column: 8
        },
        end: {
          line: 59,
          column: 11
        }
      },
      "23": {
        start: {
          line: 62,
          column: 8
        },
        end: {
          line: 62,
          column: 66
        }
      },
      "24": {
        start: {
          line: 63,
          column: 8
        },
        end: {
          line: 63,
          column: 107
        }
      },
      "25": {
        start: {
          line: 70,
          column: 4
        },
        end: {
          line: 127,
          column: 5
        }
      },
      "26": {
        start: {
          line: 71,
          column: 32
        },
        end: {
          line: 71,
          column: 36
        }
      },
      "27": {
        start: {
          line: 72,
          column: 8
        },
        end: {
          line: 74,
          column: 9
        }
      },
      "28": {
        start: {
          line: 73,
          column: 12
        },
        end: {
          line: 73,
          column: 62
        }
      },
      "29": {
        start: {
          line: 76,
          column: 25
        },
        end: {
          line: 77,
          column: 96
        }
      },
      "30": {
        start: {
          line: 78,
          column: 29
        },
        end: {
          line: 78,
          column: 85
        }
      },
      "31": {
        start: {
          line: 79,
          column: 28
        },
        end: {
          line: 79,
          column: 117
        }
      },
      "32": {
        start: {
          line: 81,
          column: 30
        },
        end: {
          line: 93,
          column: 10
        }
      },
      "33": {
        start: {
          line: 94,
          column: 8
        },
        end: {
          line: 97,
          column: 9
        }
      },
      "34": {
        start: {
          line: 95,
          column: 30
        },
        end: {
          line: 95,
          column: 56
        }
      },
      "35": {
        start: {
          line: 96,
          column: 12
        },
        end: {
          line: 96,
          column: 67
        }
      },
      "36": {
        start: {
          line: 98,
          column: 26
        },
        end: {
          line: 98,
          column: 52
        }
      },
      "37": {
        start: {
          line: 100,
          column: 29
        },
        end: {
          line: 104,
          column: 10
        }
      },
      "38": {
        start: {
          line: 105,
          column: 8
        },
        end: {
          line: 107,
          column: 9
        }
      },
      "39": {
        start: {
          line: 106,
          column: 12
        },
        end: {
          line: 106,
          column: 67
        }
      },
      "40": {
        start: {
          line: 108,
          column: 27
        },
        end: {
          line: 108,
          column: 52
        }
      },
      "41": {
        start: {
          line: 110,
          column: 34
        },
        end: {
          line: 110,
          column: 71
        }
      },
      "42": {
        start: {
          line: 111,
          column: 8
        },
        end: {
          line: 111,
          column: 78
        }
      },
      "43": {
        start: {
          line: 112,
          column: 8
        },
        end: {
          line: 122,
          column: 11
        }
      },
      "44": {
        start: {
          line: 125,
          column: 8
        },
        end: {
          line: 125,
          column: 66
        }
      },
      "45": {
        start: {
          line: 126,
          column: 8
        },
        end: {
          line: 126,
          column: 156
        }
      },
      "46": {
        start: {
          line: 133,
          column: 4
        },
        end: {
          line: 170,
          column: 5
        }
      },
      "47": {
        start: {
          line: 134,
          column: 23
        },
        end: {
          line: 134,
          column: 63
        }
      },
      "48": {
        start: {
          line: 135,
          column: 26
        },
        end: {
          line: 135,
          column: 84
        }
      },
      "49": {
        start: {
          line: 137,
          column: 24
        },
        end: {
          line: 137,
          column: 113
        }
      },
      "50": {
        start: {
          line: 138,
          column: 25
        },
        end: {
          line: 143,
          column: 10
        }
      },
      "51": {
        start: {
          line: 144,
          column: 8
        },
        end: {
          line: 144,
          column: 71
        }
      },
      "52": {
        start: {
          line: 145,
          column: 8
        },
        end: {
          line: 163,
          column: 9
        }
      },
      "53": {
        start: {
          line: 146,
          column: 27
        },
        end: {
          line: 146,
          column: 48
        }
      },
      "54": {
        start: {
          line: 147,
          column: 12
        },
        end: {
          line: 155,
          column: 15
        }
      },
      "55": {
        start: {
          line: 158,
          column: 30
        },
        end: {
          line: 158,
          column: 51
        }
      },
      "56": {
        start: {
          line: 159,
          column: 12
        },
        end: {
          line: 162,
          column: 15
        }
      },
      "57": {
        start: {
          line: 166,
          column: 8
        },
        end: {
          line: 169,
          column: 11
        }
      },
      "58": {
        start: {
          line: 176,
          column: 19
        },
        end: {
          line: 180,
          column: 5
        }
      },
      "59": {
        start: {
          line: 181,
          column: 16
        },
        end: {
          line: 181,
          column: 45
        }
      },
      "60": {
        start: {
          line: 182,
          column: 20
        },
        end: {
          line: 202,
          column: 5
        }
      },
      "61": {
        start: {
          line: 204,
          column: 26
        },
        end: {
          line: 204,
          column: 83
        }
      },
      "62": {
        start: {
          line: 205,
          column: 27
        },
        end: {
          line: 205,
          column: 85
        }
      },
      "63": {
        start: {
          line: 206,
          column: 4
        },
        end: {
          line: 206,
          column: 71
        }
      }
    },
    fnMap: {
      "0": {
        name: "POST",
        decl: {
          start: {
            line: 13,
            column: 15
          },
          end: {
            line: 13,
            column: 19
          }
        },
        loc: {
          start: {
            line: 13,
            column: 29
          },
          end: {
            line: 33,
            column: 1
          }
        },
        line: 13
      },
      "1": {
        name: "initiateGoogleAuth",
        decl: {
          start: {
            line: 37,
            column: 15
          },
          end: {
            line: 37,
            column: 33
          }
        },
        loc: {
          start: {
            line: 37,
            column: 43
          },
          end: {
            line: 65,
            column: 1
          }
        },
        line: 37
      },
      "2": {
        name: "completeGoogleAuth",
        decl: {
          start: {
            line: 69,
            column: 15
          },
          end: {
            line: 69,
            column: 33
          }
        },
        loc: {
          start: {
            line: 69,
            column: 40
          },
          end: {
            line: 128,
            column: 1
          }
        },
        line: 69
      },
      "3": {
        name: "testFirebaseConnection",
        decl: {
          start: {
            line: 132,
            column: 15
          },
          end: {
            line: 132,
            column: 37
          }
        },
        loc: {
          start: {
            line: 132,
            column: 40
          },
          end: {
            line: 171,
            column: 1
          }
        },
        line: 132
      },
      "4": {
        name: "createMockFirebaseIdToken",
        decl: {
          start: {
            line: 175,
            column: 9
          },
          end: {
            line: 175,
            column: 34
          }
        },
        loc: {
          start: {
            line: 175,
            column: 47
          },
          end: {
            line: 207,
            column: 1
          }
        },
        line: 175
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 18,
            column: 8
          },
          end: {
            line: 27,
            column: 9
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 19,
            column: 12
          },
          end: {
            line: 20,
            column: 57
          }
        }, {
          start: {
            line: 21,
            column: 12
          },
          end: {
            line: 22,
            column: 54
          }
        }, {
          start: {
            line: 23,
            column: 12
          },
          end: {
            line: 24,
            column: 54
          }
        }, {
          start: {
            line: 25,
            column: 12
          },
          end: {
            line: 26,
            column: 96
          }
        }],
        line: 18
      },
      "1": {
        loc: {
          start: {
            line: 41,
            column: 13
          },
          end: {
            line: 41,
            column: 95
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 41,
            column: 13
          },
          end: {
            line: 41,
            column: 48
          }
        }, {
          start: {
            line: 41,
            column: 52
          },
          end: {
            line: 41,
            column: 95
          }
        }],
        line: 41
      },
      "2": {
        loc: {
          start: {
            line: 72,
            column: 8
          },
          end: {
            line: 74,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 72,
            column: 8
          },
          end: {
            line: 74,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 72
      },
      "3": {
        loc: {
          start: {
            line: 77,
            column: 13
          },
          end: {
            line: 77,
            column: 95
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 77,
            column: 13
          },
          end: {
            line: 77,
            column: 48
          }
        }, {
          start: {
            line: 77,
            column: 52
          },
          end: {
            line: 77,
            column: 95
          }
        }],
        line: 77
      },
      "4": {
        loc: {
          start: {
            line: 78,
            column: 29
          },
          end: {
            line: 78,
            column: 85
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 78,
            column: 29
          },
          end: {
            line: 78,
            column: 61
          }
        }, {
          start: {
            line: 78,
            column: 65
          },
          end: {
            line: 78,
            column: 85
          }
        }],
        line: 78
      },
      "5": {
        loc: {
          start: {
            line: 79,
            column: 31
          },
          end: {
            line: 79,
            column: 82
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 79,
            column: 31
          },
          end: {
            line: 79,
            column: 55
          }
        }, {
          start: {
            line: 79,
            column: 59
          },
          end: {
            line: 79,
            column: 82
          }
        }],
        line: 79
      },
      "6": {
        loc: {
          start: {
            line: 94,
            column: 8
          },
          end: {
            line: 97,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 94,
            column: 8
          },
          end: {
            line: 97,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 94
      },
      "7": {
        loc: {
          start: {
            line: 105,
            column: 8
          },
          end: {
            line: 107,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 105,
            column: 8
          },
          end: {
            line: 107,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 105
      },
      "8": {
        loc: {
          start: {
            line: 126,
            column: 77
          },
          end: {
            line: 126,
            column: 133
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 126,
            column: 102
          },
          end: {
            line: 126,
            column: 115
          }
        }, {
          start: {
            line: 126,
            column: 118
          },
          end: {
            line: 126,
            column: 133
          }
        }],
        line: 126
      },
      "9": {
        loc: {
          start: {
            line: 135,
            column: 26
          },
          end: {
            line: 135,
            column: 84
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 135,
            column: 26
          },
          end: {
            line: 135,
            column: 69
          }
        }, {
          start: {
            line: 135,
            column: 73
          },
          end: {
            line: 135,
            column: 84
          }
        }],
        line: 135
      },
      "10": {
        loc: {
          start: {
            line: 145,
            column: 8
          },
          end: {
            line: 163,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 145,
            column: 8
          },
          end: {
            line: 163,
            column: 9
          }
        }, {
          start: {
            line: 157,
            column: 13
          },
          end: {
            line: 163,
            column: 9
          }
        }],
        line: 145
      },
      "11": {
        loc: {
          start: {
            line: 153,
            column: 31
          },
          end: {
            line: 153,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 153,
            column: 31
          },
          end: {
            line: 153,
            column: 44
          }
        }, {
          start: {
            line: 153,
            column: 48
          },
          end: {
            line: 153,
            column: 50
          }
        }],
        line: 153
      },
      "12": {
        loc: {
          start: {
            line: 168,
            column: 55
          },
          end: {
            line: 168,
            column: 111
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 168,
            column: 80
          },
          end: {
            line: 168,
            column: 93
          }
        }, {
          start: {
            line: 168,
            column: 96
          },
          end: {
            line: 168,
            column: 111
          }
        }],
        line: 168
      },
      "13": {
        loc: {
          start: {
            line: 192,
            column: 24
          },
          end: {
            line: 192,
            column: 57
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 192,
            column: 24
          },
          end: {
            line: 192,
            column: 49
          }
        }, {
          start: {
            line: 192,
            column: 53
          },
          end: {
            line: 192,
            column: 57
          }
        }],
        line: 192
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0
    },
    b: {
      "0": [0, 0, 0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0]
    },
    inputSourceMap: {
      file: "/Users/dikshantvashistha/PrepBettr/app/api/auth/firebase-proxy/route.ts",
      mappings: "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",
      names: [],
      sources: ["/Users/dikshantvashistha/PrepBettr/app/api/auth/firebase-proxy/route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server';\n\n/**\n * Firebase Auth Proxy Route\n * \n * This route acts as a server-side proxy for Firebase authentication\n * to bypass browser network connectivity issues with Firebase services.\n * \n * It handles Google OAuth flow entirely on the server side.\n */\n\nexport async function POST(request: NextRequest) {\n  const timestamp = new Date().toISOString();\n  console.log(`\uD83C\uDF10 [${timestamp}] Firebase Auth Proxy called`);\n  \n  try {\n    const { action, data } = await request.json();\n    \n    switch (action) {\n      case 'initiate-google-auth':\n        return await initiateGoogleAuth(request);\n        \n      case 'complete-google-auth':\n        return await completeGoogleAuth(data);\n        \n      case 'test-firebase-connection':\n        return await testFirebaseConnection();\n        \n      default:\n        return NextResponse.json(\n          { error: 'Invalid action' },\n          { status: 400 }\n        );\n    }\n    \n  } catch (error) {\n    console.error(`\u274C Firebase proxy error:`, error);\n    return NextResponse.json(\n      { error: 'Firebase proxy error' },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * Initiate Google OAuth flow - returns authorization URL\n */\nasync function initiateGoogleAuth(request: NextRequest) {\n  try {\n    // Get Google OAuth client configuration\n    const clientId = '660242808945-' + // Your actual Google OAuth client ID\n      (process.env.GOOGLE_CLIENT_ID_SUFFIX || 'YOUR_CLIENT_ID.apps.googleusercontent.com');\n    \n    const baseUrl = request.nextUrl.origin;\n    const redirectUri = `${baseUrl}/api/auth/firebase-proxy/callback`;\n    \n    const scope = encodeURIComponent('openid profile email');\n    const state = Math.random().toString(36).substring(2, 15);\n    \n    // Store state in session for security (you might want to use a more robust storage)\n    const authUrl = `https://accounts.google.com/o/oauth2/v2/auth?` +\n      `client_id=${clientId}&` +\n      `redirect_uri=${encodeURIComponent(redirectUri)}&` +\n      `response_type=code&` +\n      `scope=${scope}&` +\n      `state=${state}&` +\n      `prompt=select_account`;\n    \n    console.log(`\uD83D\uDD10 Generated Google auth URL`);\n    \n    return NextResponse.json({\n      success: true,\n      authUrl,\n      state\n    });\n    \n  } catch (error) {\n    console.error('\u274C Failed to initiate Google auth:', error);\n    return NextResponse.json(\n      { error: 'Failed to initiate authentication' },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * Complete Google OAuth and create Firebase token\n */\nasync function completeGoogleAuth(data: any) {\n  try {\n    const { code, state } = data;\n    \n    if (!code) {\n      throw new Error('Authorization code is required');\n    }\n    \n    // Exchange code for tokens using server-side request\n    const clientId = '660242808945-' + \n      (process.env.GOOGLE_CLIENT_ID_SUFFIX || 'YOUR_CLIENT_ID.apps.googleusercontent.com');\n    const clientSecret = process.env.GOOGLE_CLIENT_SECRET || 'your-client-secret';\n    const redirectUri = `${process.env.NEXTAUTH_URL || 'http://localhost:3000'}/api/auth/firebase-proxy/callback`;\n    \n    // Exchange authorization code for access token\n    const tokenResponse = await fetch('https://oauth2.googleapis.com/token', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: new URLSearchParams({\n        client_id: clientId,\n        client_secret: clientSecret,\n        code: code,\n        grant_type: 'authorization_code',\n        redirect_uri: redirectUri,\n      }),\n    });\n    \n    if (!tokenResponse.ok) {\n      const errorText = await tokenResponse.text();\n      throw new Error(`Token exchange failed: ${errorText}`);\n    }\n    \n    const tokenData = await tokenResponse.json();\n    \n    // Get user info from Google\n    const userResponse = await fetch('https://www.googleapis.com/oauth2/v2/userinfo', {\n      headers: {\n        'Authorization': `Bearer ${tokenData.access_token}`,\n      },\n    });\n    \n    if (!userResponse.ok) {\n      throw new Error('Failed to get user info from Google');\n    }\n    \n    const googleUser = await userResponse.json();\n    \n    // Create a mock Firebase ID token (since we can't use Firebase client-side)\n    const mockFirebaseToken = createMockFirebaseIdToken(googleUser);\n    \n    console.log(`\u2705 Google OAuth completed for user: ${googleUser.email}`);\n    \n    return NextResponse.json({\n      success: true,\n      user: {\n        uid: googleUser.id,\n        email: googleUser.email,\n        displayName: googleUser.name,\n        photoURL: googleUser.picture,\n        emailVerified: googleUser.verified_email\n      },\n      idToken: mockFirebaseToken\n    });\n    \n  } catch (error) {\n    console.error('\u274C Failed to complete Google auth:', error);\n    return NextResponse.json(\n      { error: `Authentication failed: ${error instanceof Error ? error.message : 'Unknown error'}` },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * Test Firebase connection from server-side\n */\nasync function testFirebaseConnection() {\n  try {\n    const apiKey = process.env.NEXT_PUBLIC_FIREBASE_API_KEY;\n    const projectId = process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID || 'prepbettr';\n    \n    // Test Firebase Identity Toolkit from server-side\n    const testUrl = `https://identitytoolkit.googleapis.com/v1/projects/${projectId}:getConfig?key=${apiKey}`;\n    \n    const response = await fetch(testUrl, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n    \n    console.log(`\uD83D\uDD25 Firebase connection test: ${response.status}`);\n    \n    if (response.ok) {\n      const config = await response.json();\n      return NextResponse.json({\n        success: true,\n        message: 'Firebase connection successful',\n        config: {\n          projectId: config.projectId,\n          authDomain: config.authDomain,\n          providers: config.signIn || {}\n        }\n      });\n    } else {\n      const errorText = await response.text();\n      return NextResponse.json({\n        success: false,\n        error: `Firebase test failed: ${errorText}`\n      });\n    }\n    \n  } catch (error) {\n    return NextResponse.json({\n      success: false,\n      error: `Firebase connection test failed: ${error instanceof Error ? error.message : 'Unknown error'}`\n    });\n  }\n}\n\n/**\n * Create a mock Firebase-compatible ID token\n */\nfunction createMockFirebaseIdToken(googleUser: any) {\n  const header = {\n    alg: 'RS256',\n    kid: 'server-proxy',\n    typ: 'JWT'\n  };\n  \n  const now = Math.floor(Date.now() / 1000);\n  const payload = {\n    iss: 'https://securetoken.google.com/prepbettr',\n    aud: 'prepbettr',\n    auth_time: now,\n    user_id: googleUser.id,\n    uid: googleUser.id,\n    sub: googleUser.id,\n    iat: now,\n    exp: now + (60 * 60), // 1 hour\n    email: googleUser.email,\n    email_verified: googleUser.verified_email || true,\n    name: googleUser.name,\n    picture: googleUser.picture,\n    firebase: {\n      identities: {\n        'google.com': [googleUser.id],\n        email: [googleUser.email]\n      },\n      sign_in_provider: 'google.com'\n    }\n  };\n  \n  // Create JWT without signature (for development/server-side proxy)\n  const encodedHeader = Buffer.from(JSON.stringify(header)).toString('base64url');\n  const encodedPayload = Buffer.from(JSON.stringify(payload)).toString('base64url');\n  \n  return `${encodedHeader}.${encodedPayload}.server-proxy-signature`;\n}"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "1186c19a71ba4753df83579db30d39768155e9ca"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2ia6v754lj = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2ia6v754lj();
cov_2ia6v754lj().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_2ia6v754lj().s[1]++;
exports.POST = POST;
const server_1 =
/* istanbul ignore next */
(cov_2ia6v754lj().s[2]++, require("next/server"));
/**
 * Firebase Auth Proxy Route
 *
 * This route acts as a server-side proxy for Firebase authentication
 * to bypass browser network connectivity issues with Firebase services.
 *
 * It handles Google OAuth flow entirely on the server side.
 */
async function POST(request) {
  /* istanbul ignore next */
  cov_2ia6v754lj().f[0]++;
  const timestamp =
  /* istanbul ignore next */
  (cov_2ia6v754lj().s[3]++, new Date().toISOString());
  /* istanbul ignore next */
  cov_2ia6v754lj().s[4]++;
  console.log(`üåê [${timestamp}] Firebase Auth Proxy called`);
  /* istanbul ignore next */
  cov_2ia6v754lj().s[5]++;
  try {
    const {
      action,
      data
    } =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[6]++, await request.json());
    /* istanbul ignore next */
    cov_2ia6v754lj().s[7]++;
    switch (action) {
      case 'initiate-google-auth':
        /* istanbul ignore next */
        cov_2ia6v754lj().b[0][0]++;
        cov_2ia6v754lj().s[8]++;
        return await initiateGoogleAuth(request);
      case 'complete-google-auth':
        /* istanbul ignore next */
        cov_2ia6v754lj().b[0][1]++;
        cov_2ia6v754lj().s[9]++;
        return await completeGoogleAuth(data);
      case 'test-firebase-connection':
        /* istanbul ignore next */
        cov_2ia6v754lj().b[0][2]++;
        cov_2ia6v754lj().s[10]++;
        return await testFirebaseConnection();
      default:
        /* istanbul ignore next */
        cov_2ia6v754lj().b[0][3]++;
        cov_2ia6v754lj().s[11]++;
        return server_1.NextResponse.json({
          error: 'Invalid action'
        }, {
          status: 400
        });
    }
  } catch (error) {
    /* istanbul ignore next */
    cov_2ia6v754lj().s[12]++;
    console.error(`‚ùå Firebase proxy error:`, error);
    /* istanbul ignore next */
    cov_2ia6v754lj().s[13]++;
    return server_1.NextResponse.json({
      error: 'Firebase proxy error'
    }, {
      status: 500
    });
  }
}
/**
 * Initiate Google OAuth flow - returns authorization URL
 */
async function initiateGoogleAuth(request) {
  /* istanbul ignore next */
  cov_2ia6v754lj().f[1]++;
  cov_2ia6v754lj().s[14]++;
  try {
    // Get Google OAuth client configuration
    const clientId =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[15]++, '660242808945-' + (
    // Your actual Google OAuth client ID
    /* istanbul ignore next */
    (cov_2ia6v754lj().b[1][0]++, process.env.GOOGLE_CLIENT_ID_SUFFIX) ||
    /* istanbul ignore next */
    (cov_2ia6v754lj().b[1][1]++, 'YOUR_CLIENT_ID.apps.googleusercontent.com')));
    const baseUrl =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[16]++, request.nextUrl.origin);
    const redirectUri =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[17]++, `${baseUrl}/api/auth/firebase-proxy/callback`);
    const scope =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[18]++, encodeURIComponent('openid profile email'));
    const state =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[19]++, Math.random().toString(36).substring(2, 15));
    // Store state in session for security (you might want to use a more robust storage)
    const authUrl =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[20]++, `https://accounts.google.com/o/oauth2/v2/auth?` + `client_id=${clientId}&` + `redirect_uri=${encodeURIComponent(redirectUri)}&` + `response_type=code&` + `scope=${scope}&` + `state=${state}&` + `prompt=select_account`);
    /* istanbul ignore next */
    cov_2ia6v754lj().s[21]++;
    console.log(`üîê Generated Google auth URL`);
    /* istanbul ignore next */
    cov_2ia6v754lj().s[22]++;
    return server_1.NextResponse.json({
      success: true,
      authUrl,
      state
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2ia6v754lj().s[23]++;
    console.error('‚ùå Failed to initiate Google auth:', error);
    /* istanbul ignore next */
    cov_2ia6v754lj().s[24]++;
    return server_1.NextResponse.json({
      error: 'Failed to initiate authentication'
    }, {
      status: 500
    });
  }
}
/**
 * Complete Google OAuth and create Firebase token
 */
async function completeGoogleAuth(data) {
  /* istanbul ignore next */
  cov_2ia6v754lj().f[2]++;
  cov_2ia6v754lj().s[25]++;
  try {
    const {
      code,
      state
    } =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[26]++, data);
    /* istanbul ignore next */
    cov_2ia6v754lj().s[27]++;
    if (!code) {
      /* istanbul ignore next */
      cov_2ia6v754lj().b[2][0]++;
      cov_2ia6v754lj().s[28]++;
      throw new Error('Authorization code is required');
    } else
    /* istanbul ignore next */
    {
      cov_2ia6v754lj().b[2][1]++;
    }
    // Exchange code for tokens using server-side request
    const clientId =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[29]++, '660242808945-' + (
    /* istanbul ignore next */
    (cov_2ia6v754lj().b[3][0]++, process.env.GOOGLE_CLIENT_ID_SUFFIX) ||
    /* istanbul ignore next */
    (cov_2ia6v754lj().b[3][1]++, 'YOUR_CLIENT_ID.apps.googleusercontent.com')));
    const clientSecret =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[30]++,
    /* istanbul ignore next */
    (cov_2ia6v754lj().b[4][0]++, process.env.GOOGLE_CLIENT_SECRET) ||
    /* istanbul ignore next */
    (cov_2ia6v754lj().b[4][1]++, 'your-client-secret'));
    const redirectUri =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[31]++, `${
    /* istanbul ignore next */
    (cov_2ia6v754lj().b[5][0]++, process.env.NEXTAUTH_URL) ||
    /* istanbul ignore next */
    (cov_2ia6v754lj().b[5][1]++, 'http://localhost:3000')}/api/auth/firebase-proxy/callback`);
    // Exchange authorization code for access token
    const tokenResponse =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[32]++, await fetch('https://oauth2.googleapis.com/token', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded'
      },
      body: new URLSearchParams({
        client_id: clientId,
        client_secret: clientSecret,
        code: code,
        grant_type: 'authorization_code',
        redirect_uri: redirectUri
      })
    }));
    /* istanbul ignore next */
    cov_2ia6v754lj().s[33]++;
    if (!tokenResponse.ok) {
      /* istanbul ignore next */
      cov_2ia6v754lj().b[6][0]++;
      const errorText =
      /* istanbul ignore next */
      (cov_2ia6v754lj().s[34]++, await tokenResponse.text());
      /* istanbul ignore next */
      cov_2ia6v754lj().s[35]++;
      throw new Error(`Token exchange failed: ${errorText}`);
    } else
    /* istanbul ignore next */
    {
      cov_2ia6v754lj().b[6][1]++;
    }
    const tokenData =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[36]++, await tokenResponse.json());
    // Get user info from Google
    const userResponse =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[37]++, await fetch('https://www.googleapis.com/oauth2/v2/userinfo', {
      headers: {
        'Authorization': `Bearer ${tokenData.access_token}`
      }
    }));
    /* istanbul ignore next */
    cov_2ia6v754lj().s[38]++;
    if (!userResponse.ok) {
      /* istanbul ignore next */
      cov_2ia6v754lj().b[7][0]++;
      cov_2ia6v754lj().s[39]++;
      throw new Error('Failed to get user info from Google');
    } else
    /* istanbul ignore next */
    {
      cov_2ia6v754lj().b[7][1]++;
    }
    const googleUser =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[40]++, await userResponse.json());
    // Create a mock Firebase ID token (since we can't use Firebase client-side)
    const mockFirebaseToken =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[41]++, createMockFirebaseIdToken(googleUser));
    /* istanbul ignore next */
    cov_2ia6v754lj().s[42]++;
    console.log(`‚úÖ Google OAuth completed for user: ${googleUser.email}`);
    /* istanbul ignore next */
    cov_2ia6v754lj().s[43]++;
    return server_1.NextResponse.json({
      success: true,
      user: {
        uid: googleUser.id,
        email: googleUser.email,
        displayName: googleUser.name,
        photoURL: googleUser.picture,
        emailVerified: googleUser.verified_email
      },
      idToken: mockFirebaseToken
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2ia6v754lj().s[44]++;
    console.error('‚ùå Failed to complete Google auth:', error);
    /* istanbul ignore next */
    cov_2ia6v754lj().s[45]++;
    return server_1.NextResponse.json({
      error: `Authentication failed: ${error instanceof Error ?
      /* istanbul ignore next */
      (cov_2ia6v754lj().b[8][0]++, error.message) :
      /* istanbul ignore next */
      (cov_2ia6v754lj().b[8][1]++, 'Unknown error')}`
    }, {
      status: 500
    });
  }
}
/**
 * Test Firebase connection from server-side
 */
async function testFirebaseConnection() {
  /* istanbul ignore next */
  cov_2ia6v754lj().f[3]++;
  cov_2ia6v754lj().s[46]++;
  try {
    const apiKey =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[47]++, process.env.NEXT_PUBLIC_FIREBASE_API_KEY);
    const projectId =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[48]++,
    /* istanbul ignore next */
    (cov_2ia6v754lj().b[9][0]++, process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID) ||
    /* istanbul ignore next */
    (cov_2ia6v754lj().b[9][1]++, 'prepbettr'));
    // Test Firebase Identity Toolkit from server-side
    const testUrl =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[49]++, `https://identitytoolkit.googleapis.com/v1/projects/${projectId}:getConfig?key=${apiKey}`);
    const response =
    /* istanbul ignore next */
    (cov_2ia6v754lj().s[50]++, await fetch(testUrl, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      }
    }));
    /* istanbul ignore next */
    cov_2ia6v754lj().s[51]++;
    console.log(`üî• Firebase connection test: ${response.status}`);
    /* istanbul ignore next */
    cov_2ia6v754lj().s[52]++;
    if (response.ok) {
      /* istanbul ignore next */
      cov_2ia6v754lj().b[10][0]++;
      const config =
      /* istanbul ignore next */
      (cov_2ia6v754lj().s[53]++, await response.json());
      /* istanbul ignore next */
      cov_2ia6v754lj().s[54]++;
      return server_1.NextResponse.json({
        success: true,
        message: 'Firebase connection successful',
        config: {
          projectId: config.projectId,
          authDomain: config.authDomain,
          providers:
          /* istanbul ignore next */
          (cov_2ia6v754lj().b[11][0]++, config.signIn) ||
          /* istanbul ignore next */
          (cov_2ia6v754lj().b[11][1]++, {})
        }
      });
    } else {
      /* istanbul ignore next */
      cov_2ia6v754lj().b[10][1]++;
      const errorText =
      /* istanbul ignore next */
      (cov_2ia6v754lj().s[55]++, await response.text());
      /* istanbul ignore next */
      cov_2ia6v754lj().s[56]++;
      return server_1.NextResponse.json({
        success: false,
        error: `Firebase test failed: ${errorText}`
      });
    }
  } catch (error) {
    /* istanbul ignore next */
    cov_2ia6v754lj().s[57]++;
    return server_1.NextResponse.json({
      success: false,
      error: `Firebase connection test failed: ${error instanceof Error ?
      /* istanbul ignore next */
      (cov_2ia6v754lj().b[12][0]++, error.message) :
      /* istanbul ignore next */
      (cov_2ia6v754lj().b[12][1]++, 'Unknown error')}`
    });
  }
}
/**
 * Create a mock Firebase-compatible ID token
 */
function createMockFirebaseIdToken(googleUser) {
  /* istanbul ignore next */
  cov_2ia6v754lj().f[4]++;
  const header =
  /* istanbul ignore next */
  (cov_2ia6v754lj().s[58]++, {
    alg: 'RS256',
    kid: 'server-proxy',
    typ: 'JWT'
  });
  const now =
  /* istanbul ignore next */
  (cov_2ia6v754lj().s[59]++, Math.floor(Date.now() / 1000));
  const payload =
  /* istanbul ignore next */
  (cov_2ia6v754lj().s[60]++, {
    iss: 'https://securetoken.google.com/prepbettr',
    aud: 'prepbettr',
    auth_time: now,
    user_id: googleUser.id,
    uid: googleUser.id,
    sub: googleUser.id,
    iat: now,
    exp: now + 60 * 60,
    // 1 hour
    email: googleUser.email,
    email_verified:
    /* istanbul ignore next */
    (cov_2ia6v754lj().b[13][0]++, googleUser.verified_email) ||
    /* istanbul ignore next */
    (cov_2ia6v754lj().b[13][1]++, true),
    name: googleUser.name,
    picture: googleUser.picture,
    firebase: {
      identities: {
        'google.com': [googleUser.id],
        email: [googleUser.email]
      },
      sign_in_provider: 'google.com'
    }
  });
  // Create JWT without signature (for development/server-side proxy)
  const encodedHeader =
  /* istanbul ignore next */
  (cov_2ia6v754lj().s[61]++, Buffer.from(JSON.stringify(header)).toString('base64url'));
  const encodedPayload =
  /* istanbul ignore next */
  (cov_2ia6v754lj().s[62]++, Buffer.from(JSON.stringify(payload)).toString('base64url'));
  /* istanbul ignore next */
  cov_2ia6v754lj().s[63]++;
  return `${encodedHeader}.${encodedPayload}.server-proxy-signature`;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmlhNnY3NTRsaiIsImFjdHVhbENvdmVyYWdlIiwicyIsImV4cG9ydHMiLCJQT1NUIiwic2VydmVyXzEiLCJyZXF1aXJlIiwicmVxdWVzdCIsImYiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJjb25zb2xlIiwibG9nIiwiYWN0aW9uIiwiZGF0YSIsImpzb24iLCJiIiwiaW5pdGlhdGVHb29nbGVBdXRoIiwiY29tcGxldGVHb29nbGVBdXRoIiwidGVzdEZpcmViYXNlQ29ubmVjdGlvbiIsIk5leHRSZXNwb25zZSIsImVycm9yIiwic3RhdHVzIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX0NMSUVOVF9JRF9TVUZGSVgiLCJiYXNlVXJsIiwibmV4dFVybCIsIm9yaWdpbiIsInJlZGlyZWN0VXJpIiwic2NvcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzdGF0ZSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImF1dGhVcmwiLCJzdWNjZXNzIiwiY29kZSIsIkVycm9yIiwiY2xpZW50U2VjcmV0IiwiR09PR0xFX0NMSUVOVF9TRUNSRVQiLCJORVhUQVVUSF9VUkwiLCJ0b2tlblJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIlVSTFNlYXJjaFBhcmFtcyIsImNsaWVudF9pZCIsImNsaWVudF9zZWNyZXQiLCJncmFudF90eXBlIiwicmVkaXJlY3RfdXJpIiwib2siLCJlcnJvclRleHQiLCJ0ZXh0IiwidG9rZW5EYXRhIiwidXNlclJlc3BvbnNlIiwiYWNjZXNzX3Rva2VuIiwiZ29vZ2xlVXNlciIsIm1vY2tGaXJlYmFzZVRva2VuIiwiY3JlYXRlTW9ja0ZpcmViYXNlSWRUb2tlbiIsImVtYWlsIiwidXNlciIsInVpZCIsImlkIiwiZGlzcGxheU5hbWUiLCJuYW1lIiwicGhvdG9VUkwiLCJwaWN0dXJlIiwiZW1haWxWZXJpZmllZCIsInZlcmlmaWVkX2VtYWlsIiwiaWRUb2tlbiIsIm1lc3NhZ2UiLCJhcGlLZXkiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BUElfS0VZIiwicHJvamVjdElkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRCIsInRlc3RVcmwiLCJyZXNwb25zZSIsImNvbmZpZyIsImF1dGhEb21haW4iLCJwcm92aWRlcnMiLCJzaWduSW4iLCJoZWFkZXIiLCJhbGciLCJraWQiLCJ0eXAiLCJub3ciLCJmbG9vciIsInBheWxvYWQiLCJpc3MiLCJhdWQiLCJhdXRoX3RpbWUiLCJ1c2VyX2lkIiwic3ViIiwiaWF0IiwiZXhwIiwiZW1haWxfdmVyaWZpZWQiLCJmaXJlYmFzZSIsImlkZW50aXRpZXMiLCJzaWduX2luX3Byb3ZpZGVyIiwiZW5jb2RlZEhlYWRlciIsIkJ1ZmZlciIsImZyb20iLCJKU09OIiwic3RyaW5naWZ5IiwiZW5jb2RlZFBheWxvYWQiXSwic291cmNlcyI6WyIvVXNlcnMvZGlrc2hhbnR2YXNoaXN0aGEvUHJlcEJldHRyL2FwcC9hcGkvYXV0aC9maXJlYmFzZS1wcm94eS9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuXG4vKipcbiAqIEZpcmViYXNlIEF1dGggUHJveHkgUm91dGVcbiAqIFxuICogVGhpcyByb3V0ZSBhY3RzIGFzIGEgc2VydmVyLXNpZGUgcHJveHkgZm9yIEZpcmViYXNlIGF1dGhlbnRpY2F0aW9uXG4gKiB0byBieXBhc3MgYnJvd3NlciBuZXR3b3JrIGNvbm5lY3Rpdml0eSBpc3N1ZXMgd2l0aCBGaXJlYmFzZSBzZXJ2aWNlcy5cbiAqIFxuICogSXQgaGFuZGxlcyBHb29nbGUgT0F1dGggZmxvdyBlbnRpcmVseSBvbiB0aGUgc2VydmVyIHNpZGUuXG4gKi9cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICBjb25zb2xlLmxvZyhg8J+MkCBbJHt0aW1lc3RhbXB9XSBGaXJlYmFzZSBBdXRoIFByb3h5IGNhbGxlZGApO1xuICBcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGFjdGlvbiwgZGF0YSB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgJ2luaXRpYXRlLWdvb2dsZS1hdXRoJzpcbiAgICAgICAgcmV0dXJuIGF3YWl0IGluaXRpYXRlR29vZ2xlQXV0aChyZXF1ZXN0KTtcbiAgICAgICAgXG4gICAgICBjYXNlICdjb21wbGV0ZS1nb29nbGUtYXV0aCc6XG4gICAgICAgIHJldHVybiBhd2FpdCBjb21wbGV0ZUdvb2dsZUF1dGgoZGF0YSk7XG4gICAgICAgIFxuICAgICAgY2FzZSAndGVzdC1maXJlYmFzZS1jb25uZWN0aW9uJzpcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRlc3RGaXJlYmFzZUNvbm5lY3Rpb24oKTtcbiAgICAgICAgXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgeyBlcnJvcjogJ0ludmFsaWQgYWN0aW9uJyB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgICApO1xuICAgIH1cbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGDinYwgRmlyZWJhc2UgcHJveHkgZXJyb3I6YCwgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGaXJlYmFzZSBwcm94eSBlcnJvcicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBJbml0aWF0ZSBHb29nbGUgT0F1dGggZmxvdyAtIHJldHVybnMgYXV0aG9yaXphdGlvbiBVUkxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gaW5pdGlhdGVHb29nbGVBdXRoKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IEdvb2dsZSBPQXV0aCBjbGllbnQgY29uZmlndXJhdGlvblxuICAgIGNvbnN0IGNsaWVudElkID0gJzY2MDI0MjgwODk0NS0nICsgLy8gWW91ciBhY3R1YWwgR29vZ2xlIE9BdXRoIGNsaWVudCBJRFxuICAgICAgKHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfSURfU1VGRklYIHx8ICdZT1VSX0NMSUVOVF9JRC5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbScpO1xuICAgIFxuICAgIGNvbnN0IGJhc2VVcmwgPSByZXF1ZXN0Lm5leHRVcmwub3JpZ2luO1xuICAgIGNvbnN0IHJlZGlyZWN0VXJpID0gYCR7YmFzZVVybH0vYXBpL2F1dGgvZmlyZWJhc2UtcHJveHkvY2FsbGJhY2tgO1xuICAgIFxuICAgIGNvbnN0IHNjb3BlID0gZW5jb2RlVVJJQ29tcG9uZW50KCdvcGVuaWQgcHJvZmlsZSBlbWFpbCcpO1xuICAgIGNvbnN0IHN0YXRlID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KTtcbiAgICBcbiAgICAvLyBTdG9yZSBzdGF0ZSBpbiBzZXNzaW9uIGZvciBzZWN1cml0eSAoeW91IG1pZ2h0IHdhbnQgdG8gdXNlIGEgbW9yZSByb2J1c3Qgc3RvcmFnZSlcbiAgICBjb25zdCBhdXRoVXJsID0gYGh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi92Mi9hdXRoP2AgK1xuICAgICAgYGNsaWVudF9pZD0ke2NsaWVudElkfSZgICtcbiAgICAgIGByZWRpcmVjdF91cmk9JHtlbmNvZGVVUklDb21wb25lbnQocmVkaXJlY3RVcmkpfSZgICtcbiAgICAgIGByZXNwb25zZV90eXBlPWNvZGUmYCArXG4gICAgICBgc2NvcGU9JHtzY29wZX0mYCArXG4gICAgICBgc3RhdGU9JHtzdGF0ZX0mYCArXG4gICAgICBgcHJvbXB0PXNlbGVjdF9hY2NvdW50YDtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhg8J+UkCBHZW5lcmF0ZWQgR29vZ2xlIGF1dGggVVJMYCk7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBhdXRoVXJsLFxuICAgICAgc3RhdGVcbiAgICB9KTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGluaXRpYXRlIEdvb2dsZSBhdXRoOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGluaXRpYXRlIGF1dGhlbnRpY2F0aW9uJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIENvbXBsZXRlIEdvb2dsZSBPQXV0aCBhbmQgY3JlYXRlIEZpcmViYXNlIHRva2VuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNvbXBsZXRlR29vZ2xlQXV0aChkYXRhOiBhbnkpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNvZGUsIHN0YXRlIH0gPSBkYXRhO1xuICAgIFxuICAgIGlmICghY29kZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdXRob3JpemF0aW9uIGNvZGUgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG4gICAgXG4gICAgLy8gRXhjaGFuZ2UgY29kZSBmb3IgdG9rZW5zIHVzaW5nIHNlcnZlci1zaWRlIHJlcXVlc3RcbiAgICBjb25zdCBjbGllbnRJZCA9ICc2NjAyNDI4MDg5NDUtJyArIFxuICAgICAgKHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfSURfU1VGRklYIHx8ICdZT1VSX0NMSUVOVF9JRC5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbScpO1xuICAgIGNvbnN0IGNsaWVudFNlY3JldCA9IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfU0VDUkVUIHx8ICd5b3VyLWNsaWVudC1zZWNyZXQnO1xuICAgIGNvbnN0IHJlZGlyZWN0VXJpID0gYCR7cHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnfS9hcGkvYXV0aC9maXJlYmFzZS1wcm94eS9jYWxsYmFja2A7XG4gICAgXG4gICAgLy8gRXhjaGFuZ2UgYXV0aG9yaXphdGlvbiBjb2RlIGZvciBhY2Nlc3MgdG9rZW5cbiAgICBjb25zdCB0b2tlblJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgICAgY2xpZW50X2lkOiBjbGllbnRJZCxcbiAgICAgICAgY2xpZW50X3NlY3JldDogY2xpZW50U2VjcmV0LFxuICAgICAgICBjb2RlOiBjb2RlLFxuICAgICAgICBncmFudF90eXBlOiAnYXV0aG9yaXphdGlvbl9jb2RlJyxcbiAgICAgICAgcmVkaXJlY3RfdXJpOiByZWRpcmVjdFVyaSxcbiAgICAgIH0pLFxuICAgIH0pO1xuICAgIFxuICAgIGlmICghdG9rZW5SZXNwb25zZS5vaykge1xuICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgdG9rZW5SZXNwb25zZS50ZXh0KCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRva2VuIGV4Y2hhbmdlIGZhaWxlZDogJHtlcnJvclRleHR9YCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHRva2VuRGF0YSA9IGF3YWl0IHRva2VuUmVzcG9uc2UuanNvbigpO1xuICAgIFxuICAgIC8vIEdldCB1c2VyIGluZm8gZnJvbSBHb29nbGVcbiAgICBjb25zdCB1c2VyUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YyL3VzZXJpbmZvJywge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbkRhdGEuYWNjZXNzX3Rva2VufWAsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIFxuICAgIGlmICghdXNlclJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBnZXQgdXNlciBpbmZvIGZyb20gR29vZ2xlJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGdvb2dsZVVzZXIgPSBhd2FpdCB1c2VyUmVzcG9uc2UuanNvbigpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBhIG1vY2sgRmlyZWJhc2UgSUQgdG9rZW4gKHNpbmNlIHdlIGNhbid0IHVzZSBGaXJlYmFzZSBjbGllbnQtc2lkZSlcbiAgICBjb25zdCBtb2NrRmlyZWJhc2VUb2tlbiA9IGNyZWF0ZU1vY2tGaXJlYmFzZUlkVG9rZW4oZ29vZ2xlVXNlcik7XG4gICAgXG4gICAgY29uc29sZS5sb2coYOKchSBHb29nbGUgT0F1dGggY29tcGxldGVkIGZvciB1c2VyOiAke2dvb2dsZVVzZXIuZW1haWx9YCk7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICB1c2VyOiB7XG4gICAgICAgIHVpZDogZ29vZ2xlVXNlci5pZCxcbiAgICAgICAgZW1haWw6IGdvb2dsZVVzZXIuZW1haWwsXG4gICAgICAgIGRpc3BsYXlOYW1lOiBnb29nbGVVc2VyLm5hbWUsXG4gICAgICAgIHBob3RvVVJMOiBnb29nbGVVc2VyLnBpY3R1cmUsXG4gICAgICAgIGVtYWlsVmVyaWZpZWQ6IGdvb2dsZVVzZXIudmVyaWZpZWRfZW1haWxcbiAgICAgIH0sXG4gICAgICBpZFRva2VuOiBtb2NrRmlyZWJhc2VUb2tlblxuICAgIH0pO1xuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gY29tcGxldGUgR29vZ2xlIGF1dGg6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IGBBdXRoZW50aWNhdGlvbiBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIFRlc3QgRmlyZWJhc2UgY29ubmVjdGlvbiBmcm9tIHNlcnZlci1zaWRlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHRlc3RGaXJlYmFzZUNvbm5lY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWTtcbiAgICBjb25zdCBwcm9qZWN0SWQgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9QUk9KRUNUX0lEIHx8ICdwcmVwYmV0dHInO1xuICAgIFxuICAgIC8vIFRlc3QgRmlyZWJhc2UgSWRlbnRpdHkgVG9vbGtpdCBmcm9tIHNlcnZlci1zaWRlXG4gICAgY29uc3QgdGVzdFVybCA9IGBodHRwczovL2lkZW50aXR5dG9vbGtpdC5nb29nbGVhcGlzLmNvbS92MS9wcm9qZWN0cy8ke3Byb2plY3RJZH06Z2V0Q29uZmlnP2tleT0ke2FwaUtleX1gO1xuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGVzdFVybCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYPCflKUgRmlyZWJhc2UgY29ubmVjdGlvbiB0ZXN0OiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICBcbiAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIG1lc3NhZ2U6ICdGaXJlYmFzZSBjb25uZWN0aW9uIHN1Y2Nlc3NmdWwnLFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBwcm9qZWN0SWQ6IGNvbmZpZy5wcm9qZWN0SWQsXG4gICAgICAgICAgYXV0aERvbWFpbjogY29uZmlnLmF1dGhEb21haW4sXG4gICAgICAgICAgcHJvdmlkZXJzOiBjb25maWcuc2lnbkluIHx8IHt9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGBGaXJlYmFzZSB0ZXN0IGZhaWxlZDogJHtlcnJvclRleHR9YFxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBgRmlyZWJhc2UgY29ubmVjdGlvbiB0ZXN0IGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBtb2NrIEZpcmViYXNlLWNvbXBhdGlibGUgSUQgdG9rZW5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTW9ja0ZpcmViYXNlSWRUb2tlbihnb29nbGVVc2VyOiBhbnkpIHtcbiAgY29uc3QgaGVhZGVyID0ge1xuICAgIGFsZzogJ1JTMjU2JyxcbiAgICBraWQ6ICdzZXJ2ZXItcHJveHknLFxuICAgIHR5cDogJ0pXVCdcbiAgfTtcbiAgXG4gIGNvbnN0IG5vdyA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIGlzczogJ2h0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9wcmVwYmV0dHInLFxuICAgIGF1ZDogJ3ByZXBiZXR0cicsXG4gICAgYXV0aF90aW1lOiBub3csXG4gICAgdXNlcl9pZDogZ29vZ2xlVXNlci5pZCxcbiAgICB1aWQ6IGdvb2dsZVVzZXIuaWQsXG4gICAgc3ViOiBnb29nbGVVc2VyLmlkLFxuICAgIGlhdDogbm93LFxuICAgIGV4cDogbm93ICsgKDYwICogNjApLCAvLyAxIGhvdXJcbiAgICBlbWFpbDogZ29vZ2xlVXNlci5lbWFpbCxcbiAgICBlbWFpbF92ZXJpZmllZDogZ29vZ2xlVXNlci52ZXJpZmllZF9lbWFpbCB8fCB0cnVlLFxuICAgIG5hbWU6IGdvb2dsZVVzZXIubmFtZSxcbiAgICBwaWN0dXJlOiBnb29nbGVVc2VyLnBpY3R1cmUsXG4gICAgZmlyZWJhc2U6IHtcbiAgICAgIGlkZW50aXRpZXM6IHtcbiAgICAgICAgJ2dvb2dsZS5jb20nOiBbZ29vZ2xlVXNlci5pZF0sXG4gICAgICAgIGVtYWlsOiBbZ29vZ2xlVXNlci5lbWFpbF1cbiAgICAgIH0sXG4gICAgICBzaWduX2luX3Byb3ZpZGVyOiAnZ29vZ2xlLmNvbSdcbiAgICB9XG4gIH07XG4gIFxuICAvLyBDcmVhdGUgSldUIHdpdGhvdXQgc2lnbmF0dXJlIChmb3IgZGV2ZWxvcG1lbnQvc2VydmVyLXNpZGUgcHJveHkpXG4gIGNvbnN0IGVuY29kZWRIZWFkZXIgPSBCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeShoZWFkZXIpKS50b1N0cmluZygnYmFzZTY0dXJsJyk7XG4gIGNvbnN0IGVuY29kZWRQYXlsb2FkID0gQnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpLnRvU3RyaW5nKCdiYXNlNjR1cmwnKTtcbiAgXG4gIHJldHVybiBgJHtlbmNvZGVkSGVhZGVyfS4ke2VuY29kZWRQYXlsb2FkfS5zZXJ2ZXItcHJveHktc2lnbmF0dXJlYDtcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWVPO0lBQUFBLGNBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUFDLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFBO0FBQUFELGNBQUE7QUFBQUEsY0FBQSxHQUFBRSxDQUFBOzs7Ozs7QUFKUEMsT0FBQSxDQUFBQyxJQUFBLEdBQUFBLElBQUE7QUFYQSxNQUFBQyxRQUFBO0FBQUE7QUFBQSxDQUFBTCxjQUFBLEdBQUFFLENBQUEsT0FBQUksT0FBQTtBQUVBOzs7Ozs7OztBQVNPLGVBQWVGLElBQUlBLENBQUNHLE9BQW9CO0VBQUE7RUFBQVAsY0FBQSxHQUFBUSxDQUFBO0VBQzdDLE1BQU1DLFNBQVM7RUFBQTtFQUFBLENBQUFULGNBQUEsR0FBQUUsQ0FBQSxPQUFHLElBQUlRLElBQUksRUFBRSxDQUFD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